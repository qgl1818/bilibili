/*!
 *Last modified: 2023-03-15 19:24:18
 *Filename: ax.js
 *Description: Global JS
 *Version: v2.0.9
 *Website:www.axui.cn or ax.hobly.cn
 *Contact:3217728223@qq.com
 *Author:Michael
 */
/*!
 * Fuse.js v6.5.3 from https://github.com/krisk/Fuse  or http://fusejs.io | AXUI增加了window变量
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=window||t||self).Fuse=e()}(this,(function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function e(e){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?t(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");var i,s;Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&(i=t,s=e,(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(i,s))}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=l(t);if(e){var a=l(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return h(this,i)}}function c(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function u(t){return Array.isArray?Array.isArray(t):"[object Array]"===b(t)}function m(t){return"string"==typeof t}function f(t){return"number"==typeof t}function g(t){return!0===t||!1===t||function(t){return x(t)&&null!==t}(t)&&"[object Boolean]"==b(t)}function x(t){return"object"===i(t)}function v(t){return null!=t}function y(t){return!t.trim().length}function b(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var w=function(t){return"Invalid value for key ".concat(t)},D=function(t){return"Pattern length exceeds max of ".concat(t,".")},T=Object.prototype.hasOwnProperty,E=function(){function t(e){var i=this;s(this,t),this._keys=[],this._keyMap={};var a=0;e.forEach((function(t){var e=M(t);a+=e.weight,i._keys.push(e),i._keyMap[e.id]=e,a+=e.weight})),this._keys.forEach((function(t){t.weight/=a}))}return o(t,[{key:"get",value:function(t){return this._keyMap[t]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),t}();function M(t){var e=null,i=null,s=null,a=1;if(m(t)||u(t))s=t,e=S(t),i=A(t);else{if(!T.call(t,"name"))throw new Error(function(t){return"Missing ".concat(t," property in key")}("name"));var o=t.name;if(s=o,T.call(t,"weight")&&(a=t.weight)<=0)throw new Error(function(t){return"Property 'weight' in key '".concat(t,"' must be a positive integer")}(o));e=S(o),i=A(o)}return{path:e,id:i,weight:a,src:s}}function S(t){return u(t)?t:t.split(".")}function A(t){return u(t)?t.join("."):t}var C={useExtendedSearch:!1,getFn:function(t,e){var i=[],s=!1;return function t(e,a,o){if(v(e))if(a[o]){var n=e[a[o]];if(!v(n))return;if(o===a.length-1&&(m(n)||f(n)||g(n)))i.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(n));else if(u(n)){s=!0;for(var r=0,l=n.length;r<l;r+=1)t(n[r],a,o+1)}else a.length&&t(n,a,o+1)}else i.push(e)}(t,m(e)?e.split("."):e,0),s?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},L=e(e(e(e({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(t,e){return t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),C),I=/[^ ]+/g;function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=new Map,s=Math.pow(10,e);return{get:function(e){var a=e.match(I).length;if(i.has(a))return i.get(a);var o=1/Math.pow(a,.5*t),n=parseFloat(Math.round(o*s)/s);return i.set(a,n),n},clear:function(){i.clear()}}}var _=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getFn,a=void 0===i?L.getFn:i,o=e.fieldNormWeight,n=void 0===o?L.fieldNormWeight:o;s(this,t),this.norm=k(n,3),this.getFn=a,this.isCreated=!1,this.setIndexRecords()}return o(t,[{key:"setSources",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=t}},{key:"setIndexRecords",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach((function(e,i){t._keysMap[e.id]=i}))}},{key:"create",value:function(){var t=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,m(this.docs[0])?this.docs.forEach((function(e,i){t._addString(e,i)})):this.docs.forEach((function(e,i){t._addObject(e,i)})),this.norm.clear())}},{key:"add",value:function(t){var e=this.size();m(t)?this._addString(t,e):this._addObject(t,e)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var e=t,i=this.size();e<i;e+=1)this.records[e].i-=1}},{key:"getValueForItemAtKeyId",value:function(t,e){return t[this._keysMap[e]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,e){if(v(t)&&!y(t)){var i={v:t,i:e,n:this.norm.get(t)};this.records.push(i)}}},{key:"_addObject",value:function(t,e){var i=this,s={i:e,$:{}};this.keys.forEach((function(e,a){var o=i.getFn(t,e.path);if(v(o))if(u(o))!function(){for(var t=[],e=[{nestedArrIndex:-1,value:o}];e.length;){var n=e.pop(),r=n.nestedArrIndex,l=n.value;if(v(l))if(m(l)&&!y(l)){var h={v:l,i:r,n:i.norm.get(l)};t.push(h)}else u(l)&&l.forEach((function(t,i){e.push({nestedArrIndex:i,value:t})}))}s.$[a]=t}();else if(!y(o)){var n={v:o,n:i.norm.get(o)};s.$[a]=n}})),this.records.push(s)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),t}();function N(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.getFn,a=void 0===s?L.getFn:s,o=i.fieldNormWeight,n=void 0===o?L.fieldNormWeight:o,r=new _({getFn:a,fieldNormWeight:n});return r.setKeys(t.map(M)),r.setSources(e),r.create(),r}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.errors,s=void 0===i?0:i,a=e.currentLocation,o=void 0===a?0:a,n=e.expectedLocation,r=void 0===n?0:n,l=e.distance,h=void 0===l?L.distance:l,d=e.ignoreLocation,c=void 0===d?L.ignoreLocation:d,p=s/t.length;if(c)return p;var u=Math.abs(r-o);return h?p+u/h:u?1:p}function O(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.minMatchCharLength,i=[],s=-1,a=-1,o=0,n=t.length;o<n;o+=1){var r=t[o];r&&-1===s?s=o:r||-1===s||((a=o-1)-s+1>=e&&i.push([s,a]),s=-1)}return t[o-1]&&o-s>=e&&i.push([s,o-1]),i}function $(t){for(var e={},i=0,s=t.length;i<s;i+=1){var a=t.charAt(i);e[a]=(e[a]||0)|1<<s-i-1}return e}var P=function(){function t(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.location,n=void 0===o?L.location:o,r=a.threshold,l=void 0===r?L.threshold:r,h=a.distance,d=void 0===h?L.distance:h,c=a.includeMatches,p=void 0===c?L.includeMatches:c,u=a.findAllMatches,m=void 0===u?L.findAllMatches:u,f=a.minMatchCharLength,g=void 0===f?L.minMatchCharLength:f,x=a.isCaseSensitive,v=void 0===x?L.isCaseSensitive:x,y=a.ignoreLocation,b=void 0===y?L.ignoreLocation:y;if(s(this,t),this.options={location:n,threshold:l,distance:d,includeMatches:p,findAllMatches:m,minMatchCharLength:g,isCaseSensitive:v,ignoreLocation:b},this.pattern=v?e:e.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(t,e){i.chunks.push({pattern:t,alphabet:$(t),startIndex:e})},D=this.pattern.length;if(D>32){for(var T=0,E=D%32,M=D-E;T<M;)w(this.pattern.substr(T,32),T),T+=32;if(E){var S=D-32;w(this.pattern.substr(S),S)}}else w(this.pattern,0)}}return o(t,[{key:"searchIn",value:function(t){var e=this.options,i=e.isCaseSensitive,s=e.includeMatches;if(i||(t=t.toLowerCase()),this.pattern===t){var a={isMatch:!0,score:0};return s&&(a.indices=[[0,t.length-1]]),a}var o=this.options,n=o.location,r=o.distance,l=o.threshold,h=o.findAllMatches,d=o.minMatchCharLength,p=o.ignoreLocation,u=[],m=0,f=!1;this.chunks.forEach((function(e){var i=e.pattern,a=e.alphabet,o=e.startIndex,g=function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=s.location,o=void 0===a?L.location:a,n=s.distance,r=void 0===n?L.distance:n,l=s.threshold,h=void 0===l?L.threshold:l,d=s.findAllMatches,c=void 0===d?L.findAllMatches:d,p=s.minMatchCharLength,u=void 0===p?L.minMatchCharLength:p,m=s.includeMatches,f=void 0===m?L.includeMatches:m,g=s.ignoreLocation,x=void 0===g?L.ignoreLocation:g;if(e.length>32)throw new Error(D(32));for(var v,y=e.length,b=t.length,w=Math.max(0,Math.min(o,b)),T=h,E=w,M=u>1||f,S=M?Array(b):[];(v=t.indexOf(e,E))>-1;){var A=j(e,{currentLocation:v,expectedLocation:w,distance:r,ignoreLocation:x});if(T=Math.min(A,T),E=v+y,M)for(var C=0;C<y;)S[v+C]=1,C+=1}E=-1;for(var I=[],k=1,_=y+b,N=1<<y-1,$=0;$<y;$+=1){for(var P=0,z=_;P<z;){var Y=j(e,{errors:$,currentLocation:w+z,expectedLocation:w,distance:r,ignoreLocation:x});Y<=T?P=z:_=z,z=Math.floor((_-P)/2+P)}_=z;var H=Math.max(1,w-z+1),B=c?b:Math.min(w+z,b)+y,q=Array(B+2);q[B+1]=(1<<$)-1;for(var F=B;F>=H;F-=1){var R=F-1,V=i[t.charAt(R)];if(M&&(S[R]=+!!V),q[F]=(q[F+1]<<1|1)&V,$&&(q[F]|=(I[F+1]|I[F])<<1|1|I[F+1]),q[F]&N&&(k=j(e,{errors:$,currentLocation:R,expectedLocation:w,distance:r,ignoreLocation:x}))<=T){if(T=k,(E=R)<=w)break;H=Math.max(1,2*w-E)}}var U=j(e,{errors:$+1,currentLocation:w,expectedLocation:w,distance:r,ignoreLocation:x});if(U>T)break;I=q}var W={isMatch:E>=0,score:Math.max(.001,k)};if(M){var G=O(S,u);G.length?f&&(W.indices=G):W.isMatch=!1}return W}(t,i,a,{location:n+o,distance:r,threshold:l,findAllMatches:h,minMatchCharLength:d,includeMatches:s,ignoreLocation:p}),x=g.isMatch,v=g.score,y=g.indices;x&&(f=!0),m+=v,x&&y&&(u=[].concat(c(u),c(y)))}));var g={isMatch:f,score:f?m/this.chunks.length:1};return f&&s&&(g.indices=u),g}}]),t}(),z=function(){function t(e){s(this,t),this.pattern=e}return o(t,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(t){return Y(t,this.multiRegex)}},{key:"isSingleMatch",value:function(t){return Y(t,this.singleRegex)}}]),t}();function Y(t,e){var i=t.match(e);return i?i[1]:null}var H=function(t){r(i,t);var e=d(i);function i(t){return s(this,i),e.call(this,t)}return o(i,[{key:"search",value:function(t){var e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),i}(z),B=function(t){r(i,t);var e=d(i);function i(t){return s(this,i),e.call(this,t)}return o(i,[{key:"search",value:function(t){var e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),i}(z),q=function(t){r(i,t);var e=d(i);function i(t){return s(this,i),e.call(this,t)}return o(i,[{key:"search",value:function(t){var e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),i}(z),F=function(t){r(i,t);var e=d(i);function i(t){return s(this,i),e.call(this,t)}return o(i,[{key:"search",value:function(t){var e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),i}(z),R=function(t){r(i,t);var e=d(i);function i(t){return s(this,i),e.call(this,t)}return o(i,[{key:"search",value:function(t){var e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),i}(z),V=function(t){r(i,t);var e=d(i);function i(t){return s(this,i),e.call(this,t)}return o(i,[{key:"search",value:function(t){var e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),i}(z),U=function(t){r(i,t);var e=d(i);function i(t){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.location,r=void 0===n?L.location:n,l=o.threshold,h=void 0===l?L.threshold:l,d=o.distance,c=void 0===d?L.distance:d,p=o.includeMatches,u=void 0===p?L.includeMatches:p,m=o.findAllMatches,f=void 0===m?L.findAllMatches:m,g=o.minMatchCharLength,x=void 0===g?L.minMatchCharLength:g,v=o.isCaseSensitive,y=void 0===v?L.isCaseSensitive:v,b=o.ignoreLocation,w=void 0===b?L.ignoreLocation:b;return s(this,i),(a=e.call(this,t))._bitapSearch=new P(t,{location:r,threshold:h,distance:c,includeMatches:u,findAllMatches:f,minMatchCharLength:x,isCaseSensitive:y,ignoreLocation:w}),a}return o(i,[{key:"search",value:function(t){return this._bitapSearch.searchIn(t)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),i}(z),W=function(t){r(i,t);var e=d(i);function i(t){return s(this,i),e.call(this,t)}return o(i,[{key:"search",value:function(t){for(var e,i=0,s=[],a=this.pattern.length;(e=t.indexOf(this.pattern,i))>-1;)i=e+a,s.push([e,i-1]);var o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),i}(z),G=[H,W,q,F,V,R,B,U],X=G.length,Q=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.split("|").map((function(t){for(var i=t.trim().split(Q).filter((function(t){return t&&!!t.trim()})),s=[],a=0,o=i.length;a<o;a+=1){for(var n=i[a],r=!1,l=-1;!r&&++l<X;){var h=G[l],d=h.isMultiMatch(n);d&&(s.push(new h(d,e)),r=!0)}if(!r)for(l=-1;++l<X;){var c=G[l],p=c.isSingleMatch(n);if(p){s.push(new c(p,e));break}}}return s}))}var K=new Set([U.type,W.type]),Z=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.isCaseSensitive,o=void 0===a?L.isCaseSensitive:a,n=i.includeMatches,r=void 0===n?L.includeMatches:n,l=i.minMatchCharLength,h=void 0===l?L.minMatchCharLength:l,d=i.ignoreLocation,c=void 0===d?L.ignoreLocation:d,p=i.findAllMatches,u=void 0===p?L.findAllMatches:p,m=i.location,f=void 0===m?L.location:m,g=i.threshold,x=void 0===g?L.threshold:g,v=i.distance,y=void 0===v?L.distance:v;s(this,t),this.query=null,this.options={isCaseSensitive:o,includeMatches:r,minMatchCharLength:h,findAllMatches:u,ignoreLocation:c,location:f,threshold:x,distance:y},this.pattern=o?e:e.toLowerCase(),this.query=J(this.pattern,this.options)}return o(t,[{key:"searchIn",value:function(t){var e=this.query;if(!e)return{isMatch:!1,score:1};var i=this.options,s=i.includeMatches;t=i.isCaseSensitive?t:t.toLowerCase();for(var a=0,o=[],n=0,r=0,l=e.length;r<l;r+=1){var h=e[r];o.length=0,a=0;for(var d=0,p=h.length;d<p;d+=1){var u=h[d],m=u.search(t),f=m.isMatch,g=m.indices,x=m.score;if(!f){n=0,a=0,o.length=0;break}if(a+=1,n+=x,s){var v=u.constructor.type;K.has(v)?o=[].concat(c(o),c(g)):o.push(g)}}if(a){var y={isMatch:!0,score:n/a};return s&&(y.indices=o),y}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(t,e){return e.useExtendedSearch}}]),t}(),tt=[];function et(t,e){for(var i=0,s=tt.length;i<s;i+=1){var a=tt[i];if(a.condition(t,e))return new a(t,e)}return new P(t,e)}var it=function(t){return!(!t.$and&&!t.$or)},st=function(t){return!!t.$path},at=function(t){return!u(t)&&x(t)&&!it(t)},ot=function(t){return n({},"$and",Object.keys(t).map((function(e){return n({},e,t[e])})))};function nt(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.auto,a=void 0===s||s,o=function t(i){var s=Object.keys(i),o=st(i);if(!o&&s.length>1&&!it(i))return t(ot(i));if(at(i)){var n=o?i.$path:s[0],r=o?i.$val:i[n];if(!m(r))throw new Error(w(n));var l={keyId:A(n),pattern:r};return a&&(l.searcher=et(r,e)),l}var h={children:[],operator:s[0]};return s.forEach((function(e){var s=i[e];u(s)&&s.forEach((function(e){h.children.push(t(e))}))})),h};return it(t)||(t=ot(t)),o(t)}function rt(t,e){var i=e.ignoreFieldNorm,s=void 0===i?L.ignoreFieldNorm:i;t.forEach((function(t){var e=1;t.matches.forEach((function(t){var i=t.key,a=t.norm,o=t.score,n=i?i.weight:null;e*=Math.pow(0===o&&n?Number.EPSILON:o,(n||1)*(s?1:a))})),t.score=e}))}function lt(t,e){var i=t.matches;e.matches=[],v(i)&&i.forEach((function(t){if(v(t.indices)&&t.indices.length){var i={indices:t.indices,value:t.value};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)}}))}function ht(t,e){e.score=t.score}function dt(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.includeMatches,a=void 0===s?L.includeMatches:s,o=i.includeScore,n=void 0===o?L.includeScore:o,r=[];return a&&r.push(lt),n&&r.push(ht),t.map((function(t){var i=t.idx,s={item:e[i],refIndex:i};return r.length&&r.forEach((function(e){e(t,s)})),s}))}var ct=function(){function t(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;s(this,t),this.options=e(e({},L),a),this.options.useExtendedSearch,this._keyStore=new E(this.options.keys),this.setCollection(i,o)}return o(t,[{key:"setCollection",value:function(t,e){if(this._docs=t,e&&!(e instanceof _))throw new Error("Incorrect 'index' type");this._myIndex=e||N(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(t){v(t)&&(this._docs.push(t),this._myIndex.add(t))}},{key:"remove",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},e=[],i=0,s=this._docs.length;i<s;i+=1){var a=this._docs[i];t(a,i)&&(this.removeAt(i),i-=1,s-=1,e.push(a))}return e}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.limit,s=void 0===i?-1:i,a=this.options,o=a.includeMatches,n=a.includeScore,r=a.shouldSort,l=a.sortFn,h=a.ignoreFieldNorm,d=m(t)?m(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return rt(d,{ignoreFieldNorm:h}),r&&d.sort(l),f(s)&&s>-1&&(d=d.slice(0,s)),dt(d,this._docs,{includeMatches:o,includeScore:n})}},{key:"_searchStringList",value:function(t){var e=et(t,this.options),i=this._myIndex.records,s=[];return i.forEach((function(t){var i=t.v,a=t.i,o=t.n;if(v(i)){var n=e.searchIn(i),r=n.isMatch,l=n.score,h=n.indices;r&&s.push({item:i,idx:a,matches:[{score:l,value:i,norm:o,indices:h}]})}})),s}},{key:"_searchLogical",value:function(t){var e=this,i=nt(t,this.options),s=this._myIndex.records,a={},o=[];return s.forEach((function(t){var s=t.$,n=t.i;if(v(s)){var r=function t(i,s,a){if(!i.children){var o=i.keyId,n=i.searcher,r=e._findMatches({key:e._keyStore.get(o),value:e._myIndex.getValueForItemAtKeyId(s,o),searcher:n});return r&&r.length?[{idx:a,item:s,matches:r}]:[]}for(var l=[],h=0,d=i.children.length;h<d;h+=1){var p=t(i.children[h],s,a);if(p.length)l.push.apply(l,c(p));else if("$and"===i.operator)return[]}return l}(i,s,n);r.length&&(a[n]||(a[n]={idx:n,item:s,matches:[]},o.push(a[n])),r.forEach((function(t){var e,i=t.matches;(e=a[n].matches).push.apply(e,c(i))})))}})),o}},{key:"_searchObjectList",value:function(t){var e=this,i=et(t,this.options),s=this._myIndex,a=s.keys,o=s.records,n=[];return o.forEach((function(t){var s=t.$,o=t.i;if(v(s)){var r=[];a.forEach((function(t,a){r.push.apply(r,c(e._findMatches({key:t,value:s[a],searcher:i})))})),r.length&&n.push({idx:o,item:s,matches:r})}})),n}},{key:"_findMatches",value:function(t){var e=t.key,i=t.value,s=t.searcher;if(!v(i))return[];var a=[];if(u(i))i.forEach((function(t){var i=t.v,o=t.i,n=t.n;if(v(i)){var r=s.searchIn(i),l=r.isMatch,h=r.score,d=r.indices;l&&a.push({score:h,key:e,value:i,idx:o,norm:n,indices:d})}}));else{var o=i.v,n=i.n,r=s.searchIn(o),l=r.isMatch,h=r.score,d=r.indices;l&&a.push({score:h,key:e,value:o,norm:n,indices:d})}return a}}]),t}();return ct.version="6.5.3",ct.createIndex=N,ct.parseIndex=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getFn,s=void 0===i?L.getFn:i,a=e.fieldNormWeight,o=void 0===a?L.fieldNormWeight:a,n=t.keys,r=t.records,l=new _({getFn:s,fieldNormWeight:o});return l.setKeys(n),l.setIndexRecords(r),l},ct.config=L,ct.parseQuery=nt,function(){tt.push.apply(tt,arguments)}(Z),ct})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=window||t||self).Redux={})}(this,(function(t){"use strict";var e="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function o(t){return function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";var i=function(t){return"function"==typeof t.constructor?t.constructor.name:null}(t);switch(i){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return i}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}(t)}function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}function r(t,e){return function(){return e(t.apply(this,arguments))}}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function p(){}"string"==typeof p.name&&p.name,t.__DO_NOT_USE__ActionTypes=s,t.applyMiddleware=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return function(){var i=t.apply(void 0,arguments),s=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=e.map((function(t){return t(a)}));return s=c.apply(void 0,o)(i.dispatch),d(d({},i),{},{dispatch:s})}}},t.bindActionCreators=function(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, but instead received: '"+o(t)+'\'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var i={};for(var s in t){var a=t[s];"function"==typeof a&&(i[s]=r(a,e))}return i},t.combineReducers=function(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++){var l=e[r];void 0===t[l]&&n('No reducer provided for key "'+l+'"'),"function"==typeof t[l]&&(i[l]=t[l])}var h,d,c=Object.keys(i);h={};try{!function(t){Object.keys(t).forEach((function(e){var i=t[e];if(void 0===i(void 0,{type:s.INIT}))throw new Error('The slice reducer for key "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===i(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error('The slice reducer for key "'+e+"\" returned undefined when probed with a random type. Don't try to handle '"+s.INIT+'\' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(i)}catch(t){d=t}return function(t,e){if(void 0===t&&(t={}),d)throw d;var r=function(t,e,i,n){var r=Object.keys(e),l=i&&i.type===s.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!a(t))return"The "+l+' has unexpected type of "'+o(t)+'". Expected argument to be an object with the following keys: "'+r.join('", "')+'"';var h=Object.keys(t).filter((function(t){return!e.hasOwnProperty(t)&&!n[t]}));return h.forEach((function(t){n[t]=!0})),i&&i.type===s.REPLACE?void 0:h.length>0?"Unexpected "+(h.length>1?"keys":"key")+' "'+h.join('", "')+'" found in '+l+'. Expected to find one of the known reducer keys instead: "'+r.join('", "')+'". Unexpected keys will be ignored.':void 0}(t,i,e,h);r&&n(r);for(var l=!1,p={},u=0;u<c.length;u++){var m=c[u],f=i[m],g=t[m],x=f(g,e);if(void 0===x){var v=e&&e.type;throw new Error("When called with an action of type "+(v?'"'+String(v)+'"':"(unknown type)")+', the slice reducer for key "'+m+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.')}p[m]=x,l=l||x!==g}return(l=l||c.length!==Object.keys(t).length)?p:t}},t.compose=c,t.createStore=function t(i,n,r){var l;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function. Instead, received: '"+o(r)+"'");return r(t)(i,n)}if("function"!=typeof i)throw new Error("Expected the root reducer to be a function. Instead, received: '"+o(i)+"'");var h=i,d=n,c=[],p=c,u=!1;function m(){p===c&&(p=c.slice())}function f(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return d}function g(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function. Instead, received: '"+o(t)+"'");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var e=!0;return m(),p.push(t),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");e=!1,m();var i=p.indexOf(t);p.splice(i,1),c=null}}}function x(t){if(!a(t))throw new Error("Actions must be plain objects. Instead, the actual type was: '"+o(t)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,d=h(d,t)}finally{u=!1}for(var e=c=p,i=0;i<e.length;i++)(0,e[i])();return t}function v(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function. Instead, received: '"+o(t));h=t,x({type:s.REPLACE})}function y(){var t,i=g;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error("Expected the observer to be an object. Instead, received: '"+o(t)+"'");function e(){t.next&&t.next(f())}return e(),{unsubscribe:i(e)}}})[e]=function(){return this},t}return x({type:s.INIT}),(l={dispatch:x,subscribe:g,getState:f,replaceReducer:v})[e]=y,l},Object.defineProperty(t,"__esModule",{value:!0})}));const axError={formatError:"This is not a valid data format!",paraError:"The parameters do not meet the requirements!",arrayRequired:"The value must be an array type!",noNode:"This page can not find the node!",required:"Required field is missing!",notExist:"The program cannot be executed because the object does not exist!"},axIsMobi=()=>{let t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];for(let i=0;i<e.length;i++)return t.indexOf(e[i])>0},axIsDate=t=>isNaN(t)&&!isNaN(Date.parse(t)),axClient=()=>{let t=window.screen.width;return t<500?"phone":t>500&&t<900?"pad":t>900&&t<1200?"padflip":t>1200&&t<1500?"padpro":"pc"},axTypeIs=(t,e)=>null!=e&&Object.prototype.toString.call(e).slice(8,-1)===t,axType=t=>Object.prototype.toString.call(t).slice(8,-1),axIsEmpty=t=>{let e=axType(t);return!t||("Function"===e?"{}"==t.toString().replace(/\s+/g,"").match(/{.*}/g)[0]:"Array"===e?""==t.join(""):"Object"===e&&0===Object.keys(t).length)},axIsVnode=t=>!getComputedStyle(t).display,axPreventDefault=t=>{t.preventDefault?t.preventDefault():t.returnValue=!1},axStrEnd=(t,e,i="afterend",s=!0)=>{if(!t||!e)return!1;if((t=t.trim()).includes(e)){let a,o,n=e.length;return"beforebegin"===i?(a=t.indexOf(e),s&&(a+=n),o=t.substring(0,a)):"afterbegin"===i?(a=t.indexOf(e),!s&&(a+=n),o=t.substring(a,t.length)):"beforeend"===i?(a=t.lastIndexOf(e),s&&(a+=n),o=t.substring(0,a)):"afterend"===i?(a=t.lastIndexOf(e),!s&&(a+=n),o=t.substring(a,t.length)):o="",o}return""},axStrType=t=>"string"!=typeof t?(console.error("Argument must be a string!"),!1):(t=t.trim(),isUpperCase=t=>{if(t>="A"&&t<="Z")return!0},type="",t&&(t.includes(" ")?type="level":t.startsWith("#")?type="id":t.startsWith(".")?type="class":t.startsWith("[")&&t.endsWith("]")?type="name":[...t].every(t=>isUpperCase(t))&&(type="node")),type),axStrToDom=t=>{if("string"!=typeof t)return!1;let e;return(t=t.trim()).startsWith("<tr")||t.endsWith("</tr>")?(e=document.createElement("tr"),e.innerHTML=t,e):(e=document.createElement("div"),e.innerHTML=t,e.firstElementChild)},axIdToDom=t=>{let e=axType(t);if(t){if("String"===e){let e=t.trim();return axStrType(e)?("name"!==axStrType(e)||e.includes("=")||(e=e.slice(0,1)+"name="+e.slice(1)),document.querySelector(e)):(console.warning("No node is found with this string!"),!1)}return!!e.includes("HTML")&&t}return console.warning("Node selector is empty!"),!1},axValueToArr=t=>{let e=[];if(!axIsEmpty(t))if(Array.isArray(t))e=t;else if("string"==typeof t){let i=t.trim(),s=t.includes(",")?",":" ";i.includes(s)?e=i.split(s):e.push(t)}else e.push(t);return e},axClass={get:function(t){return axValueToArr(t)},add:function(t,e){let i=axIdToDom(t),s=this.get(e);return!(!i||0===s.length)&&(s.forEach(t=>{i.classList.add(t)}),this)},del:function(t,e){let i=axIdToDom(t),s=this.get(e);return!(!i||0===s.length)&&(s.forEach(t=>{i.classList.remove(t)}),this)}},axArrToDom=(t,e)=>{let i=t.split(","),s=[],a=/^[0-9]*$/,o="";return o="string"==typeof e?document.querySelector(e):e,i.forEach(t=>{if(!a.test(t.substr(0,1)))if("class"==axStrType(t))s=o?s.concat([...o.querySelectorAll(t)]):s.concat([...document.querySelectorAll(t)]);else if("id"==axStrType(t))s.push(document.querySelector(t));else{if(!t)return s;document.querySelectorAll(t)&&(s=o?s.concat([...o.querySelectorAll(t)]):s.concat([...document.querySelectorAll(t)]))}}),s},axArrToFlat=t=>{let e=[];return[...t].forEach(t=>{t.children?e=[...e,t,...axArrToFlat(t.children)]:e.push(t)}),e},axIncreaseId=(t,e=!0)=>{let i,s=[];return e?(t.forEach(t=>{s.push(t.id)}),i=Math.max(...s)+1):i=t.length,i},axMultiValues=(t,e="checkbox",i="array",s,a=",")=>{let o,n=[],r=s?axIdToDom(s):"";if("NodeList"==axType(t)||"Array"==axType(t)){if(e.includes("select")||"file"==e)return console.warn("Can not be an node array in this type!"),!1;o=t}else if("object"==typeof t||axStrType(t)&&"name"!==axStrType(t)){let i=axIdToDom(t);e.includes("select")||"SELECT"==t.nodeName?(e="select",o=i.options):"file"==e||"file"==i.type?(e="file",o=[i]):o=[...i.querySelectorAll("input")]}else{let i="";i="name"===axStrType(t)?t.replace("[","[name="):`[name=${t}]`,o=e.includes("select")?r?r.querySelector(i).options:document.querySelector(i).options:"file"==e?r?[r.querySelector(i)]:[document.querySelector(i)]:r?[...r.querySelectorAll(i)]:[...document.querySelectorAll(i)]}for(let t=0;t<o.length;t++){let i,s=o[t];i=e.includes("select")?s.selected:s.checked,"file"==e?n=[...s.files]:i&&n.push(s.value)}return"string"==i&&(n=n.join(a)),n},axDebounce=(t,e=200)=>{let i=null,s=function(){i&&clearTimeout(i);let s=this,a=arguments;i=setTimeout((function(){t.apply(s,a)}),e)};return s.cancel=function(){i&&clearTimeout(i)},s},axThrottle=(t,e=500)=>{let i=0,s=null,a=function(){let a=this,o=arguments,n=(new Date).getTime();n-i>e?(s&&(clearTimeout(s),s=null),t.apply(a,o),i=n):null===s&&(s=setTimeout((function(){s=null,t.apply(a,o)}),e))};return a.cancel=function(){clearTimeout(s),s=null},a},axMoveArr=(t,e,i)=>{if(e>t.length||i>t.length||e<0||i<0)return console.error("Exceeded array length!"),!1;let s=t[e];return t.splice(e,1),t.splice(i,0,s),t},axIsVisible=t=>{let e=axIdToDom(t),i=!0,s="none"!=getComputedStyle(e).display&&"hidden"!=getComputedStyle(e).visibility;for(;i&&s;)e=e.parentNode,e&&e!=document.body?s="none"!=getComputedStyle(e).display&&"hidden"!=getComputedStyle(e).visibility:i=!1;return s},axPreventScroll=(t,e)=>{let i=t?axIdToDom(t):null,s=e?axIdToDom(e):null;return navigator.userAgent.indexOf("Firefox")>0?(i.addEventListener("DOMMouseScroll",t=>{t.preventDefault()},!1),s?s&&s.scrollHeight>s.clientHeight&&s.addEventListener("DOMMouseScroll",t=>{s.scrollTop+=t.detail>0?60:-60},!1):t&&t.scrollHeight>t.clientHeight&&t.addEventListener("DOMMouseScroll",e=>{t.scrollTop+=e.detail>0?60:-60},!1)):(i.addEventListener("mousewheel",t=>{(t=t||window.event).returnValue=!1},!1),s?s&&s.scrollHeight>s.clientHeight&&s.addEventListener("mousewheel",t=>{s.scrollTop+=t.wheelDelta>0?-60:60},!1):t&&t.scrollHeight>t.clientHeight&&t.addEventListener("mousewheel",e=>{t.scrollTop+=e.wheelDelta>0?-60:60},!1)),this},axCreateId=(t,e,i)=>{let s=i?axIdToDom(i):null,a=(new Date).getTime(),o=i?s.id.replace(/(:|\.|\[|\]|,)/g,""):null;return e?isNaN(e)?o&&"id"==e?t+"-"+o:t+"-"+a:t+"-"+(t=>{t=t||32;let e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=e.length,s="";for(let a=0;a<t;a++)s+=e.charAt(Math.floor(Math.random()*i));return s})(e):t+"-"+a},axDateToName=(t="",e="",i="random")=>{let s=new Date,a=""+s.getFullYear()+(s.getMonth()+1)+s.getDate()+s.getHours()+s.getMinutes()+s.getSeconds(),o=(Math.floor(9999*Math.random())+1e3).toString(),n="";return t&&(n+=t),n+=a,n+="random"===i?o:i,e&&(n+=e),n},axUlToArr=(t,e=1,i)=>{if(!t)return console.error(axError.notExist),!1;let s=axIdToDom(t),a=e,o=(t,e)=>{let s={},n="",r=t.firstElementChild.textContent.trim();return t.firstElementChild.getAttribute("value")?(n=t.firstElementChild.getAttribute("value").trim(),s={id:e,label:r,value:n}):s=i?{id:e,label:r}:{id:e,value:r},t.querySelector("ul")&&[...t.querySelector("ul").children].forEach(t=>{s.children||(s.children=[]),s.children.push(o(t,a++))}),s};return(()=>{let t=[];return axChildren(s,"li").forEach(e=>{t.push(o(e,a++))}),t})()},axSelectToArr=(t,e=1)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t),s=e,a=(t,e)=>{let i="",o="",n={};return"OPTGROUP"==t.nodeName?(o=t.getAttribute("label").trim(),i=o):(o=t.textContent.trim(),t.getAttribute("value")&&(i=t.getAttribute("value").trim())),n={id:e,name:o,value:i},t.querySelector("option")&&[...t.children].forEach(t=>{n.children||(n.children=[]),n.children.push(a(t,s++))}),n};return(()=>{let t=[];return[...i.children].forEach(e=>{t.push(a(e,s++))}),t})()},axTableToJson=t=>{let e=axIdToDom(t).querySelector("tbody").rows,i=[];return[...e].forEach(t=>{let e=t.cells,s=[];[...e].forEach(t=>{s.push(t.innerText.trim())}),i.push(s)}),i},axListToArr=(t,e=1)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t),s=e,a=(t,e)=>{let i="",s="",a={};return s=t.textContent.trim(),i=t.getAttribute("value")?t.getAttribute("value").trim():s,a={id:e,name:s,value:i},axIsEmpty(t.dataset)||Object.assign(a,t.dataset),a};return(()=>{let t=[];return[...i.children].forEach(e=>{t.push(a(e,s++))}),t})()},axArrToTree=(t,e)=>{let i=e||0;return t.forEach(e=>{let i=t.filter(t=>e.id===t.pId);i.length&&(e.children=i)}),t=t.filter(t=>t.pId==i)},axFindItem=(t,e,i={string:"label",number:"id",header:"headerDom",wrapper:"wrapperDom"})=>{let s,a=axType(t);return s="Object"===a||"Array"===a?e.find(e=>e===t):"Number"===a?e[0].hasOwnProperty(i.number)?e.find(e=>e[i.number]===t):e[t]:"String"===a?t.startsWith("#")?e.find(e=>"#"+e[i.wrapper].id===t||"#"+e[i.header].id===t):e.find(e=>e[i.string]===t):!!a.includes("HTML")&&e.find(e=>e[i.header]===t),s},axTreeMethod={addPath:(t,e=-1,i=0)=>{if(!Array.isArray(t)||0===t.length)return!1;let s=0,a=0,o=!!t[0].hasOwnProperty("id"),n=i,r=(t,i,l=e)=>{t.forEach(t=>{if(!o&&(t.id=n),t.floor=i,t.pId=t.pId||0===t.pId?t.pId:e,i>=s&&(s=i),t.id>=a&&(a=t.id),n++,t.children&&t.children.length>0){let e=l.toString()+">"+t.id.toString();t.children.forEach(i=>{i.path=e+">"+i.id,i.pId=t.id}),r(t.children,i+1,e)}t.path||(t.path=t.pId+">"+t.id)})};return r(t,1),{data:t,maxFloor:s,maxId:a}},remove:(t,e,i,s)=>{if(1!==t.floor){let i=e.find(e=>e.id==t.pId).children,s=i.indexOf(t);i.splice(s,1)}else i=i.filter(e=>e!=t);return e=e.filter(e=>e!==t&&!e.path.includes(">"+t.id+">")),t.wrapperDom.remove(),s&&s(t,e),{flat:e,tree:i}},createData:(t,e,i,s)=>{let a={},o=axType(t),n=axIncreaseId(i),r="String"===o?t:"新节点"+n;if("Object"===o){let i=s?{path:e.path+">"+t.id,floor:e.floor+1}:{path:e.path.replace(new RegExp("(.*)"+e.id),"$1"+t.id),floor:e.floor};!t.hasOwnProperty("id")&&(t.id=n),a=Object.assign(t,i)}else a=s?{id:n,label:r,pId:e.id,path:e.path+">"+n,floor:e.floor+1}:{id:n,label:r,pId:e.pId,path:e.path.replace(new RegExp("(.*)"+e.id),"$1"+n),floor:e.floor};return a},existChildPush:(t,e,i=!0)=>{i?(e.children.unshift(t),e.bodyDom.insertAdjacentElement("afterBegin",t.wrapperDom)):(e.children.push(t),e.bodyDom.insertAdjacentElement("beforeEnd",t.wrapperDom))},noExistChildPush:(t,e,i)=>{e.children=[],e.children.push(t),(e=i(e)).bodyDom.appendChild(t.wrapperDom),e.wrapperDom.appendChild(e.bodyDom)}},axIsOutside=(t,e,i,s)=>{if(!e)return!0;let a=axIdToDom(e);if(!a)return!0;let o,n,r,l,h=t.clientX,d=t.clientY;return o=i||a.getBoundingClientRect().left,n=s||a.getBoundingClientRect().top,r=o+a.offsetWidth,l=n+a.offsetHeight,h<o||h>r||d<n||d>l},axStyle=(t,e)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t);return document.defaultView.getComputedStyle(i,e)},axTplEngine=(t,e)=>{if(!t)return console.error("No html!"),!1;let i,s=/<#([^#>]+)?#>/g,a=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,o="let r=[];\n",n=0,r=(t,e)=>(o+=e?t.match(a)?t+"\n":"r.push("+t+");\n":""!=t?'r.push("'+t.replace(/"/g,'\\"')+'");\n':"",r);for(;i=s.exec(t);)r(t.slice(n,i.index))(i[1],!0),n=i.index+i[0].length;return r(t.substr(n,t.length-n)),o+='return r.join("");',new Function(o.replace(/[\r\t\n]/g,"")).apply(e)},axClone=t=>{let e=t=>{if(null===t)return null;if("object"!=typeof t)return t;if(t.constructor===Date)return new Date(t);{let e={};for(let i in t)if(null==t[i])e[i]=null;else if("object"!=typeof t[i]||t[i].nodeType)e[i]=t[i];else if(e[i]=axClone(t[i]),t[i]instanceof Array){let s=[];for(let e of t[i])s.push(axClone(e));e[i]=s}return e}};return Array.isArray(t)?t.map(t=>e(t)):e(t)},axMerge=(t,e,i={arrAppend:!1,clone:!1,attrAppend:!0})=>{if("object"!=typeof t||"object"!=typeof e)return e;if(!e)return t;let s=i.copy?axClone(t):t;for(let t in e)e.hasOwnProperty(t)&&s.hasOwnProperty(t)?"Array"!=axType(e[t])?s[t]=axMerge(s[t],e[t],i):i.arrAppend?s[t].push(...e[t]):s[t]=e[t]:e.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&i.attrAppend&&(s[t]=e[t]);return s},axStrToArr=(t,e,i)=>{let s=[],a={};return axIsEmpty(e)||e.forEach((t,e)=>{a[t]=axIsEmpty(i)?"":i[e]}),"["==t.substr(0,1)&&"]"==t.substr(-1)?s=JSON.parse(t):-1!=t.replace(/\s*/g,"").indexOf("},{")?s=JSON.parse("["+t+"]"):"{"==t.replace(/\s*/g,"").substr(0,1)&&"}"==t.replace(/\s*/g,"").substr(-1)?s=JSON.parse("["+t+"]"):(s=t.split(","),s.forEach((t,i)=>{if("string"==typeof(t=t.trim())&&!axIsEmpty(e)){let a={};e.forEach((e,i)=>{a[e]=0==i?t:""}),s.splice(i,1,a)}})),s.forEach(t=>{if(!axIsEmpty(a))for(let e in a)t.hasOwnProperty(e)?t.hasOwnProperty(e)&&!t[e]&&(t[e]=a[e]):t[e]=a[e]?a[e]:""}),s},axTplToArr=(t,e,i,s,a)=>{let o=axIdToDom(t),n=[];if(s){o.querySelectorAll(s).forEach(t=>{let s={};e.forEach((e,o)=>{let n=t.querySelector("["+e+"]");s[i[o]]=n?n.getAttribute(e)?n.getAttribute(e).trim():n.innerHTML.trim():a[o]||""}),n.push(s)})}else{let t={};e.forEach((e,s)=>{let n=o.querySelector("["+e+"]");t[i[s]]=n?n.getAttribute(e)?n.getAttribute(e).trim():n.innerHTML.trim():a[s]||""}),n.push(t)}return n},axDataset=(t,e)=>{let i=t?axIdToDom(t):null,s=/^\d+(\.\d+)?$/,a=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;if(i){let t=[...i.attributes].filter(t=>0==t.name.indexOf("data-"));if(!axIsEmpty(t)){let i=axClone(e),o=t=>{for(let e in t){let i=e.toLowerCase();t[i]=t[e],axTypeIs("Object",t[e])&&o(t[e]),i!=e&&delete t[e]}};o(i);for(let e=0;e<t.length;e++){let o=t[e].value.trim(),n=t[e].name;"true"==o?o=JSON.parse("true"):"false"==o?o=JSON.parse("false"):"null"==o?o=null:"["==o.substr(0,1)&&"]"==o.substr(-1)?o=JSON.parse(o):-1!=o.replace(/\s*/g,"").indexOf("},{")&&(o=JSON.parse("["+o+"]")),"string"==typeof o&&(s.test(o)||a.test(o))&&(o=Number(o));let r=n.split("-");r.length-1==1?i[r[1]]=o:r.length-1==2?i[r[1]][r[2]]=o:r.length-1==3?i[r[1]][r[2]][r[3]]=o:console.error("Three levels are supported!")}let n=(t,e)=>{for(let i in t){let s=i.toLowerCase();axTypeIs("Object",t[i])?n(t[i],e[s]):t[i]=e[s]}};n(e,i)}}return e},axAttrToJson=(t,e)=>{let i=axIdToDom(t);if(!i)return console.warn("The attribute node does not exist!"),{};let s=i.getAttribute(e);if(!e||!s)return{};if(!s.includes(":"))return{};let a=s.trim();return a.startsWith("{")||(a="{"+a+"}"),new Function("return "+a)()},axExtend=(t,e,i,s)=>{if(!t)return console.error(axError.notExist),!1;let a=i?axIdToDom(i):null;return axMerge(t,e),a&&axMerge(t,axAttrToJson(a,s)),t},axAddPlan=(t,e,i)=>{t in i.handlers||(i.handlers[t]=[]);let s=e.toString().replace(/\s/g,"").replace(/\;/g,"").match(/{(\S*)}/)[1];!(i.handlers[t].toString().replace(/\s/g,"").replace(/\;/g,"").indexOf(s)>-1)&&i.handlers[t].push(e)},axExePlan=(t,e,...i)=>{if(!(t in e.handlers))return console.error("The event is not registered!");e.handlers[t].forEach(t=>{t.call(e,...i)})},axDelPlan=(t,e,i)=>{if(!(t in i.handlers))return console.error("Invalid event!");if(e){let s=i.handlers[t].findIndex(t=>t===e);if(void 0===s)return console.error("This event is not bound!");i.handlers[t].splice(s,1),0===i.handlers[t].length&&delete i.handlers[t]}else delete i.handlers[t]},axAddElem=(t,e,i)=>{t.toLowerCase();let s=document.createElement(t);if(e)for(k in e)s.setAttribute(k,e[k]);let a=function(t,e){if(!e)return!1;Array.isArray(e)?e.length>0&&e.forEach(e=>{a(t,e)}):"object"==typeof e?t.appendChild(e):t.insertAdjacentHTML("beforeEnd",e)};return a(s,i),s},axAddWrap=(t,e,i,s,a)=>{if(!t)return console.error(axError.notExist),!1;let o=axIdToDom(t),n="";return e?n=axIdToDom(e):!n&&i&&(n=axAddElem(i,s,a)),o.nextSibling?o.parentNode!==n&&o.parentNode.insertBefore(n,o.nextSibling):o.parentNode!==n&&o.parentNode.appendChild(n),n.appendChild(o)},axStrToFilter=(t,e,i)=>{let s=new Function("source","return "+`source.filter(item =>${t})`)(e);return i&&i(s),s},axRangeReplace=(t,e,i,s,a)=>{"string"!=typeof t&&(t=JSON.stringify(t)),"string"!=typeof e&&(t=JSON.stringify(e));let o="";return o=i||s?s?i?t.substring(0,i)+e+t.substring(s):a?t.substring(s-a)+e+t.substring(0,i):e+t.substring(s):a?t.substring(0,i)+e+t.substring(i+a):t.substring(0,i)+e:e,o},axArrange=(t,e,i=0,s=[],a=[])=>{let o=t.length;if(!(i+e>o)){for(let n=i;n<o;n++){if(1===e){a.push([...s,t[n]]),n+1<o&&axArrange(t,e,n+1,s,a);break}axArrange(t,e-1,n+1,[...s,t[n]],a)}return a}},axCleanString=t=>"string"!=typeof t?t:t.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),axHideSize=(t,e,i)=>{let s=axIdToDom(t),a=i?axIdToDom(i):null,o={};if(a){let e=[];axParents2(i,t,!0,!0).forEach(t=>{let i=window.getComputedStyle(t).display,s=t.style.cssText;"none"==i&&(t.style.cssText="display:block;visibility:hidden;position:fixed"),e.push(s)}),o={height:a.offsetHeight,width:a.offsetWidth,offsetLeft:a.offsetLeft,offsetTop:a.offsetTop},axParents2(i,t,!0,!0).forEach((t,i)=>{e[i]?t.style.cssText=e[i]:t.removeAttribute("style")})}else{let t=window.getComputedStyle(s).display,e=s.style.cssText;"none"==t&&(s.style.cssText="display:block;visibility:hidden;position:fixed"),o={height:s.offsetHeight,width:s.offsetWidth,offsetLeft:s.offsetLeft,offsetTop:s.offsetTop},e?s.style.cssText=e:s.removeAttribute("style")}return o[e]},axAjax=(t,e,i)=>{if(!t)return console.error("There is no options!"),!1;let s=axAddElem("SPAN",{"ajax-message":""}),a=e?axIdToDom(e):null;a&&a.appendChild(s);let o={url:"",selector:"",type:"post",async:!0,data:{},delay:6e4,contentType:"",headers:{},responseType:"",abort:()=>{a?(s.innerHTML='<i class="ax-color-warning">中止了请求！</i>',a.setAttribute("ajax-result","abort")):console.error("中止了请求！")},timeout:()=>{a?(s.innerHTML='<i class="ax-color-danger">请求超时了！</i>',a.setAttribute("ajax-result","timeout")):console.error("请求超时了！")},loading:'<span class="ax-loading"><i></i></span>',before:t=>{a&&(s.innerHTML=t,a.setAttribute("ajax-result","before"))},downloading:()=>{},uploading:()=>{},success:t=>{a&&(a.innerHTML=t,a.setAttribute("ajax-result","success"))},error:(t,e)=>{a?(s.innerHTML=`<i class="ax-color-danger">错误状态：${e}</i>`,a.setAttribute("ajax-result","error")):console.error(`错误状态：${e}`)}};for(k in t)o[k]=t[k];let n="";n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");let r="";if("FormData"==axType(o.data))r=o.data;else if("Object"==axType(o.data))if(o.contentType.includes("json"))r=JSON.stringify(o.data);else{for(k in o.data)r+="&"+k+"="+o.data[k];o.contentType="application/x-www-form-urlencoded"}else o.data=o.data.trim(),r=o.data.startsWith("&")?o.data.slice(1):o.data,o.contentType="application/x-www-form-urlencoded";if(o.headers["Content-Type"]=o.contentType,!o.contentType.includes("urlencoded")&&"get"==o.type.toLowerCase())return console.error("Please request data with post!"),!1;let l,h=()=>{for(k in o.headers)o.headers[k]&&n.setRequestHeader(k,o.headers[k])};n.timeout=o.delay,n.responseType=o.responseType;let d=new Promise((t,e)=>{let s=(t,e)=>{let i=t.loaded,s=t.total,o=0,n=0,r="0%",l=new Date(t.timeStamp).getTime();t.lengthComputable&&(o=i/s,n=Math.round(100*o),r=n+"%",e&&e(r,n,i,s,o,l,a))};n.upload.onprogress=t=>{s(t,(t,e,i,s,a,n,r)=>{!axIsEmpty(o.uploading)&&o.uploading(t,e,i,s,a,n,r)})},n.onprogress=t=>{s(t,(t,e,i,s,a,n,r)=>{!axIsEmpty(o.downloading)&&o.downloading(t,e,i,s,a,n,r)})},n.onerror=t=>{!axIsEmpty(o.error)&&o.error(n.response,n.status,a),e([n.response,n.status,a])},l=()=>{a&&a.setAttribute("ajax-result","timeout"),!axIsEmpty(o.timeout)&&o.timeout(n.response,n.status,a),e([n.response,n.status,a])},n.addEventListener("timeout",l),n.onreadystatechange=function(){if(n.readyState<4)!axIsEmpty(o.before)&&o.before(o.loading,n.status,a),i&&i(o.loading,n.status,a);else if(n.status>=200&&n.status<300||304==n.status)if(o.responseType&&"text"!=n.responseType)a&&a.setAttribute("ajax-result","success"),!axIsEmpty(o.success)&&o.success(n.response,n.status,a),t([n.response,n.status,a]);else{let e=document.createElement("div"),i="",s=/(<head\b[^<]*(?:(?!<\/head>)<[^<]*)*<\/head>)|(<\/?html.*?>)|(<\!DOCTYPE.*?html.*?>)|(<\/?body.*?>)/gi,r=axStrEnd(o.url,"#"),l=o.selector||r;e.innerHTML=n.responseText,l&&e.querySelector(l)?i=e.querySelector(l).innerHTML:l&&!e.querySelector(l)?(console.warn(`The node of "${o.selector}" is not exist!`),i=n.responseText.replace(s,"").trim()):i="{"==n.responseText.trim().substr(0,1)||"["==n.responseText.trim().substr(0,1)?JSON.parse(n.responseText.trim()):n.responseText.replace(s,"").trim(),a&&a.setAttribute("ajax-result","success"),!axIsEmpty(o.success)&&o.success(i,n.status,a),t([i,n.status,a])}else!axIsEmpty(o.error)&&o.error(n.response,n.status,a),e([n.response,n.status,a])},"get"==o.type.toLowerCase()?(n.open("get",o.url+"?now="+(new Date).getTime()+"&"+r,!0),h(),n.send()):"post"==o.type.toLowerCase()&&(n.open("post",o.url,!0),h(),n.send(r))}).catch(()=>{});return d.xhr=n,d.abort=()=>{l&&n.removeEventListener("timeout",l),n.abort(),!axIsEmpty(o.abort)&&o.abort(a,n)},d},axAjaxSubmit=(t,e,i,s="post",a,o,n,r,l,h={})=>{if(!t)return console.error("Url is required!"),!1;if(!e)return console.error("Form node is required!"),!1;let d=axIdToDom(e),c=i?axIdToDom(i):null,p=c?c.innerHTML:"",u=o||"button",m=Object.assign(h,{formClass:"ax-form-submitting",buttonClass:"ax-button-submitting",buttonText:"正在提交",overlayClass:"ax-form-overlay",overlayShowClass:"ax-show",successText:"恭喜！提交成功！",errorText:"对不起，提交失败！"}),f=d.querySelector(".ax-form-overlay")?d.querySelector(".ax-form-overlay"):axAddElem("div",{class:"ax-form-overlay"});if(d.classList.contains(m.formClass))return!1;if(c&&c.classList.contains(m.buttonClass))return!1;let g,x={};return d.querySelectorAll("[name]").forEach((function(t){x[t.getAttribute("name")]=t.value.trim()})),g=axAjax({url:t,data:x,type:s||"post",before:function(t){d.classList.add(m.formClass),c&&c.classList.add(m.buttonClass),"button"==u&&c?(c.innerHTML=m.buttonText,c.insertAdjacentHTML("afterbegin",'<i class="ax-btn-loading"></i>')):(f.innerHTML=t,f.classList.add(m.overlayClass),d.querySelector(".ax-form-overlay")||d.appendChild(f)),r&&r(t)},success:function(t){setTimeout(()=>{d.classList.remove(m.formClass),c&&c.classList.remove(m.buttonClass),"button"==u&&c?c.innerHTML=p:f.classList.remove(m.overlayClass),new axMessage({content:m.successText,result:"success",iconShow:!0}),a&&a(t)},0===n?0:n||1e3)},error:function(){"button"==u&&c?c.innerHTML=p:f.classList.remove(m.overlayClass),new axMessage({content:m.errorText,result:"error",iconShow:!0}),l&&l(data)}}),g.xhr},axOffset=t=>{if(!t)return console.error(axError.notExist),!1;let e,i,s=axIdToDom(t);return e=s.getBoundingClientRect().left+document.documentElement.scrollLeft,i=s.getBoundingClientRect().top+document.documentElement.scrollTop,{left:e,top:i}},axWidth=(t,e)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t),{width:s,paddingLeft:a,paddingRight:o,marginLeft:n,marginRight:r,borderLeftWidth:l,borderRightWidth:h}=getComputedStyle(i);return s=parseInt(s,10),a=parseInt(a,10),o=parseInt(o,10),n=parseInt(n,10),r=parseInt(r,10),borderLeft=parseInt(l,10),borderRight=parseInt(h,10),"inner"==e?s+a+o:"outer"==e?s+a+o+n+r+borderLeft+borderRight:s},axHeight=(t,e)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t),{height:s,paddingTop:a,paddingBottom:o,marginTop:n,marginBottom:r,borderTopWidth:l,borderBottomWidth:h}=getComputedStyle(i);return s=parseInt(s,10),a=parseInt(a,10),o=parseInt(o,10),n=parseInt(n,10),r=parseInt(r,10),borderTop=parseInt(l,10),borderBottom=parseInt(h,10),"inner"==e?s+a+o:"outer"==e?s+a+o+n+r+borderTop+borderBottom:s},axArrHeight=t=>{if(!t)return console.error(axError.notExist),!1;let e=axIdToDom(t),{height:i,paddingTop:s,paddingBottom:a,marginTop:o,marginBottom:n,borderTopWidth:r,borderBottomWidth:l}=getComputedStyle(e);return i=parseInt(i,10),s=parseInt(s,10),a=parseInt(a,10),o=parseInt(o,10),n=parseInt(n,10),borderTop=parseInt(r,10),borderBottom=parseInt(l,10),{height:i,paddingTop:s,paddingBottom:a,marginTop:o,marginBottom:n,borderTop:borderTop,borderBottom:borderBottom}},axSelector=(t,e)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t),s=!0;if(e){e=String(e).replace(/\s+/g,""),e=String(e).split(",");for(let t=0;t<e.length;t++){if(!e[t]){s=!0;break}if("class"==axStrType(e[t])){let a=e[t].replace(".","");if(i.classList.contains(a)){s=!0;break}s=!1}else if("id"==axStrType(e[t])){let a=e[t].replace("#","");if(i.getAttribute("id")==a){s=!0;break}s=!1}else{let a=e[t].toUpperCase();if(i.nodeName==a){s=!0;break}s=!1}}}else s=!0;return s},axNot=(t,e)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t),s=!0;if(e){e=String(e).replace(/\s+/g,""),e=String(e).split(",");for(let t=0;t<e.length;t++)if("class"==axStrType(e[t])){let a=e[t].replace(".","");if(i.classList.contains(a)){s=!0;break}s=!1}else if("id"==axStrType(e[t])){let a=e[t].replace("#","");if(i.getAttribute("id")==a){s=!0;break}s=!1}else if(e){let a=e[t].toUpperCase();if(i.nodeName==a){s=!0;break}s=!1}else s=!1}else s=!1;return s},axSiblings=(t,e,i,s)=>{if(!t)return console.error(axError.notExist),!1;let a=axIdToDom(t);return[...a.parentNode.children].filter(t=>e?axSelector(t,i)&&!axNot(t,s):t!==a&&axSelector(t,i)&&!axNot(t,s))},axChildren=(t,e,i)=>{if(!t)return console.error(axError.notExist),!1;return[...axIdToDom(t).children].filter(t=>axSelector(t,e)&&!axNot(t,i))},axParents=(t,e,i,s,a=[])=>{if(!t)return console.error("No node to start!"),!1;let o=axIdToDom(t),n=e?axIdToDom(e):null;return"BODY"!==o.parentElement.nodeName?(i&&a.indexOf(o)<0&&a.push(o),n?(s&&a.indexOf(n)<0&&a.push(n),o.parentElement!==n?(a.push(o.parentElement),axParents(o.parentElement,n,i,s,a)):a):(a.push(o.parentElement),axParents(o.parentElement,n,i,s,a))):a},axCurves={linear:t=>t,easeIn:t=>t*t*t,easeOut:t=>(t-1)*(t-1)*(t-1)+1,easeInOut:t=>t<.5?2*t*t:-2(t-1)*(t-1)+1,easeOutIn:t=>t<.5?Math.sqrt(.5*t):1-Math.sqrt(.5*(1-t))},axSlideDown=(t,e,i,s="easeOut")=>{if(!t)return console.error(axError.notExist),!1;let a=axIdToDom(t),o=a.style.cssText;if("none"===window.getComputedStyle(a).display){a.style.cssText=`${o}display: block;`;const{height:t,paddingTop:n,paddingBottom:r,marginTop:l,marginBottom:h}=axArrHeight(a);let d;d=void 0!==i&&"number"==typeof i?i:(t=>t/3+250)(t),a.style.cssText=`${o}display: block; padding-top: 0; padding-bottom: 0;margin-top: 0; margin-bottom: 0;`;const c=(new Date).getTime(),p=()=>{const i=(new Date).getTime()-c,u=i/d,m=axCurves[s](u),f=0+t*m,g=0+n*m,x=0+r*m,v=0+l*m,y=0+h*m;i<=d&&Math.ceil(f)<t?a.style.cssText=`${o}overflow:hidden;display: block; padding-top: ${g}px; padding-bottom: ${x}px;margin-top: ${v}px; margin-bottom: ${y}px; height: ${f}px`:a.style.cssText=`${o}display: block;`;const b=requestAnimationFrame(p);(Math.ceil(f)>=t||!t)&&(cancelAnimationFrame(b),e&&e())};p()}return a},axHeightDown=(t,e,i,s,a="easeOut")=>{if(!t)return console.error(axError.notExist),!1;let o=axIdToDom(t);const n=e&&e.height?e.height:axArrHeight(o).height,r=e&&e.paddingTop?e.paddingTop:axArrHeight(o).paddingTop,l=e&&e.paddingBottom?e.paddingBottom:axArrHeight(o).paddingBottom,h=e&&e.marginTop?e.marginTop:axArrHeight(o).marginTop,d=e&&e.marginBottom?e.marginBottom:axArrHeight(o).marginBottom;let c;c=void 0!==s&&"number"==typeof s?s:(t=>t/3+250)(n),o.style.overflow="hidden",o.style.height=0,r&&(o.style.paddingTop=0),l&&(o.style.paddingBottom=0),h&&(o.style.marginTop=0),d&&(o.style.marginBottom=0);const p=(new Date).getTime(),u=()=>{const t=(new Date).getTime()-p,e=t/c,s=axCurves[a](e),m=0+n*s,f=0+r*s,g=0+l*s,x=0+h*s,v=0+d*s;t<=c&&Math.ceil(m)<n?(o.style.height=m+"px",r&&(o.style.paddingTop=f+"px"),l&&(o.style.paddingBottom=g+"px"),h&&(o.style.marginTop=x+"px"),d&&(o.style.marginBottom=v+"px")):(o.style.height=n+"px",r&&(o.style.paddingTop=r+"px"),l&&(o.style.paddingBottom=l+"px"),h&&(o.style.marginTop=h+"px"),d&&(o.style.marginBottom=d+"px"));const y=requestAnimationFrame(u);(Math.ceil(m)>=n||!n)&&(cancelAnimationFrame(y),i&&i())};return u(),o},axSlideUp=(t,e,i,s="easeOut")=>{if(!t)return console.error(axError.notExist),!1;let a=axIdToDom(t),o=a.style.cssText;if("none"!==window.getComputedStyle(a).display){const{height:t,paddingTop:n,paddingBottom:r,marginTop:l,marginBottom:h}=axArrHeight(a);let d;d=void 0!==i&&"number"==typeof i?i:(t=>t/3+250)(t),a.style.cssText=`${o}display: block; padding-top: 0; padding-bottom: 0;margin-top: 0; margin-bottom: 0;`;const c=(new Date).getTime(),p=()=>{const i=(new Date).getTime()-c,u=i/d,m=axCurves[s](u),f=t+-t*m,g=n+-n*m,x=r+-r*m,v=l+-l*m,y=h+-h*m;i<=d&&Math.floor(f)>0?a.style.cssText=`${o}overflow:hidden;display: block; padding-top: ${g}px; padding-bottom: ${x}px;margin-top: ${v}px; margin-bottom: ${y}px; height: ${f}px`:a.style.cssText=`${o}display: none`;const b=requestAnimationFrame(p);(Math.floor(f)<=0||!t)&&(cancelAnimationFrame(b),e&&e())};p()}return a},axHeightUp=(t,e,i,s,a="easeOut")=>{if(!t)return console.error(axError.notExist),!1;let o=axIdToDom(t);const n=e&&e.height?e.height:axArrHeight(o).height,r=e&&e.paddingTop?e.paddingTop:axArrHeight(o).paddingTop,l=e&&e.paddingBottom?e.paddingBottom:axArrHeight(o).paddingBottom,h=e&&e.marginTop?e.marginTop:axArrHeight(o).marginTop,d=e&&e.marginBottom?e.marginBottom:axArrHeight(o).marginBottom;let c;c=void 0!==s&&"number"==typeof s?s:(t=>t/3+250)(n),o.style.overflow="hidden";const p=(new Date).getTime(),u=()=>{const t=(new Date).getTime()-p,e=t/c,s=axCurves[a](e),m=n+-n*s,f=r+-r*s,g=l+-l*s,x=h+-h*s,v=d+-d*s;t<=c&&Math.floor(m)>0?(o.style.height=m+"px",r&&(o.style.paddingTop=f+"px"),l&&(o.style.paddingBottom=g+"px"),h&&(o.style.marginTop=x+"px"),d&&(o.style.marginBottom=v+"px")):(o.style.height=0,r&&(o.style.paddingTop=0),l&&(o.style.paddingBottom=0),h&&(o.style.marginTop=0),d&&(o.style.marginBottom=0));const y=requestAnimationFrame(u);(Math.floor(m)<=0||!n)&&(cancelAnimationFrame(y),i&&i())};return u(),o},axSlideToggle=(t,e,i,s,a="easeOut")=>{if(!t)return console.error(axError.notExist),!1;let o=axIdToDom(t);return"none"===window.getComputedStyle(o).display?axSlideDown(o,e,s,a):axSlideUp(o,i,s,a),o},axFadeIn=(t,e,i,s=200,a="linear")=>{if(!t)return console.error(axError.notExist),!1;let o=axIdToDom(t);if(o){let t=window.getComputedStyle(o).display,i=window.getComputedStyle(o).opacity;if("none"===t){o.style.display=e||"block",o.style.opacity=0;let t=(new Date).getTime(),i=()=>{let n=(new Date).getTime()-t,r=n/s,l=axCurves[a](r);n<=s&&l<=1?(o.style.display=e||"block",o.style.opacity=l):(o.style.display=e||"block",o.style.opacity=1);let h=requestAnimationFrame(i);l>=1&&cancelAnimationFrame(h)};i()}else if("none"!==t&&1!==Number(i)){let e=(new Date).getTime(),n=()=>{let r=(new Date).getTime()-e,l=r/s,h=axCurves[a](l)+Number(i);r<=s&&h<=1?(o.style.display=t,o.style.opacity=h):(o.style.display=t,o.style.opacity=1);let d=requestAnimationFrame(n);h>=1&&cancelAnimationFrame(d)};n()}}return i&&i(),o},axFadeOut=(t,e,i=200,s="linear")=>{if(!t)return console.error(axError.notExist),!1;let a=axIdToDom(t);if(a){let t=window.getComputedStyle(a).display,e=window.getComputedStyle(a).opacity;if("none"!==t||0!==Number(e)){a.style.opacity=e;let t=(new Date).getTime(),o=()=>{let n=(new Date).getTime()-t,r=n/i,l=Number(e)-axCurves[s](r);n<=i&&l>0?a.style.opacity=l:(a.style.opacity=0,a.style.display="none");let h=requestAnimationFrame(o);l<=0&&cancelAnimationFrame(h)};o()}}return e&&e(),a},axFadeToggle=(t,e,i,s,a=200,o="linear")=>{if(!t)return console.error(axError.notExist),!1;let n=axIdToDom(t);if(n){let t=window.getComputedStyle(n).display,r=window.getComputedStyle(n).opacity;"none"===t?axFadeIn(n,e,i,a,o):Number(r)<=.5?axFadeIn(n,e,i,a,o):(Number(r),axFadeOut(n,s,a,o))}return n},axShow=(t,e,i)=>{if(!t)return console.error(axError.notExist),!1;let s=axIdToDom(t);"visible"==e?s.style.visibility="visible":s.style.display=e||"block",i&&i()},axHide=(t,e,i)=>{if(!t)return console.error(axError.notExist),!1;let s=axIdToDom(t);"hidden"==e?s.style.visibility="hidden":s.style.display="none",i&&i()},axToggle=(t,e,i,s,a)=>{if(!t)return console.error(axError.notExist),!1;let o=axIdToDom(t);axIsVisible(o)?axHide(o,i,a):axShow(o,e,s)},axScrollTo=(t,e,i="easeOut")=>{let s=document.documentElement.scrollTop,a=(new Date).getTime(),o=t?axIdToDom(t).getBoundingClientRect().top:-s;e&&"number"==typeof e||(e=Math.abs(o)/4+1e3);let n=()=>{let t=(new Date).getTime()-a,r=t/e,l=s+o*axCurves[i](r);window.scrollTo(0,l),n.timer=requestAnimationFrame(n),t>=e&&(window.scrollTo(0,l),cancelAnimationFrame(n.timer))};return n(),t},axIcon={font:{success:'<i class="ax-iconfont ax-icon-check-o"></i>',error:'<i class="ax-iconfont ax-icon-close-o"></i>',warning:'<i class="ax-iconfont ax-icon-warning-o"></i>',info:'<i class="ax-iconfont ax-icon-info-o"></i>',question:'<i class="ax-iconfont ax-icon-question-o"></i>',successFill:'<i class="ax-iconfont ax-icon-check-o-f"></i>',errorFill:'<i class="ax-iconfont ax-icon-close-o-f"></i>',warningFill:'<i class="ax-iconfont ax-icon-warning-o-f"></i>',infoFill:'<i class="ax-iconfont ax-icon-info-o-f"></i>',questionFill:'<i class="ax-iconfont ax-icon-question-o-f"></i>'},svg:{success:'<svg class="svg-success" xmlns="http://www.w3.org/2000/svg" width="86.6986mm" height="86.6986mm" viewBox="0 0 86.6986 86.6986"><path class="svg-line svg-bg" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-in-1" d="M26.316,42.859L37.9984,54.5414L60.3826,32.1572"></path></svg>',error:'<svg class="svg-error" xmlns="http://www.w3.org/2000/svg" width="86.6986mm" height="86.6986mm" viewBox="0 0 86.6986 86.6986"><path class="svg-line svg-bg" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-in-1" d="M28.774,57.9246L57.9247,28.7739"></path><path class="svg-line svg-in-2" d="M57.9246,57.9246L28.7739,28.7739"></path></svg>',warning:'<svg class="svg-warning" xmlns="http://www.w3.org/2000/svg" width="86.6986mm" height="86.6986mm" viewBox="0 0 86.6986 86.6986"><path class="svg-line svg-bg" d="M43.4611 7.24c2.8081,0.0924 4.39,1.7 5.3045,3.1159l17.4543 29.9414 17.3445 29.7538c0.5448,1.0193 1.596,4.0544 0.1109,6.4168 -1.4849,2.3626 -3.6815,2.9155 -5.3768,2.992l-34.9082 0.0002 -34.6892 -0.0002c-1.1636,-0.0421 -4.3433,-0.6583 -5.6666,-3.1131 -1.3232,-2.4549 -0.7085,-4.6157 0.0723,-6.1078l17.454 -29.9417 17.3449 -29.7537c0.6185,-0.977 2.7471,-3.396 5.5554,-3.3036z"></path><path class="svg-line svg-out" d="M43.4611 7.24c2.8081,0.0924 4.39,1.7 5.3045,3.1159l17.4543 29.9414 17.3445 29.7538c0.5448,1.0193 1.596,4.0544 0.1109,6.4168 -1.4849,2.3626 -3.6815,2.9155 -5.3768,2.992l-34.9082 0.0002 -34.6892 -0.0002c-1.1636,-0.0421 -4.3433,-0.6583 -5.6666,-3.1131 -1.3232,-2.4549 -0.7085,-4.6157 0.0723,-6.1078l17.454 -29.9417 17.3449 -29.7537c0.6185,-0.977 2.7471,-3.396 5.5554,-3.3036z"></path><path class="svg-line svg-in-1" d="M43.3493,27.8713L43.3493,57.2858"></path><circle class="svg-circle svg-in-2" cx="43.3492" cy="64.3337" r="2.1166"></circle></svg>',info:'<svg class="svg-info" xmlns="http://www.w3.org/2000/svg" width="86.6986mm" height="86.6986mm" viewBox="0 0 86.6986 86.6986"><path class="svg-line svg-bg" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-in-1" d="M43.3493,65.0602L43.3493,30.9723"></path><circle class="svg-circle svg-in-2" cx="43.3492" cy="23.5856" r="2.1166"></circle></svg>',question:'<svg class="svg-question" xmlns="http://www.w3.org/2000/svg" width="86.6986mm" height="86.6986mm" viewBox="0 0 86.6986 86.6986"><path class="svg-line svg-bg" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path><path class="svg-line svg-in-1" d="M32.3757 35.7255c-0.2203,-11.823 12.5789,-14.1087 18.4056,-9.4189 5.4663,4.3995 4.7426,12.804 -3.1088,17.9938 -3.0015,1.9839 -3.0003,3.8403 -3.0003,10.1707"></path><circle class="svg-circle svg-in-2" cx="44.6612" cy="60.5502" r="2.1166"></circle></svg>'}},axImage={loadSvg:getComputedStyle(document.documentElement).getPropertyValue("--load-svg").trim().split('"')[1],loadSvgW:getComputedStyle(document.documentElement).getPropertyValue("--load-svg-w").trim().split('"')[1],loadGif:getComputedStyle(document.documentElement).getPropertyValue("--load-gif").trim().split('"')[1],imgAvatar:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTYwcHgiIGhlaWdodD0iMTYwcHgiIHZpZXdCb3g9IjAgMCAxNjAgMTYwIj4NCjxyZWN0IHk9IjAiIGZpbGw9IiNGRkZGRkYiIHdpZHRoPSI4MCIgaGVpZ2h0PSIxNjAiLz4NCjxyZWN0IHg9IjgwIiBmaWxsPSIjRjRGNEY0IiB3aWR0aD0iODAiIGhlaWdodD0iMTYwIi8+DQo8cGF0aCBmaWxsPSIjQjJCMkIyIiBkPSJNOTguOTE2LDk3LjI1MmMxMC4zOTMtNi4zODIsMTcuMzQtMTcuODUxLDE3LjM0LTMwLjkxNmMwLTE5Ljk5Mi0xNi4yNjYtMzYuMjU1LTM2LjI1Ny0zNi4yNTUNCgljLTE5Ljk5MiwwLTM2LjI1NSwxNi4yNjMtMzYuMjU1LDM2LjI1NWMwLDEzLjA2NCw2Ljk0NiwyNC41MzQsMTcuMzM4LDMwLjkxNkMzNC4xMTQsMTA1LjM3MSwxNC40NjcsMTMwLjM4NywxNC40NjcsMTYwaDEzMS4wNjYNCglDMTQ1LjUzMywxMzAuMzg3LDEyNS44ODUsMTA1LjM3MSw5OC45MTYsOTcuMjUyeiIvPg0KPC9zdmc+DQo=",imgNone:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2MHB4IiBoZWlnaHQ9IjE2MHB4IiB2aWV3Qm94PSIwIDAgMTYwIDE2MCI+DQo8cmVjdCBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIvPg0KPGc+DQoJPGc+DQoJCTxnPg0KCQkJPHBhdGggZmlsbD0iI0M5Q0FDQSIgZD0iTTc5LjA4Nyw4Ny44Nkg2MS45ODNjLTEuNzE3LDAtMy4xMDgtMS4yMjMtMy4xMDktMi43M3YtMi4xMTFsOS4xNjMtNi45NThsMy4yODQsMi44NDENCgkJCQljMS43MDgsMS40ODYsNC40MjIsMS41ODUsNi4yNjIsMC4yMjhMOTMuMDcsNjcuNjI1bDYuMjI2LDUuNDc5YzAuNjI4LDAuNTkxLDAuODkyLDAuODU4LDEuNTgsMC44NTgNCgkJCQljMC40OTMsMCwwLjkwNC0wLjI0NCwxLjIxOS0wLjU4N2MwLjMzMy0wLjM2MywwLjMxMS0xLjIzOCwwLjMxMS0xLjY3MlY1Ny44MWMwLTMuMDE4LTIuNzgzLTUuNDY1LTYuMjE4LTUuNDY1SDYxLjk4Mw0KCQkJCWMtMy40MzUsMC02LjIxOCwyLjQ0Ny02LjIxOCw1LjQ2NXYyNy4zMmMwLDEuNDQ4LDAuNjU1LDIuODM5LDEuODIxLDMuODYzYzEuMTY3LDEuMDIzLDIuNzQ5LDEuNjAxLDQuMzk3LDEuNjAxaDE3LjA3MQ0KCQkJCWMwLjc5NSwwLDEuNTI1LTAuNTY3LDEuNTgyLTEuMjY1YzAuMDY1LTAuOC0wLjY1My0xLjQ2Ny0xLjU0Ny0xLjQ2N0w3OS4wODcsODcuODZ6IE01OC44NzUsNTcuODENCgkJCQljMC0xLjUwOSwxLjM5Mi0yLjczMiwzLjEwOS0yLjczMmgzNC4yMDNjMS43MTgsMCwzLjEwOSwxLjIyMywzLjEwOSwyLjczMnYxMS40MzRsLTQuMTIzLTMuNjI5DQoJCQkJYy0xLjE1Mi0wLjg1Ny0yLjg0LTAuODYtMy45OTYtMC4wMDhMNzUuNTg3LDc3LjAyOWMtMC42MTMsMC40NDktMS41MTMsMC40MTctMi4wODItMC4wNzVsLTMuMjg3LTIuODQNCgkJCQljLTEuMTU5LTAuOTkzLTIuOTg5LTEuMDQ0LTQuMjE2LTAuMTIxbC03LjEyNyw1LjQyTDU4Ljg3NSw1Ny44MUw1OC44NzUsNTcuODF6IE02Ny4wMDQsNjQuMjE1YzAsMS42NTgsMC45OTksMy4xNTMsMi41MywzLjc4Nw0KCQkJCWMxLjUzMiwwLjYzNSwzLjI5NSwwLjI4NSw0LjQ2Ny0wLjg4OGMxLjE3My0xLjE3MiwxLjUyMi0yLjkzNSwwLjg4OS00LjQ2NmMtMC42MzUtMS41MzEtMi4xMjktMi41MzEtMy43ODctMi41MzENCgkJCQljLTEuMDg3LDAtMi4xMywwLjQzMi0yLjg5OCwxLjJDNjcuNDM2LDYyLjA4Niw2Ny4wMDQsNjMuMTI3LDY3LjAwNCw2NC4yMTVMNjcuMDA0LDY0LjIxNXogTTEwMi4zMzgsNzkuNzM3DQoJCQkJYzMuNzM3LDMuNzMzLDMuNzM3LDkuNzg2LDAsMTMuNTJjLTMuNzM1LDMuNzM1LTkuNzg5LDMuNzM2LTEzLjUyMywwYy0zLjY4Mi0zLjc0NC0zLjY1NS05Ljc1NCwwLjA1Ny0xMy40NjMNCgkJCQlDOTIuNTgzLDc2LjA4Miw5OC41OTUsNzYuMDU2LDEwMi4zMzgsNzkuNzM3TDEwMi4zMzgsNzkuNzM3eiBNOTAuNzQ1LDkxLjMyNWMyLjI5NSwyLjI5NCw1Ljg4NiwyLjY1Nyw4LjU5MywwLjg2OWwtOS40NjItOS40NjQNCgkJCQljLTEuNzg3LDIuNzA2LTEuNDI0LDYuMjk4LDAuODY5LDguNTkyVjkxLjMyNXogTTEwMS4yNzIsOTAuMjU5YzEuNzgyLTIuNzA4LDEuNDE2LTYuMjk1LTAuODc1LTguNTg1DQoJCQkJYy0yLjI5My0yLjI5LTUuODc5LTIuNjU3LTguNTg3LTAuODc1TDEwMS4yNzIsOTAuMjU5eiBNMTAxLjI3Miw5MC4yNTkiLz4NCgkJPC9nPg0KCTwvZz4NCgk8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDU0LjgyMzcgMTEwLjU1MDgpIiBmaWxsPSIjQzlDQUNBIiBmb250LWZhbWlseT0iJ01pY3Jvc29mdFlhSGVpJyIgZm9udC1zaXplPSIxMi41ODc3Ij7mmoLml6Dlm77niYc8L3RleHQ+DQo8L2c+DQo8L3N2Zz4NCg==",empty:"data:image/svg+xml;base64,PHN2ZyB0PSIxNTg5ODk5NTI1MTA0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSIyNTI5IiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTExOC44MjY5NzEgMTM4LjQwOTE0M2E3Ljk2ODA0MSA3Ljk2ODA0MSAwIDAgMCA3LjkyMDYxMi03LjkyMDYxMlYxMTEuMzUxMDAzYTcuOTIwNjEyIDcuOTIwNjEyIDAgMSAwLTE1Ljg0MTIyNSAwdjE5LjE3MzA5OWE3Ljk2ODA0MSA3Ljk2ODA0MSAwIDAgMCA3LjkyMDYxMyA3LjkyMDYxM3ogbTE0LjU5NjIxOCAxNC41OTYyMThoMTkuMTg0OTU2YTcuOTIwNjEyIDcuOTIwNjEyIDAgMSAwIDAtMTUuODQxMjI0SDEzMy40MzUwNDZhNy45MjA2MTIgNy45MjA2MTIgMCAxIDAgMCAxNS44NDEyMjR6IG0tMjkuMTkyNDM3LTE1Ljc4MTkzOEg4NS4wNTc2NTNhNy45MjA2MTIgNy45MjA2MTIgMCAwIDAgMCAxNS44NDEyMjRoMTkuMTczMDk5YTcuOTIwNjEyIDcuOTIwNjEyIDAgMCAwIDAtMTUuODQxMjI0eiBtMTQuNTk2MjE5IDE0LjU4NDM2MWE3Ljk2ODA0MSA3Ljk2ODA0MSAwIDAgMC03LjkyMDYxMyA3LjkyMDYxMnYxOS4xNzMwOTlhNy45MjA2MTIgNy45MjA2MTIgMCAwIDAgMTUuODQxMjI1IDB2LTE5LjE0OTM4NWE3Ljk2ODA0MSA3Ljk2ODA0MSAwIDAgMC03LjkyMDYxMi03LjkyMDYxMnogbTc4OC41MDQwNyAxMTguMjc1NjFhMzguNzI1NjI4IDM4LjcyNTYyOCAwIDEgMCAzOC43MjU2MjggMzguNzI1NjI5IDM4LjY3ODIgMzguNjc4MiAwIDAgMC0zOC43NjEyLTM4Ljc4NDkxNXogbTAgNjEuNDkxNDZhMjIuODg0NDA0IDIyLjg4NDQwNCAwIDEgMSAyMi44ODQ0MDMtMjIuODg0NDAzIDIyLjkxOTk3NSAyMi45MTk5NzUgMCAwIDEtMjIuODg0NDAzIDIyLjg4NDQwM3pNNjkyLjUyNTkzMiA0Ny44NzkzOWEyMy41MDA5NzggMjMuNTAwOTc4IDAgMSAwLTIzLjUwMDk3OS0yMy41MDA5NzggMjMuNTAwOTc4IDIzLjUwMDk3OCAwIDAgMCAyMy41MDA5NzkgMjMuNTAwOTc4eiBtMC0zMS4zMDMwMTlhNy42NzE2MTEgNy42NzE2MTEgMCAxIDEtNy42NzE2MTEgNy42NzE2MTEgNy43MDcxODMgNy43MDcxODMgMCAwIDEgNy42NzE2MTEtNy42NzE2MTF6IG0wIDAiIGZpbGw9IiNlNmU2ZTYiIHAtaWQ9IjI1MzAiPjwvcGF0aD48cGF0aCBkPSJNMjc1Ljc2ODkyMyA5OTIuODE1NTUzYzAgMTEuMTQ1NzcyIDM4LjE1NjQ4MyAyMS4zNDI5NjcgOTkuODQ5NTE2IDI2Ljk2MzI4MmExMTk3LjE4NjMyMyAxMTk3LjE4NjMyMyAwIDAgMCAxOTkuOTEyNDYgMGM2MS45MDY0NjItNS41NzI4ODYgOTkuODQ5NTE1LTE1LjgxNzUxIDk5Ljg0OTUxNi0yNi45NjMyODJzLTM4LjE1NjQ4My0yMS4zNDI5NjctOTkuODQ5NTE2LTI2Ljk2MzI4MmExMTk3LjAyMDMyMiAxMTk3LjAyMDMyMiAwIDAgMC0xOTkuOTEyNDYgMGMtNjEuNjU3NDYxIDUuNTcyODg2LTk5Ljg0OTUxNSAxNS44MTc1MS05OS44NDk1MTYgMjYuOTYzMjgyeiBtMCAwIiBmaWxsPSIjZjBmMGYwIiBwLWlkPSIyNTMxIj48L3BhdGg+PHBhdGggZD0iTTU3MS4wMjUxNjIgNDgyLjg5NjQ5M2E3Ljc2NjQ2OSA3Ljc2NjQ2OSAwIDAgMC0xMS4xMzM5MTUgMGwtMTEuOTk5NDkgMTEuOTk5NDktMTEuOTk5NDkxLTExLjk5OTQ5YTcuODczMTgzIDcuODczMTgzIDAgMSAwLTExLjEzMzkxNCAxMS4xMzM5MTRsMTEuOTk5NDkgMTEuOTk5NDkxLTExLjk5OTQ5IDExLjk5OTQ5YTcuOTU2MTg0IDcuOTU2MTg0IDAgMSAwIDExLjI1MjQ4NiAxMS4yNTI0ODdsMTEuOTk5NDkxLTExLjk5OTQ5MSAxMS45OTk0OSAxMS45OTk0OTFhNy43NzgzMjYgNy43NzgzMjYgMCAwIDAgNS41NzI4ODYgMi4zNzE0NDEgNy41NzY3NTMgNy41NzY3NTMgMCAwIDAgNS41NzI4ODYtMi4zNzE0NDEgNy43NjY0NjkgNy43NjY0NjkgMCAwIDAgMC0xMS4xMzM5MTVsLTExLjk5OTQ5LTExLjk5OTQ5IDExLjk5OTQ5LTExLjk5OTQ5MWE4LjExMDMyOCA4LjExMDMyOCAwIDAgMC0wLjExODU3Mi0xMS4yNTI0ODZ6IG0tMTU0LjkwMjUxNCA0Ni4zOTcyMzlhNy44NzMxODMgNy44NzMxODMgMCAwIDAgNS41NzI4ODYgMi4zNzE0NDEgNy44NzMxODMgNy44NzMxODMgMCAwIDAgNS41NzI4ODYtMTMuNDgxNjQxbC0xMS45OTk0OTEtMTEuOTk5NDkxIDExLjk5OTQ5MS0xMS45OTk0OWE3Ljc2NjQ2OSA3Ljc2NjQ2OSAwIDAgMCAwLTExLjEzMzkxNSA3Ljk5MTc1NiA3Ljk5MTc1NiAwIDAgMC0xMS4yNjQzNDQgMGwtMTEuOTk5NDkxIDExLjk5OTQ5MS0xMS45OTk0OS0xMS45OTk0OTFhNy45OTE3NTYgNy45OTE3NTYgMCAwIDAtMTEuMjY0MzQ0IDAgNy43NjY0NjkgNy43NjY0NjkgMCAwIDAgMCAxMS4xMzM5MTVsMTEuOTk5NDkxIDExLjk5OTQ5LTExLjk5OTQ5MSAxMS45OTk0OTFhNy43NjY0NjkgNy43NjY0NjkgMCAwIDAgMCAxMS4xMzM5MTUgNy43NzgzMjYgNy43NzgzMjYgMCAwIDAgNS41NzI4ODYgMi4zNzE0NCA3LjU3Njc1MyA3LjU3Njc1MyAwIDAgMCA1LjU3Mjg4Ni0yLjM3MTQ0bDExLjk5OTQ5LTExLjk5OTQ5MXogbTU5Ljg3ODg4IDgzLjM5MTcxNmExMDcuMzkwNjk3IDEwNy4zOTA2OTcgMCAwIDAtNzcuNDUxMjU2IDMyLjY1NDc0IDcuOTU2MTg0IDcuOTU2MTg0IDAgMCAwIDAuMTE4NTcyIDExLjEzMzkxNSA3LjgzNzYxMiA3LjgzNzYxMiAwIDAgMCAxMS4xMzM5MTQtMC4xMTg1NzIgOTIuNjE2NjIxIDkyLjYxNjYyMSAwIDAgMSAxMzIuMzg1Njg0IDAgOC4xNTc3NTYgOC4xNTc3NTYgMCAwIDAgNS42OTE0NTcgMi4zNzE0NDEgNy44MjU3NTUgNy44MjU3NTUgMCAwIDAgNy4zMDQwMzgtNC44MjU4ODIgOC4wMTU0NyA4LjAxNTQ3IDAgMCAwLTEuNjEyNTgtOC42NTU3NTkgMTA3Ljc1ODI3MSAxMDcuNzU4MjcxIDAgMCAwLTc3LjU2OTgyOS0zMi41MzYxNjh6IG0wIDAiIGZpbGw9IiNkYmRiZGIiIHAtaWQ9IjI1MzIiPjwvcGF0aD48cGF0aCBkPSJNNzY4LjYwMTc1MyAzMTMuODcyMDQ5bC04Mi4xNDY3MS05MS42Nzk5MDJhOTQuMjI5MjAxIDk0LjIyOTIwMSAwIDAgMC03MC4xNDcyMTktMzEuMzAzMDE5SDI0Ni41MDUzNDRhODUuOTA1NDQzIDg1LjkwNTQ0MyAwIDAgMC04NS44NTgwMTUgODUuODU4MDE1djU2NC42NTE5MTRhODUuOTA1NDQzIDg1LjkwNTQ0MyAwIDAgMCA4NS44NTgwMTUgODUuODU4MDE1aDQ1OS40OTAzNzJhODUuOTA1NDQzIDg1LjkwNTQ0MyAwIDAgMCA4NS44NTgwMTQtODUuODU4MDE1VjM3NC42MTY1MDVhOTEuMDYzMzI3IDkxLjA2MzMyNyAwIDAgMC0yMy4yNjM4MzQtNjAuNzQ0NDU2eiBtLTk0LjAyNzYyOC04MS4xNjI1NjJsODIuMTQ2NzEgOTEuNjc5OTAyYTc3LjQyNzU0MyA3Ny40Mjc1NDMgMCAwIDEgMTQuMjI4NjQ1IDIzLjI2MzgzNGgtODUuNDkwNDQyYTM4Ljk2Mjc3MyAzOC45NjI3NzMgMCAwIDEtMzguOTc0NjMtMzguOTc0NjN2LTk1Ljg3NzM1MmE3Ny4yODUyNTYgNzcuMjg1MjU2IDAgMCAxIDI4LjA4OTcxNyAxOS45MjAxMDN6IG0xMDEuNDUwMjM4IDYwOC43MDE0MjhhNzAuMTIzNTA1IDcwLjEyMzUwNSAwIDAgMS03MC4wMjg2NDcgNzAuMDI4NjQ3SDI0Ni41MDUzNDRhNzAuMTIzNTA1IDcwLjEyMzUwNSAwIDAgMS03MC4wMjg2NDctNzAuMDI4NjQ3VjI3Ni43NDcxNDNhNzAuMTIzNTA1IDcwLjEyMzUwNSAwIDAgMSA3MC4wMjg2NDctNzAuMDI4NjQ3aDM2OS44MDI0OGE3OS40NDMyNjcgNzkuNDQzMjY3IDAgMCAxIDE0LjM0NzIxNyAxLjM2MzU3OHYxMDAuNTg0NjYyYTU0LjkxMDcxMiA1NC45MTA3MTIgMCAwIDAgNTQuODAzOTk3IDU0LjgwMzk5N2g4OS42OTk3NDlhODQuMzUyMTUgODQuMzUyMTUgMCAwIDEgMC44NjU1NzYgMTEuMTMzOTE1djQ2Ni43OTQ0MDl6IG0wIDAiIGZpbGw9IiNkYmRiZGIiIHAtaWQ9IjI1MzMiPjwvcGF0aD48L3N2Zz4="},axResult=(t,e)=>{if(!t)return console.error(axError.notExist),!1;let i=axIdToDom(t),s="";switch(e){case"success":s='<path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path>\n            <path class="svg-line svg-in-1" d="M26.316,42.859L37.9984,54.5414L60.3826,32.1572"></path>',i.querySelector("svg").classList.add("svg-success");break;case"error":s='<path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path>\n            <path class="svg-line svg-in-1" d="M28.774,57.9246L57.9247,28.7739"></path>\n            <path class="svg-line svg-in-2" d="M57.9246,57.9246L28.7739,28.7739"></path>',i.querySelector("svg").classList.add("svg-error");break;case"question":s='<path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path>\n            <path class="svg-line svg-in-1" d="M32.3757 35.7255c-0.2203,-11.823 12.5789,-14.1087 18.4056,-9.4189 5.4663,4.3995 4.7426,12.804 -3.1088,17.9938 -3.0015,1.9839 -3.0003,3.8403 -3.0003,10.1707"></path>\n            <circle class="svg-circle svg-in-2" cx="44.6612" cy="60.5502" r="2.1166"></circle>',i.querySelector("svg").classList.add("svg-question");break;case"info":s='<path class="svg-line svg-out" d="M7.238500000000002,43.3493A36.1108,36.1108 0,1,1 79.4601,43.3493A36.1108,36.1108 0,1,1 7.238500000000002,43.3493"></path>\n            <path class="svg-line svg-in-1" d="M43.3493,65.0602L43.3493,30.9723"></path>\n            <circle class="svg-circle svg-in-2" cx="43.3492" cy="23.5856" r="2.1166"></circle>',i.querySelector("svg").classList.add("svg-info")}i.classList.add("ax-result-show"),-1==i.querySelector("svg").innerHTML.indexOf("svg-in-1")&&i.querySelector("svg").insertAdjacentHTML("beforeend",s)},axCreateContent=(t,e,i="post",s)=>{let a,o=t.content;if("html"==t.type&&"string"==typeof t.content&&"id"==axStrType(t.content))t.content=document.querySelector(t.content).innerHTML;else if("html"==t.type&&"function"==typeof t.content)t.content=t.content.call(e);else if("async"==t.type&&t.url)if("id"==axStrType(t.url)){let o=t.url.match(/(\S*)\#/)[1],n="#"+t.url.match(/\#(\S*)/)[1],r=t.content;a=axAjax({url:o,type:i||"post",selector:n,before:e=>{t.content=e},success:i=>{t.content=i,e.content.innerHTML="function"==typeof r?r(i):i,s&&s()}})}else{let o=t.content;a=axAjax({url:t.url,type:i||"post",before:e=>{t.content=e},success:i=>{t.content=i,e.content.innerHTML="function"==typeof o?o(i):i,s&&s()}})}else"iframe"==t.type&&t.url?(t.content=`<iframe src="${t.url}" frameborder="0" width="100%" height="100%"></iframe>`,t.footerShow=!1):t.content?t.content=t.content:t.content="没有任何内容！";return"picture"==t.type&&t.url?t.content=`\n        <div class="ax-media-container"><img src="${t.url}" /></div>\n        <div class="ax-media-title">${t.name}</div>\n        ${o}\n        `:"video"==t.type&&t.url?t.content=`\n        <div class="ax-media-container"><video src="${t.url}" controls="controls" ></video></div>\n        <div class="ax-media-title">${t.name}</div>\n        ${o}\n        `:"audio"==t.type&&t.url&&(t.content=`\n        <div class="ax-media-container"><audio src="${t.url}" controls="controls" ></audio></div>\n        <div class="ax-media-title">${t.name}</div>\n        ${o}\n        `),{content:t.content,xhr:a?a.xhr:null}},axFooterBtns=(t,e)=>{let i=t.footerBreak?'<div class="ax-break-line"></div>':"",s="";if(t.note&&(t.note=`<div class="ax-note">${t.note}</div>`),t.footerShow)if("right"==t.footerType){let e="",a="",o="";t.confirm.text&&(a=`<a href="###" class="ax-btn ax-primary ${t.confirm.classname}"  confirm>${t.confirm.icon}${t.confirm.text}</a>`),t.cancel.text&&(e=`<a href="###" class="ax-btn ax-text ax-ignore ${t.cancel.classname}"  cancel>${t.cancel.icon}${t.cancel.text}</a>`),t.diy.text&&t.diy.callback?o=`<a href="###" class="ax-btn ax-text ${t.diy.classname}"  diy>${t.diy.icon}${t.diy.text}</a>`:t.diy.text&&!t.diy.callback&&(o=`<a href="${t.diy.url}" target="${t.diy.url}" class="ax-btn ax-text ${t.diy.classname}"  diy>${t.diy.icon}${t.diy.text}</a>`),s=`\n                                        ${i}\n                                        <div class="ax-padding">\n                                              <div class="ax-row">\n                                                  <div class="ax-col">\n                                                  ${t.note}\n                                                  </div>\n                                                  <div class="ax-btns">${o}${e}${a}</div>\n                                              </div>\n                                          </div>\n                          `}else if("line"==t.footerType){let e="",i="",a="";t.confirm.text&&(i=`<a href="###" class="ax-col ax-col-12 ${t.confirm.classname}"  confirm>${t.confirm.icon}${t.confirm.text}</a>`),t.cancel.text&&(e=`<a href="###" class="ax-col ax-col-12 ${t.cancel.classname}"  cancel>${t.cancel.icon}${t.cancel.text}</a><span class="ax-gutter-line"></span>`),t.diy.text&&t.diy.callback?a=`<a href="###" class="ax-col ax-col-12 ${t.diy.classname}"  diy>${t.diy.icon}${t.diy.text}</a><span class="ax-gutter-line"></span>`:t.diy.text&&!t.diy.callback&&(a=`<a href="${t.diy.url}" target="${t.diy.url}" class="ax-col ax-col-12 ${t.diy.classname}"  diy>${t.diy.icon}${t.diy.text}</a><span class="ax-gutter-line"></span>`),s=`\n                          <div class="ax-break-line"></div>\n                          <div class="ax-row">${a}${e}${i}</div>${t.note}\n                          `}else{let e="",a="",o="";t.confirm.text&&(a=`<a href="###" class="ax-btn ax-primary ${t.confirm.classname}"  confirm>${t.confirm.icon}${t.confirm.text}</a>`),t.cancel.text&&(e=`<a href="###" class="ax-btn ax-ignore ${t.cancel.classname}" cancel>${t.cancel.icon}${t.cancel.text}</a>`),t.diy.text&&t.diy.callback?o=`<a href="###" class="ax-btn ${t.diy.classname}" diy>${t.diy.icon}${t.diy.text}</a>`:t.diy.text&&!t.diy.callback&&(o=`<a href="${t.diy.url}" target="${t.diy.url}" class="ax-btn ${t.diy.classname}" diy>${t.diy.icon}${t.diy.text}</a>`),s=`\n                                        ${i}\n                                         <div class="ax-padding ax-align-center">${o}${e}${a}</div>\n                                         <div class="ax-break"></div>${t.note}\n                         `}else s="";return s},axLocalTime=(t,e)=>{let i,s,a,o,n;if(t){if(t=t.trim(),s=new Date(t),a=s instanceof Date&&!isNaN(s.getTime()),!a)return console.error('Date format must be "YYYY-MM-DD" or "YYYY/MM/DD"');i=t.replace(/-/g,"/"),o=new Date(i).getTime(),n=-1!==i.indexOf(":")?0:6e4*new Date(i).getTimezoneOffset()}else o=(new Date).getTime(),n=0;return e?o-n:o},axCreateData=(t,e=["src","cover","caption","type"],i=["media","cover","caption","type"],s="figure",a=["","","","image"],o)=>{let n=[],r="";return axTypeIs("String",t)&&"id"==axStrType(t)?n=axTplToArr(t,e,i,s,a):(axTypeIs("Array",t)||axTypeIs("Object",t)?r=JSON.stringify(t):axTypeIs("String",t)&&(r=t),n=axStrToArr(r,i,a)),n=n.filter(t=>t[i[0]]),o&&o(n),n},axSort=(t,e,i)=>{let s=[];Array.isArray(e)?s=e.filter(t=>t.order):e.order&&s.push(e);let a=(t,e,s)=>{if(0==s.length)return 0;let o,n,r,l=s.shift(),h=l.col,d=l.order,c=l.attr||"label";return"table"==i?"number"==typeof h?(n=t.children.filter(t=>t.index===h)[0][c],r=e.children.filter(t=>t.index===h)[0][c]):(n=t.children.find(t=>t.name===h)[c],r=e.children.find(t=>t.name===h)[c]):(n=t[h],r=e[h]),o=isNaN(n-r)?"desc"===d?r.localeCompare(n,"zh-CN-u-kf-lower"):n.localeCompare(r,"zh-CN-u-kf-lower"):"desc"===d?r-n:n-r,n===r?a(t,e,s):o};return t.sort((t,e)=>a(t,e,[...s]))}
/*!
 * 插件：表单序列化；使用方法：new axSerialize('#id')
 * 支持将表单值序列化为以“&”连接的字符串，和对象数组[{name:'',value:''},...]
 */,axSerialize=(t,e="string",i=",")=>{let s,a,o=[];if(s=Array.isArray(t)?t:[...axIdToDom(t).querySelectorAll("[name]")].filter(t=>["INPUT","SELECT","TEXTAREA"].includes(t.nodeName)&&t.name&&!t.name.includes("_ax_alt")),s.forEach(t=>{let e=o.find(e=>e.name==t.name);e?"checkbox"!=t.type&&"radio"!=t.type||e.dom.push(t):o.push({name:t.name,type:t.type,dom:[t]})}),o.forEach(t=>{"file"==t.type?t.value=axMultiValues(t.dom[0],"file","array"):"checkbox"==t.type?t.value=axMultiValues(t.dom,"checkbox","string","",i):"radio"==t.type?t.value=axMultiValues(t.dom,"radio","string"):t.type.includes("select")?t.value=axMultiValues(t.dom[0],"select","string","",i):t.value=t.dom[0].value}),"string"==e){let t="";o.forEach(e=>{t+="&"+e.name+"="+e.value}),a=t}else if("json"==e){let t={};o.forEach(e=>{t[e.name]=e.value}),a=t}else"array"==e&&(o.forEach(t=>{delete t.type,delete t.dom}),a=o);return a}
/*!
 * 轮播插件axSwipe，使用方法：new axSwipe('#id',{参数})。源自Swiper v8.1.4 from https://swiperjs.com | AXUI做了部分修改
 */;!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).axSwiper=e(),document.querySelectorAll("[axSwiper]").forEach(t=>{new axSwiper(t,axAttrToJson(t,"axSwiper"))})}(this,(function(){"use strict";function t(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function e(i,s){void 0===i&&(i={}),void 0===s&&(s={}),Object.keys(s).forEach(a=>{void 0===i[a]?i[a]=s[a]:t(s[a])&&t(i[a])&&Object.keys(s[a]).length>0&&e(i[a],s[a])})}const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const t="undefined"!=typeof document?document:{};return e(t,i),t}const a={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function o(){const t="undefined"!=typeof window?window:{};return e(t,a),t}class n extends Array{constructor(t){"number"==typeof t?super(t):(super(...t||[]),function(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get:()=>e,set(t){e.__proto__=t}})}(this))}}function r(t){void 0===t&&(t=[]);const e=[];return t.forEach(t=>{Array.isArray(t)?e.push(...r(t)):e.push(t)}),e}function l(t,e){return Array.prototype.filter.call(t,e)}function h(t,e){const i=o(),a=s();let r=[];if(!e&&t instanceof n)return t;if(!t)return new n(r);if("string"==typeof t){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let t="div";0===i.indexOf("<li")&&(t="ul"),0===i.indexOf("<tr")&&(t="tbody"),0!==i.indexOf("<td")&&0!==i.indexOf("<th")||(t="tr"),0===i.indexOf("<tbody")&&(t="table"),0===i.indexOf("<option")&&(t="select");const e=a.createElement(t);e.innerHTML=i;for(let t=0;t<e.childNodes.length;t+=1)r.push(e.childNodes[t])}else r=function(t,e){if("string"!=typeof t)return[t];const i=[],s=e.querySelectorAll(t);for(let t=0;t<s.length;t+=1)i.push(s[t]);return i}(t.trim(),e||a)}else if(t.nodeType||t===i||t===a)r.push(t);else if(Array.isArray(t)){if(t instanceof n)return t;r=t}return new n(function(t){const e=[];for(let i=0;i<t.length;i+=1)-1===e.indexOf(t[i])&&e.push(t[i]);return e}(r))}h.fn=n.prototype;const d={addClass:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=r(e.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...s)}),this},removeClass:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=r(e.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...s)}),this},hasClass:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=r(e.map(t=>t.split(" ")));return l(this,t=>s.filter(e=>t.classList.contains(e)).length>0).length>0},toggleClass:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=r(e.map(t=>t.split(" ")));this.forEach(t=>{s.forEach(e=>{t.classList.toggle(e)})})},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(t,e);else for(const e in t)this[i][e]=t[e],this[i].setAttribute(e,t[e]);return this},removeAttr:function(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?`${t}ms`:t;return this},on:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[s,a,o,n]=e;function r(t){const e=t.target;if(!e)return;const i=t.target.dom7EventData||[];if(i.indexOf(t)<0&&i.unshift(t),h(e).is(a))o.apply(e,i);else{const t=h(e).parents();for(let e=0;e<t.length;e+=1)h(t[e]).is(a)&&o.apply(t[e],i)}}function l(t){const e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),o.apply(this,e)}"function"==typeof e[1]&&([s,o,n]=e,a=void 0),n||(n=!1);const d=s.split(" ");let c;for(let t=0;t<this.length;t+=1){const e=this[t];if(a)for(c=0;c<d.length;c+=1){const t=d[c];e.dom7LiveListeners||(e.dom7LiveListeners={}),e.dom7LiveListeners[t]||(e.dom7LiveListeners[t]=[]),e.dom7LiveListeners[t].push({listener:o,proxyListener:r}),e.addEventListener(t,r,n)}else for(c=0;c<d.length;c+=1){const t=d[c];e.dom7Listeners||(e.dom7Listeners={}),e.dom7Listeners[t]||(e.dom7Listeners[t]=[]),e.dom7Listeners[t].push({listener:o,proxyListener:l}),e.addEventListener(t,l,n)}}return this},off:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[s,a,o,n]=e;"function"==typeof e[1]&&([s,o,n]=e,a=void 0),n||(n=!1);const r=s.split(" ");for(let t=0;t<r.length;t+=1){const e=r[t];for(let t=0;t<this.length;t+=1){const i=this[t];let s;if(!a&&i.dom7Listeners?s=i.dom7Listeners[e]:a&&i.dom7LiveListeners&&(s=i.dom7LiveListeners[e]),s&&s.length)for(let t=s.length-1;t>=0;t-=1){const a=s[t];o&&a.listener===o?(i.removeEventListener(e,a.proxyListener,n),s.splice(t,1)):o&&a.listener&&a.listener.dom7proxy&&a.listener.dom7proxy===o?(i.removeEventListener(e,a.proxyListener,n),s.splice(t,1)):o||(i.removeEventListener(e,a.proxyListener,n),s.splice(t,1))}}}return this},trigger:function(){const t=o();for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const a=i[0].split(" "),n=i[1];for(let e=0;e<a.length;e+=1){const s=a[e];for(let e=0;e<this.length;e+=1){const a=this[e];if(t.CustomEvent){const e=new t.CustomEvent(s,{detail:n,bubbles:!0,cancelable:!0});a.dom7EventData=i.filter((t,e)=>e>0),a.dispatchEvent(e),a.dom7EventData=[],delete a.dom7EventData}}}return this},transitionEnd:function(t){const e=this;return t&&e.on("transitionend",(function i(s){s.target===this&&(t.call(this,s),e.off("transitionend",i))})),this},outerWidth:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const t=o();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const t=o(),e=s(),i=this[0],a=i.getBoundingClientRect(),n=e.body,r=i.clientTop||n.clientTop||0,l=i.clientLeft||n.clientLeft||0,h=i===t?t.scrollY:i.scrollTop,d=i===t?t.scrollX:i.scrollLeft;return{top:a.top+h-r,left:a.left+d-l}}return null},css:function(t,e){const i=o();let s;if(1===arguments.length){if("string"!=typeof t){for(s=0;s<this.length;s+=1)for(const e in t)this[s].style[e]=t[e];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(s=0;s<this.length;s+=1)this[s].style[t]=e;return this}return this},each:function(t){return t?(this.forEach((e,i)=>{t.apply(e,[e,i])}),this):this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){const e=o(),i=s(),a=this[0];let r,l;if(!a||void 0===t)return!1;if("string"==typeof t){if(a.matches)return a.matches(t);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(t);if(a.msMatchesSelector)return a.msMatchesSelector(t);for(r=h(t),l=0;l<r.length;l+=1)if(r[l]===a)return!0;return!1}if(t===i)return a===i;if(t===e)return a===e;if(t.nodeType||t instanceof n){for(r=t.nodeType?[t]:t,l=0;l<r.length;l+=1)if(r[l]===a)return!0;return!1}return!1},index:function(){let t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;const e=this.length;if(t>e-1)return h([]);if(t<0){const i=e+t;return h(i<0?[]:[this[i]])}return h([this[t]])},append:function(){let t;const e=s();for(let i=0;i<arguments.length;i+=1){t=i<0||arguments.length<=i?void 0:arguments[i];for(let i=0;i<this.length;i+=1)if("string"==typeof t){const s=e.createElement("div");for(s.innerHTML=t;s.firstChild;)this[i].appendChild(s.firstChild)}else if(t instanceof n)for(let e=0;e<t.length;e+=1)this[i].appendChild(t[e]);else this[i].appendChild(t)}return this},prepend:function(t){const e=s();let i,a;for(i=0;i<this.length;i+=1)if("string"==typeof t){const s=e.createElement("div");for(s.innerHTML=t,a=s.childNodes.length-1;a>=0;a-=1)this[i].insertBefore(s.childNodes[a],this[i].childNodes[0])}else if(t instanceof n)for(a=0;a<t.length;a+=1)this[i].insertBefore(t[a],this[i].childNodes[0]);else this[i].insertBefore(t,this[i].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&h(this[0].nextElementSibling).is(t)?h([this[0].nextElementSibling]):h([]):this[0].nextElementSibling?h([this[0].nextElementSibling]):h([]):h([])},nextAll:function(t){const e=[];let i=this[0];if(!i)return h([]);for(;i.nextElementSibling;){const s=i.nextElementSibling;t?h(s).is(t)&&e.push(s):e.push(s),i=s}return h(e)},prev:function(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&h(e.previousElementSibling).is(t)?h([e.previousElementSibling]):h([]):e.previousElementSibling?h([e.previousElementSibling]):h([])}return h([])},prevAll:function(t){const e=[];let i=this[0];if(!i)return h([]);for(;i.previousElementSibling;){const s=i.previousElementSibling;t?h(s).is(t)&&e.push(s):e.push(s),i=s}return h(e)},parent:function(t){const e=[];for(let i=0;i<this.length;i+=1)null!==this[i].parentNode&&(t?h(this[i].parentNode).is(t)&&e.push(this[i].parentNode):e.push(this[i].parentNode));return h(e)},parents:function(t){const e=[];for(let i=0;i<this.length;i+=1){let s=this[i].parentNode;for(;s;)t?h(s).is(t)&&e.push(s):e.push(s),s=s.parentNode}return h(e)},closest:function(t){let e=this;return void 0===t?h([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){const e=[];for(let i=0;i<this.length;i+=1){const s=this[i].querySelectorAll(t);for(let t=0;t<s.length;t+=1)e.push(s[t])}return h(e)},children:function(t){const e=[];for(let i=0;i<this.length;i+=1){const s=this[i].children;for(let i=0;i<s.length;i+=1)t&&!h(s[i]).is(t)||e.push(s[i])}return h(e)},filter:function(t){return h(l(this,t))},remove:function(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};function c(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function p(){return Date.now()}function u(t,e){void 0===e&&(e="x");const i=o();let s,a,n;const r=function(t){const e=o();let i;return e.getComputedStyle&&(i=e.getComputedStyle(t,null)),!i&&t.currentStyle&&(i=t.currentStyle),i||(i=t.style),i}(t);return i.WebKitCSSMatrix?(a=r.transform||r.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(t=>t.replace(",",".")).join(", ")),n=new i.WebKitCSSMatrix("none"===a?"":a)):(n=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=n.toString().split(",")),"x"===e&&(a=i.WebKitCSSMatrix?n.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===e&&(a=i.WebKitCSSMatrix?n.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),a||0}function m(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function f(t){return"undefined"!=typeof window&&void 0!==window.HTMLElement?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType)}function g(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const s=i<0||arguments.length<=i?void 0:arguments[i];if(null!=s&&!f(s)){const i=Object.keys(Object(s)).filter(t=>e.indexOf(t)<0);for(let e=0,a=i.length;e<a;e+=1){const a=i[e],o=Object.getOwnPropertyDescriptor(s,a);void 0!==o&&o.enumerable&&(m(t[a])&&m(s[a])?s[a].__swiper__?t[a]=s[a]:g(t[a],s[a]):!m(t[a])&&m(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:g(t[a],s[a])):t[a]=s[a])}}}return t}function x(t,e,i){t.style.setProperty(e,i)}function v(t){let{swiper:e,targetPosition:i,side:s}=t;const a=o(),n=-e.translate;let r,l=null;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const d=i>n?"next":"prev",c=(t,e)=>"next"===d&&t>=e||"prev"===d&&t<=e,p=()=>{r=(new Date).getTime(),null===l&&(l=r);const t=Math.max(Math.min((r-l)/h,1),0),o=.5-Math.cos(t*Math.PI)/2;let d=n+o*(i-n);if(c(d,i)&&(d=i),e.wrapperEl.scrollTo({[s]:d}),c(d,i))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:d})}),void a.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=a.requestAnimationFrame(p)};p()}let y,b,w;function D(){return y||(y=function(){const t=o(),e=s();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let e=!1;try{const i=Object.defineProperty({},"passive",{get(){e=!0}});t.addEventListener("testPassiveListener",null,i)}catch(t){}return e}(),gestures:"ongesturestart"in t}}()),y}function T(t){return void 0===t&&(t={}),b||(b=function(t){let{userAgent:e}=void 0===t?{}:t;const i=D(),s=o(),a=s.navigator.platform,n=e||s.navigator.userAgent,r={ios:!1,android:!1},l=s.screen.width,h=s.screen.height,d=n.match(/(Android);?[\s\/]+([\d.]+)?/);let c=n.match(/(iPad).*OS\s([\d_]+)/);const p=n.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m="Win32"===a;let f="MacIntel"===a;return!c&&f&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${h}`)>=0&&(c=n.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),f=!1),d&&!m&&(r.os="android",r.android=!0),(c||u||p)&&(r.os="ios",r.ios=!0),r}(t)),b}function E(){return w||(w=function(){const t=o();return{isSafari:function(){const e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),w}Object.keys(d).forEach(t=>{Object.defineProperty(h.fn,t,{value:d[t],writable:!0})});var M={on(t,e,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const a=i?"unshift":"push";return t.split(" ").forEach(t=>{s.eventsListeners[t]||(s.eventsListeners[t]=[]),s.eventsListeners[t][a](e)}),s},once(t,e,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;function a(){s.off(t,a),a.__emitterProxy&&delete a.__emitterProxy;for(var i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];e.apply(s,o)}return a.__emitterProxy=e,s.on(t,a,i)},onAny(t,e){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;const s=e?"unshift":"push";return i.eventsAnyListeners.indexOf(t)<0&&i.eventsAnyListeners[s](t),i},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsAnyListeners)return e;const i=e.eventsAnyListeners.indexOf(t);return i>=0&&e.eventsAnyListeners.splice(i,1),e},off(t,e){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(t.split(" ").forEach(t=>{void 0===e?i.eventsListeners[t]=[]:i.eventsListeners[t]&&i.eventsListeners[t].forEach((s,a)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&i.eventsListeners[t].splice(a,1)})}),i):i},emit(){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let e,i,s;for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return"string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],i=o.slice(1,o.length),s=t):(e=o[0].events,i=o[0].data,s=o[0].context||t),i.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(t=>{t.apply(s,[e,...i])}),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach(t=>{t.apply(s,i)})}),t}};function S(t){let{swiper:e,runCallbacks:i,direction:s,step:a}=t;const{activeIndex:o,previousIndex:n}=e;let r=s;if(r||(r=o>n?"next":o<n?"prev":"reset"),e.emit(`transition${a}`),i&&o!==n){if("reset"===r)return void e.emit(`slideResetTransition${a}`);e.emit(`slideChangeTransition${a}`),"next"===r?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function A(t){const e=this,i=s(),a=o(),n=e.touchEventsData,{params:r,touches:l,enabled:d}=e;if(!d)return;if(e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let c=t;c.originalEvent&&(c=c.originalEvent);let u=h(c.target);if("wrapper"===r.touchEventsTarget&&!u.closest(e.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===c.type,!n.isTouchEvent&&"which"in c&&3===c.which)return;if(!n.isTouchEvent&&"button"in c&&c.button>0)return;if(n.isTouched&&n.isMoved)return;!!r.noSwipingClass&&""!==r.noSwipingClass&&c.target&&c.target.shadowRoot&&t.path&&t.path[0]&&(u=h(t.path[0]));const m=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!(!c.target||!c.target.shadowRoot);if(r.noSwiping&&(f?function(t,e){return void 0===e&&(e=this),function e(i){return i&&i!==s()&&i!==o()?(i.assignedSlot&&(i=i.assignedSlot),i.closest(t)||e(i.getRootNode().host)):null}(e)}(m,c.target):u.closest(m)[0]))return void(e.allowClick=!0);if(r.swipeHandler&&!u.closest(r.swipeHandler)[0])return;l.currentX="touchstart"===c.type?c.targetTouches[0].pageX:c.pageX,l.currentY="touchstart"===c.type?c.targetTouches[0].pageY:c.pageY;const g=l.currentX,x=l.currentY,v=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,y=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(v&&(g<=y||g>=a.innerWidth-y)){if("prevent"!==v)return;axPreventDefault(t)}if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=g,l.startY=x,n.touchStartTime=p(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==c.type){let t=!0;u.is(n.focusableElements)&&(t=!1,"SELECT"===u[0].nodeName&&(n.isTouched=!1)),i.activeElement&&h(i.activeElement).is(n.focusableElements)&&i.activeElement!==u[0]&&i.activeElement.blur();const s=t&&e.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!s||u[0].isContentEditable||axPreventDefault(c)}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",c)}function C(t){const e=s(),i=this,a=i.touchEventsData,{params:o,touches:n,rtlTranslate:r,enabled:l}=i;if(!l)return;let d=t;if(d.originalEvent&&(d=d.originalEvent),!a.isTouched)return void(a.startMoving&&a.isScrolling&&i.emit("touchMoveOpposite",d));if(a.isTouchEvent&&"touchmove"!==d.type)return;const c="touchmove"===d.type&&d.targetTouches&&(d.targetTouches[0]||d.changedTouches[0]),u="touchmove"===d.type?c.pageX:d.pageX,m="touchmove"===d.type?c.pageY:d.pageY;if(d.preventedByNestedSwiper)return n.startX=u,void(n.startY=m);if(!i.allowTouchMove)return h(d.target).is(a.focusableElements)||(i.allowClick=!1),void(a.isTouched&&(Object.assign(n,{startX:u,startY:m,currentX:u,currentY:m}),a.touchStartTime=p()));if(a.isTouchEvent&&o.touchReleaseOnEdges&&!o.loop)if(i.isVertical()){if(m<n.startY&&i.translate<=i.maxTranslate()||m>n.startY&&i.translate>=i.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(u<n.startX&&i.translate<=i.maxTranslate()||u>n.startX&&i.translate>=i.minTranslate())return;if(a.isTouchEvent&&e.activeElement&&d.target===e.activeElement&&h(d.target).is(a.focusableElements))return a.isMoved=!0,void(i.allowClick=!1);if(a.allowTouchCallbacks&&i.emit("touchMove",d),d.targetTouches&&d.targetTouches.length>1)return;n.currentX=u,n.currentY=m;const f=n.currentX-n.startX,g=n.currentY-n.startY;if(i.params.threshold&&Math.sqrt(f**2+g**2)<i.params.threshold)return;if(void 0===a.isScrolling){let t;i.isHorizontal()&&n.currentY===n.startY||i.isVertical()&&n.currentX===n.startX?a.isScrolling=!1:f*f+g*g>=25&&(t=180*Math.atan2(Math.abs(g),Math.abs(f))/Math.PI,a.isScrolling=i.isHorizontal()?t>o.touchAngle:90-t>o.touchAngle)}if(a.isScrolling&&i.emit("touchMoveOpposite",d),void 0===a.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(a.startMoving=!0)),a.isScrolling)return void(a.isTouched=!1);if(!a.startMoving)return;i.allowClick=!1,!o.cssMode&&d.cancelable&&axPreventDefault(d),o.touchMoveStopPropagation&&!o.nested&&d.stopPropagation(),a.isMoved||(o.loop&&!o.cssMode&&i.loopFix(),a.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!o.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",d)),i.emit("sliderMove",d),a.isMoved=!0;let x=i.isHorizontal()?f:g;n.diff=x,x*=o.touchRatio,r&&(x=-x),i.swipeDirection=x>0?"prev":"next",a.currentTranslate=x+a.startTranslate;let v=!0,y=o.resistanceRatio;if(o.touchReleaseOnEdges&&(y=0),x>0&&a.currentTranslate>i.minTranslate()?(v=!1,o.resistance&&(a.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+a.startTranslate+x)**y)):x<0&&a.currentTranslate<i.maxTranslate()&&(v=!1,o.resistance&&(a.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-a.startTranslate-x)**y)),v&&(d.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),i.allowSlidePrev||i.allowSlideNext||(a.currentTranslate=a.startTranslate),o.threshold>0){if(!(Math.abs(x)>o.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,a.currentTranslate=a.startTranslate,void(n.diff=i.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&i.freeMode||o.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&o.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(a.currentTranslate),i.setTranslate(a.currentTranslate))}function L(t){const e=this,i=e.touchEventsData,{params:s,touches:a,rtlTranslate:o,slidesGrid:n,enabled:r}=e;if(!r)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),i.allowTouchCallbacks&&e.emit("touchEnd",l),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&e.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const h=p(),d=h-i.touchStartTime;if(e.allowClick){const t=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(t&&t[0]||l.target),e.emit("tap click",l),d<300&&h-i.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(i.lastClickTime=p(),c(()=>{e.destroyed||(e.allowClick=!0)}),!i.isTouched||!i.isMoved||!e.swipeDirection||0===a.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let u;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,u=s.followFinger?o?e.translate:-e.translate:-i.currentTranslate,s.cssMode)return;if(e.params.freeMode&&s.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:u});let m=0,f=e.slidesSizesGrid[0];for(let t=0;t<n.length;t+=t<s.slidesPerGroupSkip?1:s.slidesPerGroup){const e=t<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==n[t+e]?u>=n[t]&&u<n[t+e]&&(m=t,f=n[t+e]-n[t]):u>=n[t]&&(m=t,f=n[n.length-1]-n[n.length-2])}let g=null,x=null;s.rewind&&(e.isBeginning?x=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(g=0));const v=(u-n[m])/f,y=m<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(d>s.longSwipesMs){if(!s.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(v>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?g:m+y):e.slideTo(m)),"prev"===e.swipeDirection&&(v>1-s.longSwipesRatio?e.slideTo(m+y):null!==x&&v<0&&Math.abs(v)>s.longSwipesRatio?e.slideTo(x):e.slideTo(m))}else{if(!s.shortSwipes)return void e.slideTo(e.activeIndex);e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(m+y):e.slideTo(m):("next"===e.swipeDirection&&e.slideTo(null!==g?g:m+y),"prev"===e.swipeDirection&&e.slideTo(null!==x?x:m))}}function I(){const t=this,{params:e,el:i}=t;if(i&&0===i.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:a,snapGrid:o}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=a,t.allowSlideNext=s,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function k(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&axPreventDefault(t),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function _(){const t=this,{wrapperEl:e,rtlTranslate:i,enabled:s}=t;if(!s)return;let a;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const o=t.maxTranslate()-t.minTranslate();a=0===o?0:(t.translate-t.minTranslate())/o,a!==t.progress&&t.updateProgress(i?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let N=!1;function j(){}const O=(t,e)=>{const i=s(),{params:a,touchEvents:o,el:n,wrapperEl:r,device:l,support:h}=t,d=!!a.nested,c="on"===e?"addEventListener":"removeEventListener",p=e;if(h.touch){const e=!("touchstart"!==o.start||!h.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};n[c](o.start,t.onTouchStart,e),n[c](o.move,t.onTouchMove,h.passiveListener?{passive:!1,capture:d}:d),n[c](o.end,t.onTouchEnd,e),o.cancel&&n[c](o.cancel,t.onTouchEnd,e)}else n[c](o.start,t.onTouchStart,!1),i[c](o.move,t.onTouchMove,d),i[c](o.end,t.onTouchEnd,!1);(a.preventClicks||a.preventClicksPropagation)&&n[c]("click",t.onClick,!0),a.cssMode&&r[c]("scroll",t.onScroll),a.updateOnWindowResize?t[p](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",I,!0):t[p]("observerUpdate",I,!0)};const $=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var P={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"ax-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"ax-",slideClass:"ax-slide",slideBlankClass:"ax-slide-invisible-blank",slideActiveClass:"ax-slide-active",slideDuplicateActiveClass:"ax-slide-duplicate-active",slideVisibleClass:"ax-slide-visible",slideDuplicateClass:"ax-slide-duplicate",slideNextClass:"ax-slide-next",slideDuplicateNextClass:"ax-slide-duplicate-next",slidePrevClass:"ax-slide-prev",slideDuplicatePrevClass:"ax-slide-duplicate-prev",wrapperClass:"ax-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function z(t,e){return function(i){void 0===i&&(i={});const s=Object.keys(i)[0],a=i[s];"object"==typeof a&&null!==a?(["navigation","pagination","scrollbar"].indexOf(s)>=0&&!0===t[s]&&(t[s]={auto:!0}),s in t&&"enabled"in a?(!0===t[s]&&(t[s]={enabled:!0}),"object"!=typeof t[s]||"enabled"in t[s]||(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),g(e,i)):g(e,i)):g(e,i)}}const Y={eventsEmitter:M,update:{updateSize:function(){const t=this;let e,i;const s=t.$el;e=void 0!==t.params.width&&null!==t.params.width?t.params.width:s[0].clientWidth,i=void 0!==t.params.height&&null!==t.params.height?t.params.height:s[0].clientHeight,0===e&&t.isHorizontal()||0===i&&t.isVertical()||(e=e-parseInt(s.css("padding-left")||0,10)-parseInt(s.css("padding-right")||0,10),i=i-parseInt(s.css("padding-top")||0,10)-parseInt(s.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(i)&&(i=0),Object.assign(t,{width:e,height:i,size:t.isHorizontal()?e:i}))},updateSlides:function(){const t=this;function e(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}function i(t,i){return parseFloat(t.getPropertyValue(e(i))||0)}const s=t.params,{$wrapperEl:a,size:o,rtlTranslate:n,wrongRTL:r}=t,l=t.virtual&&s.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,d=a.children(`.${t.params.slideClass}`),c=l?t.virtual.slides.length:d.length;let p=[];const u=[],m=[];let f=s.slidesOffsetBefore;"function"==typeof f&&(f=s.slidesOffsetBefore.call(t));let g=s.slidesOffsetAfter;"function"==typeof g&&(g=s.slidesOffsetAfter.call(t));const v=t.snapGrid.length,y=t.slidesGrid.length;let b=s.spaceBetween,w=-f,D=0,T=0;if(void 0===o)return;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),t.virtualSize=-b,n?d.css({marginLeft:"",marginBottom:"",marginTop:""}):d.css({marginRight:"",marginBottom:"",marginTop:""}),s.centeredSlides&&s.cssMode&&(x(t.wrapperEl,"--swiper-centered-offset-before",""),x(t.wrapperEl,"--swiper-centered-offset-after",""));const E=s.grid&&s.grid.rows>1&&t.grid;let M;E&&t.grid.initSlides(c);const S="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(t=>void 0!==s.breakpoints[t].slidesPerView).length>0;for(let a=0;a<c;a+=1){M=0;const n=d.eq(a);if(E&&t.grid.updateSlide(a,n,c,e),"none"!==n.css("display")){if("auto"===s.slidesPerView){S&&(d[a].style[e("width")]="");const o=getComputedStyle(n[0]),r=n[0].style.transform,l=n[0].style.webkitTransform;if(r&&(n[0].style.transform="none"),l&&(n[0].style.webkitTransform="none"),s.roundLengths)M=t.isHorizontal()?n.outerWidth(!0):n.outerHeight(!0);else{const t=i(o,"width"),e=i(o,"padding-left"),s=i(o,"padding-right"),a=i(o,"margin-left"),r=i(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)M=t+a+r;else{const{clientWidth:i,offsetWidth:o}=n[0];M=t+e+s+a+r+(o-i)}}r&&(n[0].style.transform=r),l&&(n[0].style.webkitTransform=l),s.roundLengths&&(M=Math.floor(M))}else M=(o-(s.slidesPerView-1)*b)/s.slidesPerView,s.roundLengths&&(M=Math.floor(M)),d[a]&&(d[a].style[e("width")]=`${M}px`);d[a]&&(d[a].swiperSlideSize=M),m.push(M),s.centeredSlides?(w=w+M/2+D/2+b,0===D&&0!==a&&(w=w-o/2-b),0===a&&(w=w-o/2-b),Math.abs(w)<.001&&(w=0),s.roundLengths&&(w=Math.floor(w)),T%s.slidesPerGroup==0&&p.push(w),u.push(w)):(s.roundLengths&&(w=Math.floor(w)),(T-Math.min(t.params.slidesPerGroupSkip,T))%t.params.slidesPerGroup==0&&p.push(w),u.push(w),w=w+M+b),t.virtualSize+=M+b,D=M,T+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+g,n&&r&&("slide"===s.effect||"coverflow"===s.effect)&&a.css({width:`${t.virtualSize+s.spaceBetween}px`}),s.setWrapperSize&&a.css({[e("width")]:`${t.virtualSize+s.spaceBetween}px`}),E&&t.grid.updateWrapperSize(M,p,e),!s.centeredSlides){const e=[];for(let i=0;i<p.length;i+=1){let a=p[i];s.roundLengths&&(a=Math.floor(a)),p[i]<=t.virtualSize-o&&e.push(a)}p=e,Math.floor(t.virtualSize-o)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-o)}if(0===p.length&&(p=[0]),0!==s.spaceBetween){const i=t.isHorizontal()&&n?"marginLeft":e("marginRight");d.filter((t,e)=>!s.cssMode||e!==d.length-1).css({[i]:`${b}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let t=0;m.forEach(e=>{t+=e+(s.spaceBetween?s.spaceBetween:0)}),t-=s.spaceBetween;const e=t-o;p=p.map(t=>t<0?-f:t>e?e+g:t)}if(s.centerInsufficientSlides){let t=0;if(m.forEach(e=>{t+=e+(s.spaceBetween?s.spaceBetween:0)}),t-=s.spaceBetween,t<o){const e=(o-t)/2;p.forEach((t,i)=>{p[i]=t-e}),u.forEach((t,i)=>{u[i]=t+e})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:u,slidesSizesGrid:m}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){x(t.wrapperEl,"--swiper-centered-offset-before",`${-p[0]}px`),x(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const e=-t.snapGrid[0],i=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(t=>t+e),t.slidesGrid=t.slidesGrid.map(t=>t+i)}if(c!==h&&t.emit("slidesLengthChange"),p.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),u.length!==y&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset(),!(l||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const e=`${s.containerModifierClass}backface-hidden`,i=t.$el.hasClass(e);c<=s.maxBackfaceHiddenSlides?i||t.$el.addClass(e):i&&t.$el.removeClass(e)}},updateAutoHeight:function(t){const e=this,i=[],s=e.virtual&&e.params.virtual.enabled;let a,o=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const n=t=>s?e.slides.filter(e=>parseInt(e.getAttribute("data-swiper-slide-index"),10)===t)[0]:e.slides.eq(t)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)e.visibleSlides.each(t=>{i.push(t)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const t=e.activeIndex+a;if(t>e.slides.length&&!s)break;i.push(n(t))}else i.push(n(e.activeIndex));for(a=0;a<i.length;a+=1)if(void 0!==i[a]){const t=i[a].offsetHeight;o=t>o?t:o}(o||0===o)&&e.$wrapperEl.css("height",`${o}px`)},updateSlidesOffset:function(){const t=this,e=t.slides;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);const e=this,i=e.params,{slides:s,rtlTranslate:a,snapGrid:o}=e;if(0===s.length)return;void 0===s[0].swiperSlideOffset&&e.updateSlidesOffset();let n=-t;a&&(n=t),s.removeClass(i.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let t=0;t<s.length;t+=1){const r=s[t];let l=r.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(l-=s[0].swiperSlideOffset);const h=(n+(i.centeredSlides?e.minTranslate():0)-l)/(r.swiperSlideSize+i.spaceBetween),d=(n-o[0]+(i.centeredSlides?e.minTranslate():0)-l)/(r.swiperSlideSize+i.spaceBetween),c=-(n-l),p=c+e.slidesSizesGrid[t];(c>=0&&c<e.size-1||p>1&&p<=e.size||c<=0&&p>=e.size)&&(e.visibleSlides.push(r),e.visibleSlidesIndexes.push(t),s.eq(t).addClass(i.slideVisibleClass)),r.progress=a?-h:h,r.originalProgress=a?-d:d}e.visibleSlides=h(e.visibleSlides)},updateProgress:function(t){const e=this;if(void 0===t){const i=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*i||0}const i=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:n}=e;const r=o,l=n;0===s?(a=0,o=!0,n=!0):(a=(t-e.minTranslate())/s,o=a<=0,n=a>=1),Object.assign(e,{progress:a,isBeginning:o,isEnd:n}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&e.updateSlidesProgress(t),o&&!r&&e.emit("reachBeginning toEdge"),n&&!l&&e.emit("reachEnd toEdge"),(r&&!o||l&&!n)&&e.emit("fromEdge"),e.emit("progress",a)},updateSlidesClasses:function(){const t=this,{slides:e,params:i,$wrapperEl:s,activeIndex:a,realIndex:o}=t,n=t.virtual&&i.virtual.enabled;let r;e.removeClass(`${i.slideActiveClass} ${i.slideNextClass} ${i.slidePrevClass} ${i.slideDuplicateActiveClass} ${i.slideDuplicateNextClass} ${i.slideDuplicatePrevClass}`),r=n?t.$wrapperEl.find(`.${i.slideClass}[data-swiper-slide-index="${a}"]`):e.eq(a),r.addClass(i.slideActiveClass),i.loop&&(r.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(i.slideDuplicateActiveClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(i.slideDuplicateActiveClass));let l=r.nextAll(`.${i.slideClass}`).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=e.eq(0),l.addClass(i.slideNextClass));let h=r.prevAll(`.${i.slideClass}`).eq(0).addClass(i.slidePrevClass);i.loop&&0===h.length&&(h=e.eq(-1),h.addClass(i.slidePrevClass)),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass),h.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(t){const e=this,i=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:s,snapGrid:a,params:o,activeIndex:n,realIndex:r,snapIndex:l}=e;let h,d=t;if(void 0===d){for(let t=0;t<s.length;t+=1)void 0!==s[t+1]?i>=s[t]&&i<s[t+1]-(s[t+1]-s[t])/2?d=t:i>=s[t]&&i<s[t+1]&&(d=t+1):i>=s[t]&&(d=t);o.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if(a.indexOf(i)>=0)h=a.indexOf(i);else{const t=Math.min(o.slidesPerGroupSkip,d);h=t+Math.floor((d-t)/o.slidesPerGroup)}if(h>=a.length&&(h=a.length-1),d===n)return void(h!==l&&(e.snapIndex=h,e.emit("snapIndexChange")));const c=parseInt(e.slides.eq(d).attr("data-swiper-slide-index")||d,10);Object.assign(e,{snapIndex:h,realIndex:c,previousIndex:n,activeIndex:d}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),r!==c&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function(t){const e=this,i=e.params,s=h(t).closest(`.${i.slideClass}`)[0];let a,o=!1;if(s)for(let t=0;t<e.slides.length;t+=1)if(e.slides[t]===s){o=!0,a=t;break}if(!s||!o)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=s,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(h(s).attr("data-swiper-slide-index"),10):e.clickedIndex=a,i.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},translate:{getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");const{params:e,rtlTranslate:i,translate:s,$wrapperEl:a}=this;if(e.virtualTranslate)return i?-s:s;if(e.cssMode)return s;let o=u(a[0],t);return i&&(o=-o),o||0},setTranslate:function(t,e){const i=this,{rtlTranslate:s,params:a,$wrapperEl:o,wrapperEl:n,progress:r}=i;let l,h=0,d=0;i.isHorizontal()?h=s?-t:t:d=t,a.roundLengths&&(h=Math.floor(h),d=Math.floor(d)),a.cssMode?n[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-h:-d:a.virtualTranslate||o.transform(`translate3d(${h}px, ${d}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?h:d;const c=i.maxTranslate()-i.minTranslate();l=0===c?0:(t-i.minTranslate())/c,l!==r&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,i,s,a){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0),void 0===s&&(s=!0);const o=this,{params:n,wrapperEl:r}=o;if(o.animating&&n.preventInteractionOnTransition)return!1;const l=o.minTranslate(),h=o.maxTranslate();let d;if(d=s&&t>l?l:s&&t<h?h:t,o.updateProgress(d),n.cssMode){const t=o.isHorizontal();if(0===e)r[t?"scrollLeft":"scrollTop"]=-d;else{if(!o.support.smoothScroll)return v({swiper:o,targetPosition:-d,side:t?"left":"top"}),!0;r.scrollTo({[t?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===e?(o.setTransition(0),o.setTranslate(d),i&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(d),i&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,i&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){const i=this;i.params.cssMode||i.$wrapperEl.transition(t),i.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);const i=this,{params:s}=i;s.cssMode||(s.autoHeight&&i.updateAutoHeight(),S({swiper:i,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(t,e){void 0===t&&(t=!0);const{params:i}=this;this.animating=!1,i.cssMode||(this.setTransition(0),S({swiper:this,runCallbacks:t,direction:e,step:"End"}))}},slide:{slideTo:function(t,e,i,s,a){if(void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0),"number"!=typeof t&&"string"!=typeof t)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if("string"==typeof t){const e=parseInt(t,10);if(!isFinite(e))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=e}const o=this;let n=t;n<0&&(n=0);const{params:r,snapGrid:l,slidesGrid:h,previousIndex:d,activeIndex:c,rtlTranslate:p,wrapperEl:u,enabled:m}=o;if(o.animating&&r.preventInteractionOnTransition||!m&&!s&&!a)return!1;const f=Math.min(o.params.slidesPerGroupSkip,n);let g=f+Math.floor((n-f)/o.params.slidesPerGroup);g>=l.length&&(g=l.length-1),(c||r.initialSlide||0)===(d||0)&&i&&o.emit("beforeSlideChangeStart");const x=-l[g];if(o.updateProgress(x),r.normalizeSlideIndex)for(let t=0;t<h.length;t+=1){const e=-Math.floor(100*x),i=Math.floor(100*h[t]),s=Math.floor(100*h[t+1]);void 0!==h[t+1]?e>=i&&e<s-(s-i)/2?n=t:e>=i&&e<s&&(n=t+1):e>=i&&(n=t)}if(o.initialized&&n!==c){if(!o.allowSlideNext&&x<o.translate&&x<o.minTranslate())return!1;if(!o.allowSlidePrev&&x>o.translate&&x>o.maxTranslate()&&(c||0)!==n)return!1}let y;if(y=n>c?"next":n<c?"prev":"reset",p&&-x===o.translate||!p&&x===o.translate)return o.updateActiveIndex(n),r.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==r.effect&&o.setTranslate(x),"reset"!==y&&(o.transitionStart(i,y),o.transitionEnd(i,y)),!1;if(r.cssMode){const t=o.isHorizontal(),i=p?x:-x;if(0===e){const e=o.virtual&&o.params.virtual.enabled;e&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),u[t?"scrollLeft":"scrollTop"]=i,e&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1})}else{if(!o.support.smoothScroll)return v({swiper:o,targetPosition:i,side:t?"left":"top"}),!0;u.scrollTo({[t?"left":"top"]:i,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(x),o.updateActiveIndex(n),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,s),o.transitionStart(i,y),0===e?o.transitionEnd(i,y):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(i,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);const a=this;let o=t;return a.params.loop&&(o+=a.loopedSlides),a.slideTo(o,e,i,s)},slideNext:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const s=this,{animating:a,enabled:o,params:n}=s;if(!o)return s;let r=n.slidesPerGroup;"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(r=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<n.slidesPerGroupSkip?1:r;if(n.loop){if(a&&n.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}return n.rewind&&s.isEnd?s.slideTo(0,t,e,i):s.slideTo(s.activeIndex+l,t,e,i)},slidePrev:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const s=this,{params:a,animating:o,snapGrid:n,slidesGrid:r,rtlTranslate:l,enabled:h}=s;if(!h)return s;if(a.loop){if(o&&a.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function d(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const c=d(l?s.translate:-s.translate),p=n.map(t=>d(t));let u=n[p.indexOf(c)-1];if(void 0===u&&a.cssMode){let t;n.forEach((e,i)=>{c>=e&&(t=i)}),void 0!==t&&(u=n[t>0?t-1:t])}let m=0;if(void 0!==u&&(m=r.indexOf(u),m<0&&(m=s.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(m=m-s.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),a.rewind&&s.isBeginning){const a=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(a,t,e,i)}return s.slideTo(m,t,e,i)},slideReset:function(t,e,i){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,i)},slideToClosest:function(t,e,i,s){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===s&&(s=.5);const a=this;let o=a.activeIndex;const n=Math.min(a.params.slidesPerGroupSkip,o),r=n+Math.floor((o-n)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[r]){const t=a.snapGrid[r];l-t>(a.snapGrid[r+1]-t)*s&&(o+=a.params.slidesPerGroup)}else{const t=a.snapGrid[r-1];l-t<=(a.snapGrid[r]-t)*s&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,t,e,i)},slideToClickedSlide:function(){const t=this,{params:e,$wrapperEl:i}=t,s="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let a,o=t.clickedIndex;if(e.loop){if(t.animating)return;a=parseInt(h(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?o<t.loopedSlides-s/2||o>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),o=i.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),c(()=>{t.slideTo(o)})):t.slideTo(o):o>t.slides.length-s?(t.loopFix(),o=i.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),c(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}},loop:{loopCreate:function(){const t=this,e=s(),{params:i,$wrapperEl:a}=t,o=a.children().length>0?h(a.children()[0].parentNode):a;o.children(`.${i.slideClass}.${i.slideDuplicateClass}`).remove();let n=o.children(`.${i.slideClass}`);if(i.loopFillGroupWithBlank){const t=i.slidesPerGroup-n.length%i.slidesPerGroup;if(t!==i.slidesPerGroup){for(let s=0;s<t;s+=1){const t=h(e.createElement("div")).addClass(`${i.slideClass} ${i.slideBlankClass}`);o.append(t)}n=o.children(`.${i.slideClass}`)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=n.length),t.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),t.loopedSlides+=i.loopAdditionalSlides,t.loopedSlides>n.length&&(t.loopedSlides=n.length);const r=[],l=[];n.each((e,i)=>{const s=h(e);i<t.loopedSlides&&l.push(e),i<n.length&&i>=n.length-t.loopedSlides&&r.push(e),s.attr("data-swiper-slide-index",i)});for(let t=0;t<l.length;t+=1)o.append(h(l[t].cloneNode(!0)).addClass(i.slideDuplicateClass));for(let t=r.length-1;t>=0;t-=1)o.prepend(h(r[t].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:i,loopedSlides:s,allowSlidePrev:a,allowSlideNext:o,snapGrid:n,rtlTranslate:r}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const h=-n[e]-t.getTranslate();if(e<s){l=i.length-3*s+e,l+=s,t.slideTo(l,0,!1,!0)&&0!==h&&t.setTranslate((r?-t.translate:t.translate)-h)}else if(e>=i.length-s){l=-i.length+e+s,l+=s,t.slideTo(l,0,!1,!0)&&0!==h&&t.setTranslate((r?-t.translate:t.translate)-h)}t.allowSlidePrev=a,t.allowSlideNext=o,t.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:t,params:e,slides:i}=this;t.children(`.${e.slideClass}.${e.slideDuplicateClass},.${e.slideClass}.${e.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(t){if(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)return;const e="container"===this.params.touchEventsTarget?this.el:this.wrapperEl;e.style.cursor="move",e.style.cursor=t?"grabbing":"grab"},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this["container"===this.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){const t=this,e=s(),{params:i,support:a}=t;t.onTouchStart=A.bind(t),t.onTouchMove=C.bind(t),t.onTouchEnd=L.bind(t),i.cssMode&&(t.onScroll=_.bind(t)),t.onClick=k.bind(t),a.touch&&!N&&(e.addEventListener("touchstart",j),N=!0),O(t,"on")},detachEvents:function(){O(this,"off")}},breakpoints:{setBreakpoint:function(){const t=this,{activeIndex:e,initialized:i,loopedSlides:s=0,params:a,$el:o}=t,n=a.breakpoints;if(!n||n&&0===Object.keys(n).length)return;const r=t.getBreakpoint(n,t.params.breakpointsBase,t.el);if(!r||t.currentBreakpoint===r)return;const l=(r in n?n[r]:void 0)||t.originalParams,h=$(t,a),d=$(t,l),c=a.enabled;h&&!d?(o.removeClass(`${a.containerModifierClass}grids ${a.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&d&&(o.addClass(`${a.containerModifierClass}grids`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===a.grid.fill)&&o.addClass(`${a.containerModifierClass}grid-column`),t.emitContainerClasses());const p=l.direction&&l.direction!==a.direction,u=a.loop&&(l.slidesPerView!==a.slidesPerView||p);p&&i&&t.changeDirection(),g(t.params,l);const m=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),c&&!m?t.disable():!c&&m&&t.enable(),t.currentBreakpoint=r,t.emit("_beforeBreakpoint",l),u&&i&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-s+t.loopedSlides,0,!1)),t.emit("breakpoint",l)},getBreakpoint:function(t,e,i){if(void 0===e&&(e="window"),!t||"container"===e&&!i)return;let s=!1;const a=o(),n="window"===e?a.innerHeight:i.clientHeight,r=Object.keys(t).map(t=>{if("string"==typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1));return{value:n*e,point:t}}return{value:t,point:t}});r.sort((t,e)=>parseInt(t.value,10)-parseInt(e.value,10));for(let t=0;t<r.length;t+=1){const{point:o,value:n}=r[t];"window"===e?a.matchMedia(`(min-width: ${n}px)`).matches&&(s=o):n<=i.clientWidth&&(s=o)}return s||"max"}},checkOverflow:{checkOverflow:function(){const t=this,{isLocked:e,params:i}=t,{slidesOffsetBefore:s}=i;if(s){const e=t.slides.length-1,i=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*s;t.isLocked=t.size>i}else t.isLocked=1===t.snapGrid.length;!0===i.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===i.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const{classNames:t,params:e,rtl:i,$el:s,device:a,support:o}=this,n=function(t,e){const i=[];return t.forEach(t=>{"object"==typeof t?Object.keys(t).forEach(s=>{t[s]&&i.push(e+s)}):"string"==typeof t&&i.push(e+t)}),i}(["initialized",e.direction,{"pointer-events":!o.touch},{"free-mode":this.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grids:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&"column"===e.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...n),s.addClass([...t].join(" ")),this.emitContainerClasses()},removeClasses:function(){const{$el:t,classNames:e}=this;t.removeClass(e.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(t,e,i,s,a,n){const r=o();let l;function d(){n&&n()}h(t).parent("picture")[0]||t.complete&&a?d():e?(l=new r.Image,l.onload=d,l.onerror=d,s&&(l.sizes=s),i&&(l.srcset=i),e&&(l.src=e)):d()},preloadImages:function(){const t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(let i=0;i<t.imagesToLoad.length;i+=1){const s=t.imagesToLoad[i];t.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,e)}}}},H={};class B{constructor(){let t,e;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];if(1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?e=s[0]:[t,e]=s,e||(e={}),e=g({},e),t&&!e.el&&(e.el=t),e.el&&h(e.el).length>1){const t=[];return h(e.el).each(i=>{const s=g({},e,{el:i});t.push(new B(s))}),t}const o=this;o.__swiper__=!0,o.support=D(),o.device=T({userAgent:e.userAgent}),o.browser=E(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],e.modules&&Array.isArray(e.modules)&&o.modules.push(...e.modules);const n={};o.modules.forEach(t=>{t({swiper:o,extendParams:z(e,n),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const r=g({},P,n);return o.params=g({},r,H,e),"string"==typeof e.el?(".ax-prev"==o.params.navigation.prevEl&&(o.params.navigation.prevEl=document.querySelector(e.el+" .ax-prev")),".ax-next"==o.params.navigation.nextEl&&(o.params.navigation.nextEl=document.querySelector(e.el+" .ax-next"))):(".ax-prev"==o.params.navigation.prevEl&&(o.params.navigation.prevEl=e.el.querySelector(".ax-prev")),".ax-next"==o.params.navigation.nextEl&&(o.params.navigation.nextEl=e.el.querySelector(".ax-next"))),o.originalParams=g({},o.params),o.passedParams=g({},e),o.params&&o.params.on&&Object.keys(o.params.on).forEach(t=>{o.on(t,o.params.on[t])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=h,Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:h(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:function(){const t=["touchstart","touchmove","touchend","touchcancel"],e=["pointerdown","pointermove","pointerup"];return o.touchEventsTouch={start:t[0],move:t[1],end:t[2],cancel:t[3]},o.touchEventsDesktop={start:e[0],move:e[1],end:e[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:p(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){t=Math.min(Math.max(t,0),1);const i=this.minTranslate(),s=(this.maxTranslate()-i)*t+i;this.translateTo(s,void 0===e?0:e),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(e=>0===e.indexOf("ax")||0===e.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(t=>0===t.indexOf("ax-slide")||0===t.indexOf(e.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.each(i=>{const s=t.getSlideClasses(i);e.push({slideEl:i,classNames:s}),t.emit("_slideClass",i,s)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const{params:i,slides:s,slidesGrid:a,slidesSizesGrid:o,size:n,activeIndex:r}=this;let l=1;if(i.centeredSlides){let t,e=s[r].swiperSlideSize;for(let i=r+1;i<s.length;i+=1)s[i]&&!t&&(e+=s[i].swiperSlideSize,l+=1,e>n&&(t=!0));for(let i=r-1;i>=0;i-=1)s[i]&&!t&&(e+=s[i].swiperSlideSize,l+=1,e>n&&(t=!0))}else if("current"===t)for(let t=r+1;t<s.length;t+=1){(e?a[t]+o[t]-a[r]<n:a[t]-a[r]<n)&&(l+=1)}else for(let t=r-1;t>=0;t-=1){a[r]-a[t]<n&&(l+=1)}return l}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;function s(){const e=t.rtlTranslate?-1*t.translate:t.translate,i=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(i),t.updateActiveIndex(),t.updateSlidesClasses()}let a;i.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode&&t.params.freeMode.enabled?(s(),t.params.autoHeight&&t.updateAutoHeight()):(a=("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),a||s()),i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const i=this,s=i.params.direction;return t||(t="horizontal"===s?"vertical":"horizontal"),t===s||"horizontal"!==t&&"vertical"!==t?i:(i.$el.removeClass(`${i.params.containerModifierClass}${s}`).addClass(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.each(e=>{"vertical"===t?e.style.width="":e.style.height=""}),i.emit("changeDirection"),e&&i.update(),i)}mount(t){const e=this;if(e.mounted)return!0;const i=h(t||e.params.el);if(!(t=i[0]))return!1;t.swiper=e;const a=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(t&&t.shadowRoot&&t.shadowRoot.querySelector){const e=h(t.shadowRoot.querySelector(a()));return e.children=t=>i.children(t),e}return i.children(a())})();if(0===o.length&&e.params.createElements){const t=s().createElement("div");o=h(t),t.className=e.params.wrapperClass,i.append(t),i.children(`.${e.params.slideClass}`).each(t=>{o.append(t)})}return Object.assign(e,{$el:i,el:t,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===o.css("display")}),!0}init(t){const e=this;return e.initialized?e:!1===e.mount(t)?e:(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.attachEvents(),e.initialized=!0,e.emit("init"),e.emit("afterInit"),e)}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const i=this,{params:s,$el:a,$wrapperEl:o,slides:n}=i;return void 0===i.params||i.destroyed?null:(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),e&&(i.removeClasses(),a.removeAttr("style"),o.removeAttr("style"),n&&n.length&&n.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(t=>{i.off(t)}),!1!==t&&(i.$el[0].swiper=null,function(t){const e=t;Object.keys(e).forEach(t=>{try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})}(i)),i.destroyed=!0,null)}static extendDefaults(t){g(H,t)}static get extendedDefaults(){return H}static get defaults(){return P}static installModule(t){B.prototype.__modules__||(B.prototype.__modules__=[]);const e=B.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>B.installModule(t)),B):(B.installModule(t),B)}}function q(t,e,i,a){const o=s();return t.params.createElements&&Object.keys(a).forEach(s=>{if(!i[s]&&!0===i.auto){let n=t.$el.children(`.${a[s]}`)[0];n||(n=o.createElement("div"),n.className=a[s],t.$el.append(n)),i[s]=n,e[s]=n}}),i}function F(t){return void 0===t&&(t=""),`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function R(t){const e=this,{$wrapperEl:i,params:s}=e;if(s.loop&&e.loopDestroy(),"object"==typeof t&&"length"in t)for(let e=0;e<t.length;e+=1)t[e]&&i.append(t[e]);else i.append(t);s.loop&&e.loopCreate(),s.observer||e.update()}function V(t){const e=this,{params:i,$wrapperEl:s,activeIndex:a}=e;i.loop&&e.loopDestroy();let o=a+1;if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&s.prepend(t[e]);o=a+t.length}else s.prepend(t);i.loop&&e.loopCreate(),i.observer||e.update(),e.slideTo(o,0,!1)}function U(t,e){const i=this,{$wrapperEl:s,params:a,activeIndex:o}=i;let n=o;a.loop&&(n-=i.loopedSlides,i.loopDestroy(),i.slides=s.children(`.${a.slideClass}`));const r=i.slides.length;if(t<=0)return void i.prependSlide(e);if(t>=r)return void i.appendSlide(e);let l=n>t?n+1:n;const h=[];for(let e=r-1;e>=t;e-=1){const t=i.slides.eq(e);t.remove(),h.unshift(t)}if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&s.append(e[t]);l=n>t?n+e.length:n}else s.append(e);for(let t=0;t<h.length;t+=1)s.append(h[t]);a.loop&&i.loopCreate(),a.observer||i.update(),a.loop?i.slideTo(l+i.loopedSlides,0,!1):i.slideTo(l,0,!1)}function W(t){const e=this,{params:i,$wrapperEl:s,activeIndex:a}=e;let o=a;i.loop&&(o-=e.loopedSlides,e.loopDestroy(),e.slides=s.children(`.${i.slideClass}`));let n,r=o;if("object"==typeof t&&"length"in t){for(let i=0;i<t.length;i+=1)n=t[i],e.slides[n]&&e.slides.eq(n).remove(),n<r&&(r-=1);r=Math.max(r,0)}else n=t,e.slides[n]&&e.slides.eq(n).remove(),n<r&&(r-=1),r=Math.max(r,0);i.loop&&e.loopCreate(),i.observer||e.update(),i.loop?e.slideTo(r+e.loopedSlides,0,!1):e.slideTo(r,0,!1)}function G(){const t=this,e=[];for(let i=0;i<t.slides.length;i+=1)e.push(i);t.removeSlide(e)}function X(t){const{effect:e,swiper:i,on:s,setTranslate:a,setTransition:o,overwriteParams:n,perspective:r,recreateShadows:l,getEffectParams:h}=t;let d;s("beforeInit",()=>{if(i.params.effect!==e)return;i.classNames.push(`${i.params.containerModifierClass}${e}`),r&&r()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const t=n?n():{};Object.assign(i.params,t),Object.assign(i.originalParams,t)}),s("setTranslate",()=>{i.params.effect===e&&a()}),s("setTransition",(t,s)=>{i.params.effect===e&&o(s)}),s("transitionEnd",()=>{if(i.params.effect===e&&l){if(!h||!h().slideShadows)return;i.slides.each(t=>{i.$(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}}),s("virtualUpdate",()=>{i.params.effect===e&&(i.slides.length||(d=!0),requestAnimationFrame(()=>{d&&i.slides&&i.slides.length&&(a(),d=!1)}))})}function Q(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function J(t){let{swiper:e,duration:i,transformEl:s,allSlides:a}=t;const{slides:o,activeIndex:n,$wrapperEl:r}=e;if(e.params.virtualTranslate&&0!==i){let t,i=!1;t=a?s?o.find(s):o:s?o.eq(n).find(s):o.eq(n),t.transitionEnd(()=>{if(i)return;if(!e||e.destroyed)return;i=!0,e.animating=!1;const t=["webkitTransitionEnd","transitionend"];for(let e=0;e<t.length;e+=1)r.trigger(t[e])})}}function K(t,e,i){const s=`swiper-slide-shadow${i?`-${i}`:""}`,a=t.transformEl?e.find(t.transformEl):e;let o=a.children(`.${s}`);return o.length||(o=h(`<div class="swiper-slide-shadow${i?`-${i}`:""}"></div>`),a.append(o)),o}Object.keys(Y).forEach(t=>{Object.keys(Y[t]).forEach(e=>{B.prototype[e]=Y[t][e]})}),B.use([function(t){let{swiper:e,on:i,emit:s}=t;const a=o();let n=null,r=null;const l=()=>{e&&!e.destroyed&&e.initialized&&(s("beforeResize"),s("resize"))},h=()=>{e&&!e.destroyed&&e.initialized&&s("orientationchange")};i("init",()=>{e.params.resizeObserver&&void 0!==a.ResizeObserver?e&&!e.destroyed&&e.initialized&&(n=new ResizeObserver(t=>{r=a.requestAnimationFrame(()=>{const{width:i,height:s}=e;let a=i,o=s;t.forEach(t=>{let{contentBoxSize:i,contentRect:s,target:n}=t;n&&n!==e.el||(a=s?s.width:(i[0]||i).inlineSize,o=s?s.height:(i[0]||i).blockSize)}),a===i&&o===s||l()})}),n.observe(e.el)):(a.addEventListener("resize",l),a.addEventListener("orientationchange",h))}),i("destroy",()=>{r&&a.cancelAnimationFrame(r),n&&n.unobserve&&e.el&&(n.unobserve(e.el),n=null),a.removeEventListener("resize",l),a.removeEventListener("orientationchange",h)})},function(t){let{swiper:e,extendParams:i,on:s,emit:a}=t;const n=[],r=o(),l=function(t,e){void 0===e&&(e={});const i=new(r.MutationObserver||r.WebkitMutationObserver)(t=>{if(1===t.length)return void a("observerUpdate",t[0]);const e=function(){a("observerUpdate",t[0])};r.requestAnimationFrame?r.requestAnimationFrame(e):r.setTimeout(e,0)});i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),n.push(i)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)l(t[e])}l(e.$el[0],{childList:e.params.observeSlideChildren}),l(e.$wrapperEl[0],{attributes:!1})}}),s("destroy",()=>{n.forEach(t=>{t.disconnect()}),n.splice(0,n.length)})}]);const Z=[function(t){let e,{swiper:i,extendParams:s,on:a,emit:o}=t;function n(t,e){const s=i.params.virtual;if(s.cache&&i.virtual.cache[e])return i.virtual.cache[e];const a=s.renderSlide?h(s.renderSlide.call(i,t,e)):h(`<div class="${i.params.slideClass}" data-swiper-slide-index="${e}">${t}</div>`);return a.attr("data-swiper-slide-index")||a.attr("data-swiper-slide-index",e),s.cache&&(i.virtual.cache[e]=a),a}function r(t){const{slidesPerView:e,slidesPerGroup:s,centeredSlides:a}=i.params,{addSlidesBefore:r,addSlidesAfter:l}=i.params.virtual,{from:h,to:d,slides:c,slidesGrid:p,offset:u}=i.virtual;i.params.cssMode||i.updateActiveIndex();const m=i.activeIndex||0;let f,g,x;f=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",a?(g=Math.floor(e/2)+s+l,x=Math.floor(e/2)+s+r):(g=e+(s-1)+l,x=s+r);const v=Math.max((m||0)-x,0),y=Math.min((m||0)+g,c.length-1),b=(i.slidesGrid[v]||0)-(i.slidesGrid[0]||0);function w(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.lazy&&i.params.lazy.enabled&&i.lazy.load(),o("virtualUpdate")}if(Object.assign(i.virtual,{from:v,to:y,offset:b,slidesGrid:i.slidesGrid}),h===v&&d===y&&!t)return i.slidesGrid!==p&&b!==u&&i.slides.css(f,`${b}px`),i.updateProgress(),void o("virtualUpdate");if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:b,from:v,to:y,slides:function(){const t=[];for(let e=v;e<=y;e+=1)t.push(c[e]);return t}()}),void(i.params.virtual.renderExternalUpdate?w():o("virtualUpdate"));const D=[],T=[];if(t)i.$wrapperEl.find(`.${i.params.slideClass}`).remove();else for(let t=h;t<=d;t+=1)(t<v||t>y)&&i.$wrapperEl.find(`.${i.params.slideClass}[data-swiper-slide-index="${t}"]`).remove();for(let e=0;e<c.length;e+=1)e>=v&&e<=y&&(void 0===d||t?T.push(e):(e>d&&T.push(e),e<h&&D.push(e)));T.forEach(t=>{i.$wrapperEl.append(n(c[t],t))}),D.sort((t,e)=>e-t).forEach(t=>{i.$wrapperEl.prepend(n(c[t],t))}),i.$wrapperEl.children(".swiper-slide").css(f,`${b}px`),w()}s({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},a("beforeInit",()=>{i.params.virtual.enabled&&(i.virtual.slides=i.params.virtual.slides,i.classNames.push(`${i.params.containerModifierClass}virtual`),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,i.params.initialSlide||r())}),a("setTranslate",()=>{i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(e),e=setTimeout(()=>{r()},100)):r())}),a("init update resize",()=>{i.params.virtual.enabled&&i.params.cssMode&&x(i.wrapperEl,"--swiper-virtual-size",`${i.virtualSize}px`)}),Object.assign(i.virtual,{appendSlide:function(t){if("object"==typeof t&&"length"in t)for(let e=0;e<t.length;e+=1)t[e]&&i.virtual.slides.push(t[e]);else i.virtual.slides.push(t);r(!0)},prependSlide:function(t){const e=i.activeIndex;let s=e+1,a=1;if(Array.isArray(t)){for(let e=0;e<t.length;e+=1)t[e]&&i.virtual.slides.unshift(t[e]);s=e+t.length,a=t.length}else i.virtual.slides.unshift(t);if(i.params.virtual.cache){const t=i.virtual.cache,e={};Object.keys(t).forEach(i=>{const s=t[i],o=s.attr("data-swiper-slide-index");o&&s.attr("data-swiper-slide-index",parseInt(o,10)+a),e[parseInt(i,10)+a]=s}),i.virtual.cache=e}r(!0),i.slideTo(s,0)},removeSlide:function(t){if(null==t)return;let e=i.activeIndex;if(Array.isArray(t))for(let s=t.length-1;s>=0;s-=1)i.virtual.slides.splice(t[s],1),i.params.virtual.cache&&delete i.virtual.cache[t[s]],t[s]<e&&(e-=1),e=Math.max(e,0);else i.virtual.slides.splice(t,1),i.params.virtual.cache&&delete i.virtual.cache[t],t<e&&(e-=1),e=Math.max(e,0);r(!0),i.slideTo(e,0)},removeAllSlides:function(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),r(!0),i.slideTo(0,0)},update:r})},function(t){let{swiper:e,extendParams:i,on:a,emit:n}=t;const r=s(),l=o();function d(t){if(!e.enabled)return;const{rtlTranslate:i}=e;let s=t;s.originalEvent&&(s=s.originalEvent);const a=s.keyCode||s.charCode,o=e.params.keyboard.pageUpDown,h=o&&33===a,d=o&&34===a,c=37===a,p=39===a,u=38===a,m=40===a;if(!e.allowSlideNext&&(e.isHorizontal()&&p||e.isVertical()&&m||d))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&c||e.isVertical()&&u||h))return!1;if(!(s.shiftKey||s.altKey||s.ctrlKey||s.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(h||d||c||p||u||m)){let t=!1;if(e.$el.parents(`.${e.params.slideClass}`).length>0&&0===e.$el.parents(`.${e.params.slideActiveClass}`).length)return;const s=e.$el,a=s[0].clientWidth,o=s[0].clientHeight,n=l.innerWidth,r=l.innerHeight,h=e.$el.offset();i&&(h.left-=e.$el[0].scrollLeft);const d=[[h.left,h.top],[h.left+a,h.top],[h.left,h.top+o],[h.left+a,h.top+o]];for(let e=0;e<d.length;e+=1){const i=d[e];if(i[0]>=0&&i[0]<=n&&i[1]>=0&&i[1]<=r){if(0===i[0]&&0===i[1])continue;t=!0}}if(!t)return}e.isHorizontal()?((h||d||c||p)&&axPreventDefault(s),((d||p)&&!i||(h||c)&&i)&&e.slideNext(),((h||c)&&!i||(d||p)&&i)&&e.slidePrev()):((h||d||u||m)&&axPreventDefault(s),(d||m)&&e.slideNext(),(h||u)&&e.slidePrev()),n("keyPress",a)}}function c(){e.keyboard.enabled||(h(r).on("keydown",d),e.keyboard.enabled=!0)}function p(){e.keyboard.enabled&&(h(r).off("keydown",d),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},i({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),a("init",()=>{e.params.keyboard.enabled&&c()}),a("destroy",()=>{e.keyboard.enabled&&p()}),Object.assign(e.keyboard,{enable:c,disable:p})},function(t){let{swiper:e,extendParams:i,on:s,emit:a}=t;const n=o();let r;i({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),e.mousewheel={enabled:!1};let l,d=p();const u=[];function m(){e.enabled&&(e.mouseEntered=!0)}function f(){e.enabled&&(e.mouseEntered=!1)}function g(t){return!(e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta)&&(!(e.params.mousewheel.thresholdTime&&p()-d<e.params.mousewheel.thresholdTime)&&(t.delta>=6&&p()-d<60||(t.direction<0?e.isEnd&&!e.params.loop||e.animating||(e.slideNext(),a("scroll",t.raw)):e.isBeginning&&!e.params.loop||e.animating||(e.slidePrev(),a("scroll",t.raw)),d=(new n.Date).getTime(),!1)))}function x(t){let i=t,s=!0;if(!e.enabled)return;const o=e.params.mousewheel;e.params.cssMode&&axPreventDefault(i);let n=e.$el;if("container"!==e.params.mousewheel.eventsTarget&&(n=h(e.params.mousewheel.eventsTarget)),!e.mouseEntered&&!n[0].contains(i.target)&&!o.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let d=0;const m=e.rtlTranslate?-1:1,f=function(t){let e=0,i=0,s=0,a=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),s=10*e,a=10*i,"deltaY"in t&&(a=t.deltaY),"deltaX"in t&&(s=t.deltaX),t.shiftKey&&!s&&(s=a,a=0),(s||a)&&t.deltaMode&&(1===t.deltaMode?(s*=40,a*=40):(s*=800,a*=800)),s&&!e&&(e=s<1?-1:1),a&&!i&&(i=a<1?-1:1),{spinX:e,spinY:i,pixelX:s,pixelY:a}}(i);if(o.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(f.pixelX)>Math.abs(f.pixelY)))return!0;d=-f.pixelX*m}else{if(!(Math.abs(f.pixelY)>Math.abs(f.pixelX)))return!0;d=-f.pixelY}else d=Math.abs(f.pixelX)>Math.abs(f.pixelY)?-f.pixelX*m:-f.pixelY;if(0===d)return!0;o.invert&&(d=-d);let x=e.getTranslate()+d*o.sensitivity;if(x>=e.minTranslate()&&(x=e.minTranslate()),x<=e.maxTranslate()&&(x=e.maxTranslate()),s=!!e.params.loop||!(x===e.minTranslate()||x===e.maxTranslate()),s&&e.params.nested&&i.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const t={time:p(),delta:Math.abs(d),direction:Math.sign(d)},s=l&&t.time<l.time+500&&t.delta<=l.delta&&t.direction===l.direction;if(!s){l=void 0,e.params.loop&&e.loopFix();let n=e.getTranslate()+d*o.sensitivity;const h=e.isBeginning,p=e.isEnd;if(n>=e.minTranslate()&&(n=e.minTranslate()),n<=e.maxTranslate()&&(n=e.maxTranslate()),e.setTransition(0),e.setTranslate(n),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!h&&e.isBeginning||!p&&e.isEnd)&&e.updateSlidesClasses(),e.params.freeMode.sticky){clearTimeout(r),r=void 0,u.length>=15&&u.shift();const i=u.length?u[u.length-1]:void 0,s=u[0];if(u.push(t),i&&(t.delta>i.delta||t.direction!==i.direction))u.splice(0);else if(u.length>=15&&t.time-s.time<500&&s.delta-t.delta>=1&&t.delta<=6){const i=d>0?.8:.2;l=t,u.splice(0),r=c(()=>{e.slideToClosest(e.params.speed,!0,void 0,i)},0)}r||(r=c(()=>{l=t,u.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(s||a("scroll",i),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),n===e.minTranslate()||n===e.maxTranslate())return!0}}else{const i={time:p(),delta:Math.abs(d),direction:Math.sign(d),raw:t};u.length>=2&&u.shift();const s=u.length?u[u.length-1]:void 0;if(u.push(i),s?(i.direction!==s.direction||i.delta>s.delta||i.time>s.time+150)&&g(i):g(i),function(t){const i=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&i.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&i.releaseOnEdges)return!0;return!1}(i))return!0}return axPreventDefault(i),!1}function v(t){let i=e.$el;"container"!==e.params.mousewheel.eventsTarget&&(i=h(e.params.mousewheel.eventsTarget)),i[t]("mouseenter",m),i[t]("mouseleave",f),i[t]("wheel",x)}function y(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",x),!0):!e.mousewheel.enabled&&(v("on"),e.mousewheel.enabled=!0,!0)}function b(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,x),!0):!!e.mousewheel.enabled&&(v("off"),e.mousewheel.enabled=!1,!0)}s("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&b(),e.params.mousewheel.enabled&&y()}),s("destroy",()=>{e.params.cssMode&&y(),e.mousewheel.enabled&&b()}),Object.assign(e.mousewheel,{enable:y,disable:b})},function(t){let{swiper:e,extendParams:i,on:s,emit:a}=t;function o(t){let i;return t&&(i=h(t),e.params.uniqueNavElements&&"string"==typeof t&&i.length>1&&1===e.$el.find(t).length&&(i=e.$el.find(t))),i}function n(t,i){const s=e.params.navigation;t&&t.length>0&&(t[i?"addClass":"removeClass"](s.disabledClass),t[0]&&"BUTTON"===t[0].tagName&&(t[0].disabled=i),e.params.watchOverflow&&e.enabled&&t[e.isLocked?"addClass":"removeClass"](s.lockClass))}function r(){if(e.params.loop)return;const{$nextEl:t,$prevEl:i}=e.navigation;n(i,e.isBeginning&&!e.params.rewind),n(t,e.isEnd&&!e.params.rewind)}function l(t){axPreventDefault(t),(!e.isBeginning||e.params.loop||e.params.rewind)&&e.slidePrev()}function d(t){axPreventDefault(t),(!e.isEnd||e.params.loop||e.params.rewind)&&e.slideNext()}function c(){const t=e.params.navigation;if(e.params.navigation=q(e,e.originalParams.navigation,e.params.navigation,{nextEl:"ax-next",prevEl:"ax-prev"}),!t.nextEl&&!t.prevEl)return;const i=o(t.nextEl),s=o(t.prevEl);i&&i.length>0&&i.on("click",d),s&&s.length>0&&s.on("click",l),Object.assign(e.navigation,{$nextEl:i,nextEl:i&&i[0],$prevEl:s,prevEl:s&&s[0]}),e.enabled||(i&&i.addClass(t.lockClass),s&&s.addClass(t.lockClass))}function p(){const{$nextEl:t,$prevEl:i}=e.navigation;t&&t.length&&(t.off("click",d),t.removeClass(e.params.navigation.disabledClass)),i&&i.length&&(i.off("click",l),i.removeClass(e.params.navigation.disabledClass))}i({navigation:{nextEl:".ax-next",prevEl:".ax-prev",hideOnClick:!1,disabledClass:"ax-disabled",hiddenClass:"ax-hidden",lockClass:"ax-lock"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},s("init",()=>{c(),r()}),s("toEdge fromEdge lock unlock",()=>{r()}),s("destroy",()=>{p()}),s("enable disable",()=>{const{$nextEl:t,$prevEl:i}=e.navigation;t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),i&&i[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),s("click",(t,i)=>{const{$nextEl:s,$prevEl:o}=e.navigation,n=i.target;if(e.params.navigation.hideOnClick&&!h(n).is(o)&&!h(n).is(s)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===n||e.pagination.el.contains(n)))return;let t;s?t=s.hasClass(e.params.navigation.hiddenClass):o&&(t=o.hasClass(e.params.navigation.hiddenClass)),a(!0===t?"navigationShow":"navigationHide"),s&&s.toggleClass(e.params.navigation.hiddenClass),o&&o.toggleClass(e.params.navigation.hiddenClass)}}),Object.assign(e.navigation,{update:r,init:c,destroy:p})},function(t){let{swiper:e,extendParams:i,on:s,emit:a}=t;const o="ax-pages";let n;i({pagination:{el:"."+o,bulletElement:"i",clickable:!0,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`}}),e.pagination={el:null,$el:null,bullets:[]};let r=0;function l(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length}function d(t,i){const{bulletActiveClass:s}=e.params.pagination;t[i]().addClass(`${s}-${i}`)[i]().addClass(`${s}-${i}-${i}`)}function c(){const t=e.rtl,i=e.params.pagination;if(l())return;const s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,o=e.pagination.$el;let c;const p=e.params.loop?Math.ceil((s-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(c=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),c>s-1-2*e.loopedSlides&&(c-=s-2*e.loopedSlides),c>p-1&&(c-=p),c<0&&"bullets"!==e.params.paginationType&&(c=p+c)):c=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===i.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const s=e.pagination.bullets;let a,l,p;if(i.dynamicBullets&&(n=s.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),o.css(e.isHorizontal()?"width":"height",`${n*(i.dynamicMainBullets+4)}px`),i.dynamicMainBullets>1&&void 0!==e.previousIndex&&(r+=c-(e.previousIndex-e.loopedSlides||0),r>i.dynamicMainBullets-1?r=i.dynamicMainBullets-1:r<0&&(r=0)),a=Math.max(c-r,0),l=a+(Math.min(s.length,i.dynamicMainBullets)-1),p=(l+a)/2),s.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(t=>`${i.bulletActiveClass}${t}`).join(" ")),o.length>1)s.each(t=>{const e=h(t),s=e.index();s===c&&e.addClass(i.bulletActiveClass),i.dynamicBullets&&(s>=a&&s<=l&&e.addClass(`${i.bulletActiveClass}-main`),s===a&&d(e,"prev"),s===l&&d(e,"next"))});else{const t=s.eq(c),o=t.index();if(t.addClass(i.bulletActiveClass),i.dynamicBullets){const t=s.eq(a),n=s.eq(l);for(let t=a;t<=l;t+=1)s.eq(t).addClass(`${i.bulletActiveClass}-main`);if(e.params.loop)if(o>=s.length){for(let t=i.dynamicMainBullets;t>=0;t-=1)s.eq(s.length-t).addClass(`${i.bulletActiveClass}-main`);s.eq(s.length-i.dynamicMainBullets-1).addClass(`${i.bulletActiveClass}-prev`)}else d(t,"prev"),d(n,"next");else d(t,"prev"),d(n,"next")}}if(i.dynamicBullets){const a=Math.min(s.length,i.dynamicMainBullets+4),o=(n*a-n)/2-p*n,r=t?"right":"left";s.css(e.isHorizontal()?r:"top",`${o}px`)}}if("fraction"===i.type&&(o.find(F(i.currentClass)).text(i.formatFractionCurrent(c+1)),o.find(F(i.totalClass)).text(i.formatFractionTotal(p))),"progressbar"===i.type){let t;t=i.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const s=(c+1)/p;let a=1,n=1;"horizontal"===t?a=s:n=s,o.find(F(i.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${a}) scaleY(${n})`).transition(e.params.speed)}"custom"===i.type&&i.renderCustom?(o.html(i.renderCustom(e,c+1,p)),a("paginationRender",o[0])):a("paginationUpdate",o[0]),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](i.lockClass)}function p(){const t=e.params.pagination;if(l())return;const i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,s=e.pagination.$el;let o="";if("bullets"===t.type){let a=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&a>i&&(a=i);for(let i=0;i<a;i+=1)t.renderBullet?o+=t.renderBullet.call(e,i,t.bulletClass):o+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`;s.html(o),e.pagination.bullets=s.find(F(t.bulletClass))}"fraction"===t.type&&(o=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span>`+" / "+`<span class="${t.totalClass}"></span>`,s.html(o)),"progressbar"===t.type&&(o=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`,s.html(o)),"custom"!==t.type&&a("paginationRender",e.pagination.$el[0])}function u(){e.params.pagination=q(e,e.originalParams.pagination,e.params.pagination,{el:"ax-pages"});const t=e.params.pagination;if(!t.el)return;let i=h(t.el);0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&i.length>1&&(i=e.$el.find(t.el),i.length>1&&(i=i.filter(t=>h(t).parents(".swiper")[0]===e.el))),"bullets"===t.type&&t.clickable&&i.addClass(t.clickableClass),i.addClass(t.modifierClass+t.type),i.addClass(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(i.addClass(`${t.modifierClass}${t.type}-dynamic`),r=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.addClass(t.progressbarOppositeClass),t.clickable&&i.on("click",F(t.bulletClass),(function(t){axPreventDefault(t);let i=h(this).index()*e.params.slidesPerGroup;e.params.loop&&(i+=e.loopedSlides),e.slideTo(i)})),Object.assign(e.pagination,{$el:i,el:i[0]}),e.enabled||i.addClass(t.lockClass))}function m(){const t=e.params.pagination;if(l())return;const i=e.pagination.$el;i.removeClass(t.hiddenClass),i.removeClass(t.modifierClass+t.type),i.removeClass(e.isHorizontal()?t.horizontalClass:t.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&i.off("click",F(t.bulletClass))}s("init",()=>{u(),p(),c()}),s("activeIndexChange",()=>{e.params.loop?c():void 0===e.snapIndex&&c()}),s("snapIndexChange",()=>{e.params.loop||c()}),s("slidesLengthChange",()=>{e.params.loop&&(p(),c())}),s("snapGridLengthChange",()=>{e.params.loop||(p(),c())}),s("destroy",()=>{m()}),s("enable disable",()=>{const{$el:t}=e.pagination;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)}),s("lock unlock",()=>{c()}),s("click",(t,i)=>{const s=i.target,{$el:o}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&o.length>0&&!h(s).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&s===e.navigation.nextEl||e.navigation.prevEl&&s===e.navigation.prevEl))return;const t=o.hasClass(e.params.pagination.hiddenClass);a(!0===t?"paginationShow":"paginationHide"),o.toggleClass(e.params.pagination.hiddenClass)}}),Object.assign(e.pagination,{render:p,update:c,init:u,destroy:m})},function(t){let{swiper:e,extendParams:i,on:a,emit:o}=t;const n=s();let r,l,d,p,u=!1,m=null,f=null;function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:i,progress:s}=e,{$dragEl:a,$el:o}=t,n=e.params.scrollbar;let r=l,h=(d-l)*s;i?(h=-h,h>0?(r=l-h,h=0):-h+l>d&&(r=d+h)):h<0?(r=l+h,h=0):h+l>d&&(r=d-h),e.isHorizontal()?(a.transform(`translate3d(${h}px, 0, 0)`),a[0].style.width=`${r}px`):(a.transform(`translate3d(0px, ${h}px, 0)`),a[0].style.height=`${r}px`),n.hide&&(clearTimeout(m),o[0].style.opacity=1,m=setTimeout(()=>{o[0].style.opacity=0,o.transition(400)},1e3))}function x(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{$dragEl:i,$el:s}=t;i[0].style.width="",i[0].style.height="",d=e.isHorizontal()?s[0].offsetWidth:s[0].offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),l="auto"===e.params.scrollbar.dragSize?d*p:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?i[0].style.width=`${l}px`:i[0].style.height=`${l}px`,s[0].style.display=p>=1?"none":"",e.params.scrollbar.hide&&(s[0].style.opacity=0),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}function v(t){return e.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientX:t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientY:t.clientY}function y(t){const{scrollbar:i,rtlTranslate:s}=e,{$el:a}=i;let o;o=(v(t)-a.offset()[e.isHorizontal()?"left":"top"]-(null!==r?r:l/2))/(d-l),o=Math.max(Math.min(o,1),0),s&&(o=1-o);const n=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*o;e.updateProgress(n),e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}function b(t){const i=e.params.scrollbar,{scrollbar:s,$wrapperEl:a}=e,{$el:n,$dragEl:l}=s;u=!0,r=t.target===l[0]||t.target===l?v(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,axPreventDefault(t),t.stopPropagation(),a.transition(100),l.transition(100),y(t),clearTimeout(f),n.transition(0),i.hide&&n.css("opacity",1),e.params.cssMode&&e.$wrapperEl.css("scroll-snap-type","none"),o("scrollbarDragStart",t)}function w(t){const{scrollbar:i,$wrapperEl:s}=e,{$el:a,$dragEl:n}=i;u&&(axPreventDefault(t),y(t),s.transition(0),a.transition(0),n.transition(0),o("scrollbarDragMove",t))}function D(t){const i=e.params.scrollbar,{scrollbar:s,$wrapperEl:a}=e,{$el:n}=s;u&&(u=!1,e.params.cssMode&&(e.$wrapperEl.css("scroll-snap-type",""),a.transition("")),i.hide&&(clearTimeout(f),f=c(()=>{n.css("opacity",0),n.transition(400)},1e3)),o("scrollbarDragEnd",t),i.snapOnRelease&&e.slideToClosest())}function T(t){const{scrollbar:i,touchEventsTouch:s,touchEventsDesktop:a,params:o,support:r}=e,l=i.$el[0],h=!(!r.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},d=!(!r.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};if(!l)return;const c="on"===t?"addEventListener":"removeEventListener";r.touch?(l[c](s.start,b,h),l[c](s.move,w,h),l[c](s.end,D,d)):(l[c](a.start,b,h),n[c](a.move,w,h),n[c](a.end,D,d))}function E(){const{scrollbar:t,$el:i}=e;e.params.scrollbar=q(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"ax-scrollbar"});const s=e.params.scrollbar;if(!s.el)return;let a=h(s.el);e.params.uniqueNavElements&&"string"==typeof s.el&&a.length>1&&1===i.find(s.el).length&&(a=i.find(s.el));let o=a.find(`.${e.params.scrollbar.dragClass}`);0===o.length&&(o=h(`<div class="${e.params.scrollbar.dragClass}"></div>`),a.append(o)),Object.assign(t,{$el:a,el:a[0],$dragEl:o,dragEl:o[0]}),s.draggable&&e.params.scrollbar.el&&T("on"),a&&a[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}function M(){e.params.scrollbar.el&&T("off")}i({scrollbar:{el:".ax-scrollbar",dragSize:"auto",hide:!0,draggable:!0,snapOnRelease:!0,lockClass:"ax-scrollbar-lock",dragClass:"ax-scrollbar-drag"}}),e.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},a("init",()=>{E(),x(),g()}),a("update resize observerUpdate lock unlock",()=>{x()}),a("setTranslate",()=>{g()}),a("setTransition",(t,i)=>{!function(t){e.params.scrollbar.el&&e.scrollbar.el&&e.scrollbar.$dragEl.transition(t)}(i)}),a("enable disable",()=>{const{$el:t}=e.scrollbar;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}),a("destroy",()=>{M()}),Object.assign(e.scrollbar,{updateSize:x,setTranslate:g,init:E,destroy:M})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({parallax:{enabled:!1}});const a=(t,i)=>{const{rtl:s}=e,a=h(t),o=s?-1:1,n=a.attr("data-swiper-parallax")||"0";let r=a.attr("data-swiper-parallax-x"),l=a.attr("data-swiper-parallax-y");const d=a.attr("data-swiper-parallax-scale"),c=a.attr("data-swiper-parallax-opacity");if(r||l?(r=r||"0",l=l||"0"):e.isHorizontal()?(r=n,l="0"):(l=n,r="0"),r=r.indexOf("%")>=0?`${parseInt(r,10)*i*o}%`:`${r*i*o}px`,l=l.indexOf("%")>=0?`${parseInt(l,10)*i}%`:`${l*i}px`,null!=c){const t=c-(c-1)*(1-Math.abs(i));a[0].style.opacity=t}if(null==d)a.transform(`translate3d(${r}, ${l}, 0px)`);else{const t=d-(d-1)*(1-Math.abs(i));a.transform(`translate3d(${r}, ${l}, 0px) scale(${t})`)}},o=()=>{const{$el:t,slides:i,progress:s,snapGrid:o}=e;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(t=>{a(t,s)}),i.each((t,i)=>{let n=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(n+=Math.ceil(i/2)-s*(o.length-1)),n=Math.min(Math.max(n,-1),1),h(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(t=>{a(t,n)})})};s("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),s("init",()=>{e.params.parallax.enabled&&o()}),s("setTranslate",()=>{e.params.parallax.enabled&&o()}),s("setTransition",(t,i)=>{e.params.parallax.enabled&&function(t){void 0===t&&(t=e.params.speed);const{$el:i}=e;i.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(e=>{const i=h(e);let s=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(s=0),i.transition(s)})}(i)})},function(t){let{swiper:e,extendParams:i,on:s,emit:a}=t;const n=o();i({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"ax-zoom",zoomedSlideClass:"ax-slide-zoomed"}}),e.zoom={enabled:!1};let r,l,d,c=1,p=!1;const m={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},g={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let x=1;function v(t){if(t.targetTouches.length<2)return 1;const e=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY,s=t.targetTouches[1].pageX,a=t.targetTouches[1].pageY;return Math.sqrt((s-e)**2+(a-i)**2)}function y(t){const i=e.support,s=e.params.zoom;if(l=!1,d=!1,!i.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;l=!0,m.scaleStart=v(t)}m.$slideEl&&m.$slideEl.length||(m.$slideEl=h(t.target).closest(`.${e.params.slideClass}`),0===m.$slideEl.length&&(m.$slideEl=e.slides.eq(e.activeIndex)),m.$imageEl=m.$slideEl.find(`.${s.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),m.$imageWrapEl=m.$imageEl.parent(`.${s.containerClass}`),m.maxRatio=m.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,0!==m.$imageWrapEl.length)?(m.$imageEl&&m.$imageEl.transition(0),p=!0):m.$imageEl=void 0}function b(t){const i=e.support,s=e.params.zoom,a=e.zoom;if(!i.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;d=!0,m.scaleMove=v(t)}m.$imageEl&&0!==m.$imageEl.length?(i.gestures?a.scale=t.scale*c:a.scale=m.scaleMove/m.scaleStart*c,a.scale>m.maxRatio&&(a.scale=m.maxRatio-1+(a.scale-m.maxRatio+1)**.5),a.scale<s.minRatio&&(a.scale=s.minRatio+1-(s.minRatio-a.scale+1)**.5),m.$imageEl.transform(`translate3d(0,0,0) scale(${a.scale})`)):"gesturechange"===t.type&&y(t)}function w(t){const i=e.device,s=e.support,a=e.params.zoom,o=e.zoom;if(!s.gestures){if(!l||!d)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!i.android)return;l=!1,d=!1}m.$imageEl&&0!==m.$imageEl.length&&(o.scale=Math.max(Math.min(o.scale,m.maxRatio),a.minRatio),m.$imageEl.transition(e.params.speed).transform(`translate3d(0,0,0) scale(${o.scale})`),c=o.scale,p=!1,1===o.scale&&(m.$slideEl=void 0))}function D(t){const i=e.zoom;if(!m.$imageEl||0===m.$imageEl.length)return;if(e.allowClick=!1,!f.isTouched||!m.$slideEl)return;f.isMoved||(f.width=m.$imageEl[0].offsetWidth,f.height=m.$imageEl[0].offsetHeight,f.startX=u(m.$imageWrapEl[0],"x")||0,f.startY=u(m.$imageWrapEl[0],"y")||0,m.slideWidth=m.$slideEl[0].offsetWidth,m.slideHeight=m.$slideEl[0].offsetHeight,m.$imageWrapEl.transition(0));const s=f.width*i.scale,a=f.height*i.scale;if(!(s<m.slideWidth&&a<m.slideHeight)){if(f.minX=Math.min(m.slideWidth/2-s/2,0),f.maxX=-f.minX,f.minY=Math.min(m.slideHeight/2-a/2,0),f.maxY=-f.minY,f.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,f.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!f.isMoved&&!p){if(e.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x))return void(f.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y))return void(f.isTouched=!1)}t.cancelable&&axPreventDefault(t),t.stopPropagation(),f.isMoved=!0,f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX,f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY,f.currentX<f.minX&&(f.currentX=f.minX+1-(f.minX-f.currentX+1)**.8),f.currentX>f.maxX&&(f.currentX=f.maxX-1+(f.currentX-f.maxX+1)**.8),f.currentY<f.minY&&(f.currentY=f.minY+1-(f.minY-f.currentY+1)**.8),f.currentY>f.maxY&&(f.currentY=f.maxY-1+(f.currentY-f.maxY+1)**.8),g.prevPositionX||(g.prevPositionX=f.touchesCurrent.x),g.prevPositionY||(g.prevPositionY=f.touchesCurrent.y),g.prevTime||(g.prevTime=Date.now()),g.x=(f.touchesCurrent.x-g.prevPositionX)/(Date.now()-g.prevTime)/2,g.y=(f.touchesCurrent.y-g.prevPositionY)/(Date.now()-g.prevTime)/2,Math.abs(f.touchesCurrent.x-g.prevPositionX)<2&&(g.x=0),Math.abs(f.touchesCurrent.y-g.prevPositionY)<2&&(g.y=0),g.prevPositionX=f.touchesCurrent.x,g.prevPositionY=f.touchesCurrent.y,g.prevTime=Date.now(),m.$imageWrapEl.transform(`translate3d(${f.currentX}px, ${f.currentY}px,0)`)}}function T(){const t=e.zoom;m.$slideEl&&e.previousIndex!==e.activeIndex&&(m.$imageEl&&m.$imageEl.transform("translate3d(0,0,0) scale(1)"),m.$imageWrapEl&&m.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,c=1,m.$slideEl=void 0,m.$imageEl=void 0,m.$imageWrapEl=void 0)}function E(t){const i=e.zoom,s=e.params.zoom;if(m.$slideEl||(t&&t.target&&(m.$slideEl=h(t.target).closest(`.${e.params.slideClass}`)),m.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?m.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):m.$slideEl=e.slides.eq(e.activeIndex)),m.$imageEl=m.$slideEl.find(`.${s.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),m.$imageWrapEl=m.$imageEl.parent(`.${s.containerClass}`)),!m.$imageEl||0===m.$imageEl.length||!m.$imageWrapEl||0===m.$imageWrapEl.length)return;let a,o,r,l,d,p,u,g,x,v,y,b,w,D,T,E,M,S;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),m.$slideEl.addClass(`${s.zoomedSlideClass}`),void 0===f.touchesStart.x&&t?(a="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,o="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(a=f.touchesStart.x,o=f.touchesStart.y),i.scale=m.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,c=m.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,t?(M=m.$slideEl[0].offsetWidth,S=m.$slideEl[0].offsetHeight,r=m.$slideEl.offset().left+n.scrollX,l=m.$slideEl.offset().top+n.scrollY,d=r+M/2-a,p=l+S/2-o,x=m.$imageEl[0].offsetWidth,v=m.$imageEl[0].offsetHeight,y=x*i.scale,b=v*i.scale,w=Math.min(M/2-y/2,0),D=Math.min(S/2-b/2,0),T=-w,E=-D,u=d*i.scale,g=p*i.scale,u<w&&(u=w),u>T&&(u=T),g<D&&(g=D),g>E&&(g=E)):(u=0,g=0),m.$imageWrapEl.transition(300).transform(`translate3d(${u}px, ${g}px,0)`),m.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${i.scale})`)}function M(){const t=e.zoom,i=e.params.zoom;m.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?m.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):m.$slideEl=e.slides.eq(e.activeIndex),m.$imageEl=m.$slideEl.find(`.${i.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),m.$imageWrapEl=m.$imageEl.parent(`.${i.containerClass}`)),m.$imageEl&&0!==m.$imageEl.length&&m.$imageWrapEl&&0!==m.$imageWrapEl.length&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),t.scale=1,c=1,m.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),m.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),m.$slideEl.removeClass(`${i.zoomedSlideClass}`),m.$slideEl=void 0)}function S(t){const i=e.zoom;i.scale&&1!==i.scale?M():E(t)}function A(){const t=e.support;return{passiveListener:!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!t.passiveListener||{passive:!1,capture:!0}}}function C(){return`.${e.params.slideClass}`}function L(t){const{passiveListener:i}=A(),s=C();e.$wrapperEl[t]("gesturestart",s,y,i),e.$wrapperEl[t]("gesturechange",s,b,i),e.$wrapperEl[t]("gestureend",s,w,i)}function I(){r||(r=!0,L("on"))}function k(){r&&(r=!1,L("off"))}function _(){const t=e.zoom;if(t.enabled)return;t.enabled=!0;const i=e.support,{passiveListener:s,activeListenerWithCapture:a}=A(),o=C();i.gestures?(e.$wrapperEl.on(e.touchEvents.start,I,s),e.$wrapperEl.on(e.touchEvents.end,k,s)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,o,y,s),e.$wrapperEl.on(e.touchEvents.move,o,b,a),e.$wrapperEl.on(e.touchEvents.end,o,w,s),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,o,w,s)),e.$wrapperEl.on(e.touchEvents.move,`.${e.params.zoom.containerClass}`,D,a)}function N(){const t=e.zoom;if(!t.enabled)return;const i=e.support;t.enabled=!1;const{passiveListener:s,activeListenerWithCapture:a}=A(),o=C();i.gestures?(e.$wrapperEl.off(e.touchEvents.start,I,s),e.$wrapperEl.off(e.touchEvents.end,k,s)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,o,y,s),e.$wrapperEl.off(e.touchEvents.move,o,b,a),e.$wrapperEl.off(e.touchEvents.end,o,w,s),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,o,w,s)),e.$wrapperEl.off(e.touchEvents.move,`.${e.params.zoom.containerClass}`,D,a)}Object.defineProperty(e.zoom,"scale",{get:()=>x,set(t){if(x!==t){const e=m.$imageEl?m.$imageEl[0]:void 0,i=m.$slideEl?m.$slideEl[0]:void 0;a("zoomChange",t,e,i)}x=t}}),s("init",()=>{e.params.zoom.enabled&&_()}),s("destroy",()=>{N()}),s("touchStart",(t,i)=>{e.zoom.enabled&&function(t){const i=e.device;m.$imageEl&&0!==m.$imageEl.length&&(f.isTouched||(i.android&&t.cancelable&&axPreventDefault(t),f.isTouched=!0,f.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,f.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))}(i)}),s("touchEnd",(t,i)=>{e.zoom.enabled&&function(){const t=e.zoom;if(!m.$imageEl||0===m.$imageEl.length)return;if(!f.isTouched||!f.isMoved)return f.isTouched=!1,void(f.isMoved=!1);f.isTouched=!1,f.isMoved=!1;let i=300,s=300;const a=g.x*i,o=f.currentX+a,n=g.y*s,r=f.currentY+n;0!==g.x&&(i=Math.abs((o-f.currentX)/g.x)),0!==g.y&&(s=Math.abs((r-f.currentY)/g.y));const l=Math.max(i,s);f.currentX=o,f.currentY=r;const h=f.width*t.scale,d=f.height*t.scale;f.minX=Math.min(m.slideWidth/2-h/2,0),f.maxX=-f.minX,f.minY=Math.min(m.slideHeight/2-d/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),m.$imageWrapEl.transition(l).transform(`translate3d(${f.currentX}px, ${f.currentY}px,0)`)}()}),s("doubleTap",(t,i)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&S(i)}),s("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&T()}),s("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&T()}),Object.assign(e.zoom,{enable:_,disable:N,in:E,out:M,toggle:S})},function(t){let{swiper:e,extendParams:i,on:s,emit:a}=t;i({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"ax-lazy",loadingClass:"ax-lazy-loading",loadedClass:"ax-lazy-loaded",preloaderClass:"ax-loading"}}),e.lazy={};let n=!1,r=!1;function l(t,i){void 0===i&&(i=!0);const s=e.params.lazy;if(void 0===t)return;if(0===e.slides.length)return;const o=e.virtual&&e.params.virtual.enabled?e.$wrapperEl.children(`.${e.params.slideClass}[data-swiper-slide-index="${t}"]`):e.slides.eq(t),n=o.find(`.${s.elementClass}:not(.${s.loadedClass}):not(.${s.loadingClass})`);!o.hasClass(s.elementClass)||o.hasClass(s.loadedClass)||o.hasClass(s.loadingClass)||n.push(o[0]),0!==n.length&&n.each(t=>{const n=h(t);n.addClass(s.loadingClass);const r=n.attr("data-background"),d=n.attr("data-src"),c=n.attr("data-srcset"),p=n.attr("data-sizes"),u=n.parent("picture");e.loadImage(n[0],d||r,c,p,!1,()=>{if(null!=e&&e&&(!e||e.params)&&!e.destroyed){if(r?(n.css("background-image",`url("${r}")`),n.removeAttr("data-background")):(c&&(n.attr("srcset",c),n.removeAttr("data-srcset")),p&&(n.attr("sizes",p),n.removeAttr("data-sizes")),u.length&&u.children("source").each(t=>{const e=h(t);e.attr("data-srcset")&&(e.attr("srcset",e.attr("data-srcset")),e.removeAttr("data-srcset"))}),d&&(n.attr("src",d),n.removeAttr("data-src"))),n.addClass(s.loadedClass).removeClass(s.loadingClass),o.find(`.${s.preloaderClass}`).remove(),e.params.loop&&i){const t=o.attr("data-swiper-slide-index");if(o.hasClass(e.params.slideDuplicateClass)){l(e.$wrapperEl.children(`[data-swiper-slide-index="${t}"]:not(.${e.params.slideDuplicateClass})`).index(),!1)}else{l(e.$wrapperEl.children(`.${e.params.slideDuplicateClass}[data-swiper-slide-index="${t}"]`).index(),!1)}}a("lazyImageReady",o[0],n[0]),e.params.autoHeight&&e.updateAutoHeight()}}),a("lazyImageLoad",o[0],n[0])})}function d(){const{$wrapperEl:t,params:i,slides:s,activeIndex:a}=e,o=e.virtual&&i.virtual.enabled,n=i.lazy;let d=i.slidesPerView;function c(e){if(o){if(t.children(`.${i.slideClass}[data-swiper-slide-index="${e}"]`).length)return!0}else if(s[e])return!0;return!1}function p(t){return o?h(t).attr("data-swiper-slide-index"):h(t).index()}if("auto"===d&&(d=0),r||(r=!0),e.params.watchSlidesProgress)t.children(`.${i.slideVisibleClass}`).each(t=>{l(o?h(t).attr("data-swiper-slide-index"):h(t).index())});else if(d>1)for(let t=a;t<a+d;t+=1)c(t)&&l(t);else l(a);if(n.loadPrevNext)if(d>1||n.loadPrevNextAmount&&n.loadPrevNextAmount>1){const t=n.loadPrevNextAmount,e=d,i=Math.min(a+e+Math.max(t,e),s.length),o=Math.max(a-Math.max(e,t),0);for(let t=a+d;t<i;t+=1)c(t)&&l(t);for(let t=o;t<a;t+=1)c(t)&&l(t)}else{const e=t.children(`.${i.slideNextClass}`);e.length>0&&l(p(e));const s=t.children(`.${i.slidePrevClass}`);s.length>0&&l(p(s))}}function c(){const t=o();if(!e||e.destroyed)return;const i=e.params.lazy.scrollingElement?h(e.params.lazy.scrollingElement):h(t),s=i[0]===t,a=s?t.innerWidth:i[0].offsetWidth,r=s?t.innerHeight:i[0].offsetHeight,l=e.$el.offset(),{rtlTranslate:p}=e;let u=!1;p&&(l.left-=e.$el[0].scrollLeft);const m=[[l.left,l.top],[l.left+e.width,l.top],[l.left,l.top+e.height],[l.left+e.width,l.top+e.height]];for(let t=0;t<m.length;t+=1){const e=m[t];if(e[0]>=0&&e[0]<=a&&e[1]>=0&&e[1]<=r){if(0===e[0]&&0===e[1])continue;u=!0}}const f=!("touchstart"!==e.touchEvents.start||!e.support.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};u?(d(),i.off("scroll",c,f)):n||(n=!0,i.on("scroll",c,f))}s("beforeInit",()=>{e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)}),s("init",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():d())}),s("scroll",()=>{e.params.freeMode&&e.params.freeMode.enabled&&!e.params.freeMode.sticky&&d()}),s("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():d())}),s("transitionStart",()=>{e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!r)&&(e.params.lazy.checkInView?c():d())}),s("transitionEnd",()=>{e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&(e.params.lazy.checkInView?c():d())}),s("slideChange",()=>{const{lazy:t,cssMode:i,watchSlidesProgress:s,touchReleaseOnEdges:a,resistanceRatio:o}=e.params;t.enabled&&(i||s&&(a||0===o))&&d()}),Object.assign(e.lazy,{load:d,loadInSlide:l})},function(t){let{swiper:e,extendParams:i,on:s}=t;function a(t,e){const i=function(){let t,e,i;return(s,a)=>{for(e=-1,t=s.length;t-e>1;)i=t+e>>1,s[i]<=a?e=i:t=i;return t}}();let s,a;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(a=i(this.x,t),s=a-1,(t-this.x[s])*(this.y[a]-this.y[s])/(this.x[a]-this.x[s])+this.y[s]):0},this}function o(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},s("beforeInit",()=>{e.controller.control=e.params.controller.control}),s("update",()=>{o()}),s("resize",()=>{o()}),s("observerUpdate",()=>{o()}),s("setTranslate",(t,i,s)=>{e.controller.control&&e.controller.setTranslate(i,s)}),s("setTransition",(t,i,s)=>{e.controller.control&&e.controller.setTransition(i,s)}),Object.assign(e.controller,{setTranslate:function(t,i){const s=e.controller.control;let o,n;const r=e.constructor;function l(t){const i=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(!function(t){e.controller.spline||(e.controller.spline=e.params.loop?new a(e.slidesGrid,t.slidesGrid):new a(e.snapGrid,t.snapGrid))}(t),n=-e.controller.spline.interpolate(-i)),n&&"container"!==e.params.controller.by||(o=(t.maxTranslate()-t.minTranslate())/(e.maxTranslate()-e.minTranslate()),n=(i-e.minTranslate())*o+t.minTranslate()),e.params.controller.inverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setTranslate(n,e),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(s))for(let t=0;t<s.length;t+=1)s[t]!==i&&s[t]instanceof r&&l(s[t]);else s instanceof r&&i!==s&&l(s)},setTransition:function(t,i){const s=e.constructor,a=e.controller.control;let o;function n(i){i.setTransition(t,e),0!==t&&(i.transitionStart(),i.params.autoHeight&&c(()=>{i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(()=>{a&&(i.params.loop&&"slide"===e.params.controller.by&&i.loopFix(),i.transitionEnd())}))}if(Array.isArray(a))for(o=0;o<a.length;o+=1)a[o]!==i&&a[o]instanceof s&&n(a[o]);else a instanceof s&&i!==a&&n(a)}})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({a11y:{enabled:!0,notificationClass:"ax-notification",prevSlideMessage:"上一个",nextSlideMessage:"下一个",firstSlideMessage:"这是第一个",lastSlideMessage:"这是最后一个",paginationBulletMessage:"跳转到第{{index}}页",slideLabelMessage:"第{{index}}/{{slidesLength}}页",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}});let a=null;function o(t){const e=a;0!==e.length&&(e.html(""),e.html(t))}function n(t){t.attr("tabIndex","0")}function r(t){t.attr("tabIndex","-1")}function l(t,e){t.attr("role",e)}function d(t,e){t.attr("aria-roledescription",e)}function c(t,e){t.attr("aria-label",e)}function p(t){t.attr("aria-disabled",!0)}function u(t){t.attr("aria-disabled",!1)}function m(t){if(13!==t.keyCode&&32!==t.keyCode)return;const i=e.params.a11y,s=h(t.target);e.navigation&&e.navigation.$nextEl&&s.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(i.lastSlideMessage):o(i.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&s.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(i.firstSlideMessage):o(i.prevSlideMessage)),e.pagination&&s.is(F(e.params.pagination.bulletClass))&&s[0].click()}function f(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function g(){return f()&&e.params.pagination.clickable}const x=(t,e,i)=>{n(t),"BUTTON"!==t[0].tagName&&(l(t,"button"),t.on("keydown",m)),c(t,i),function(t,e){t.attr("aria-controls",e)}(t,e)},v=t=>{const i=t.target.closest(`.${e.params.slideClass}`);if(!i||!e.slides.includes(i))return;const s=e.slides.indexOf(i)===e.activeIndex,a=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(i);s||a||e.slideTo(e.slides.indexOf(i),0)};function y(){const t=e.params.a11y;e.$el.append(a);const i=e.$el;t.containerRoleDescriptionMessage&&d(i,t.containerRoleDescriptionMessage),t.containerMessage&&c(i,t.containerMessage);const s=e.$wrapperEl,o=t.id||s.attr("id")||`ax-wrapper-${n=16,void 0===n&&(n=16),"x".repeat(n).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}`;var n;const r=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";var p;p=o,s.attr("id",p),function(t,e){t.attr("aria-live",e)}(s,r),t.itemRoleDescriptionMessage&&d(h(e.slides),t.itemRoleDescriptionMessage),l(h(e.slides),t.slideRole);const u=e.params.loop?e.slides.filter(t=>!t.classList.contains(e.params.slideDuplicateClass)).length:e.slides.length;let f,y;e.slides.each((i,s)=>{const a=h(i),o=e.params.loop?parseInt(a.attr("data-swiper-slide-index"),10):s;c(a,t.slideLabelMessage.replace(/\{\{index\}\}/,o+1).replace(/\{\{slidesLength\}\}/,u))}),e.navigation&&e.navigation.$nextEl&&(f=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(y=e.navigation.$prevEl),f&&f.length&&x(f,o,t.nextSlideMessage),y&&y.length&&x(y,o,t.prevSlideMessage),g()&&e.pagination.$el.on("keydown",F(e.params.pagination.bulletClass),m),e.$el.on("focus",v,!0)}s("beforeInit",()=>{a=h(`<span class="${e.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),s("afterInit",()=>{e.params.a11y.enabled&&y()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&function(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{$nextEl:t,$prevEl:i}=e.navigation;i&&i.length>0&&(e.isBeginning?(p(i),r(i)):(u(i),n(i))),t&&t.length>0&&(e.isEnd?(p(t),r(t)):(u(t),n(t)))}()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&function(){const t=e.params.a11y;f()&&e.pagination.bullets.each(i=>{const s=h(i);e.params.pagination.clickable&&(n(s),e.params.pagination.renderBullet||(l(s,"button"),c(s,t.paginationBulletMessage.replace(/\{\{index\}\}/,s.index()+1)))),s.is(`.${e.params.pagination.bulletActiveClass}`)?s.attr("aria-current","true"):s.removeAttr("aria-current")})}()}),s("destroy",()=>{e.params.a11y.enabled&&function(){let t,i;a&&a.length>0&&a.remove(),e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(i=e.navigation.$prevEl),t&&t.off("keydown",m),i&&i.off("keydown",m),g()&&e.pagination.$el.off("keydown",F(e.params.pagination.bulletClass),m),e.$el.off("focus",v,!0)}()})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({history:{enabled:!1,root:"",replaceState:!1,key:"slides"}});let a=!1,n={};const r=t=>t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),l=t=>{const e=o();let i;i=t?new URL(t):e.location;const s=i.pathname.slice(1).split("/").filter(t=>""!==t),a=s.length;return{key:s[a-2],value:s[a-1]}},h=(t,i)=>{const s=o();if(!a||!e.params.history.enabled)return;let n;n=e.params.url?new URL(e.params.url):s.location;const l=e.slides.eq(i);let h=r(l.attr("data-history"));if(e.params.history.root.length>0){let i=e.params.history.root;"/"===i[i.length-1]&&(i=i.slice(0,i.length-1)),h=`${i}/${t}/${h}`}else n.pathname.includes(t)||(h=`${t}/${h}`);const d=s.history.state;d&&d.value===h||(e.params.history.replaceState?s.history.replaceState({value:h},null,h):s.history.pushState({value:h},null,h))},d=(t,i,s)=>{if(i)for(let a=0,o=e.slides.length;a<o;a+=1){const o=e.slides.eq(a);if(r(o.attr("data-history"))===i&&!o.hasClass(e.params.slideDuplicateClass)){const i=o.index();e.slideTo(i,t,s)}}else e.slideTo(0,t,s)},c=()=>{n=l(e.params.url),d(e.params.speed,e.paths.value,!1)};s("init",()=>{e.params.history.enabled&&(()=>{const t=o();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);a=!0,n=l(e.params.url),(n.key||n.value)&&(d(0,n.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",c))}})()}),s("destroy",()=>{e.params.history.enabled&&(()=>{const t=o();e.params.history.replaceState||t.removeEventListener("popstate",c)})()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{a&&h(e.params.history.key,e.activeIndex)}),s("slideChange",()=>{a&&e.params.cssMode&&h(e.params.history.key,e.activeIndex)})},function(t){let{swiper:e,extendParams:i,emit:a,on:n}=t,r=!1;const l=s(),d=o();i({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});const c=()=>{a("hashChange");const t=l.location.hash.replace("#","");if(t!==e.slides.eq(e.activeIndex).attr("data-hash")){const i=e.$wrapperEl.children(`.${e.params.slideClass}[data-hash="${t}"]`).index();if(void 0===i)return;e.slideTo(i)}},p=()=>{if(r&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&d.history&&d.history.replaceState)d.history.replaceState(null,null,`#${e.slides.eq(e.activeIndex).attr("data-hash")}`||""),a("hashSet");else{const t=e.slides.eq(e.activeIndex),i=t.attr("data-hash")||t.attr("data-history");l.location.hash=i||"",a("hashSet")}};n("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;r=!0;const t=l.location.hash.replace("#","");if(t){const i=0;for(let s=0,a=e.slides.length;s<a;s+=1){const a=e.slides.eq(s);if((a.attr("data-hash")||a.attr("data-history"))===t&&!a.hasClass(e.params.slideDuplicateClass)){const t=a.index();e.slideTo(t,i,e.params.runCallbacksOnInit,!0)}}}e.params.hashNavigation.watchState&&h(d).on("hashchange",c)})()}),n("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&h(d).off("hashchange",c)}),n("transitionEnd _freeModeNoMomentumRelease",()=>{r&&p()}),n("slideChange",()=>{r&&e.params.cssMode&&p()})},function(t){let e,{swiper:i,extendParams:a,on:o,emit:n}=t;function r(){const t=i.slides.eq(i.activeIndex);let s=i.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(s=t.attr("data-swiper-autoplay")||i.params.autoplay.delay),clearTimeout(e),e=c(()=>{let t;i.params.autoplay.reverseDirection?i.params.loop?(i.loopFix(),t=i.slidePrev(i.params.speed,!0,!0),n("autoplay")):i.isBeginning?i.params.autoplay.stopOnLastSlide?h():(t=i.slideTo(i.slides.length-1,i.params.speed,!0,!0),n("autoplay")):(t=i.slidePrev(i.params.speed,!0,!0),n("autoplay")):i.params.loop?(i.loopFix(),t=i.slideNext(i.params.speed,!0,!0),n("autoplay")):i.isEnd?i.params.autoplay.stopOnLastSlide?h():(t=i.slideTo(0,i.params.speed,!0,!0),n("autoplay")):(t=i.slideNext(i.params.speed,!0,!0),n("autoplay")),i.params.cssMode&&i.autoplay.running?r():!1===t&&r()},s)}function l(){return void 0===e&&(!i.autoplay.running&&(i.autoplay.running=!0,n("autoplayStart"),r(),!0))}function h(){return!!i.autoplay.running&&(void 0!==e&&(e&&(clearTimeout(e),e=void 0),i.autoplay.running=!1,n("autoplayStop"),!0))}function d(t){i.autoplay.running&&(i.autoplay.paused||(e&&clearTimeout(e),i.autoplay.paused=!0,0!==t&&i.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(t=>{i.$wrapperEl[0].addEventListener(t,u)}):(i.autoplay.paused=!1,r())))}function p(){const t=s();"hidden"===t.visibilityState&&i.autoplay.running&&d(),"visible"===t.visibilityState&&i.autoplay.paused&&(r(),i.autoplay.paused=!1)}function u(t){i&&!i.destroyed&&i.$wrapperEl&&t.target===i.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(t=>{i.$wrapperEl[0].removeEventListener(t,u)}),i.autoplay.paused=!1,i.autoplay.running?r():h())}function m(){i.params.autoplay.disableOnInteraction?h():(n("autoplayPause"),d()),["transitionend","webkitTransitionEnd"].forEach(t=>{i.$wrapperEl[0].removeEventListener(t,u)})}function f(){i.params.autoplay.disableOnInteraction||(i.autoplay.paused=!1,n("autoplayResume"),r())}i.autoplay={running:!1,paused:!1},a({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),o("init",()=>{if(i.params.autoplay.enabled){l(),s().addEventListener("visibilitychange",p),i.params.autoplay.pauseOnMouseEnter&&(i.$el.on("mouseenter",m),i.$el.on("mouseleave",f))}}),o("beforeTransitionStart",(t,e,s)=>{i.autoplay.running&&(s||!i.params.autoplay.disableOnInteraction?i.autoplay.pause(e):h())}),o("sliderFirstMove",()=>{i.autoplay.running&&(i.params.autoplay.disableOnInteraction?h():d())}),o("touchEnd",()=>{i.params.cssMode&&i.autoplay.paused&&!i.params.autoplay.disableOnInteraction&&r()}),o("destroy",()=>{i.$el.off("mouseenter",m),i.$el.off("mouseleave",f),i.autoplay.running&&h(),s().removeEventListener("visibilitychange",p)}),Object.assign(i.autoplay,{pause:d,run:r,start:l,stop:h})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"ax-slide-thumb-active",thumbsContainerClass:"ax-thumbs"}});let a=!1,o=!1;function n(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const i=t.clickedIndex,s=t.clickedSlide;if(s&&h(s).hasClass(e.params.thumbs.slideThumbActiveClass))return;if(null==i)return;let a;if(a=t.params.loop?parseInt(h(t.clickedSlide).attr("data-swiper-slide-index"),10):i,e.params.loop){let t=e.activeIndex;e.slides.eq(t).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,t=e.activeIndex);const i=e.slides.eq(t).prevAll(`[data-swiper-slide-index="${a}"]`).eq(0).index(),s=e.slides.eq(t).nextAll(`[data-swiper-slide-index="${a}"]`).eq(0).index();a=void 0===i?s:void 0===s?i:s-t<t-i?s:i}e.slideTo(a)}function r(){const{thumbs:t}=e.params;if(a)return!1;a=!0;const i=e.constructor;if(t.swiper instanceof i)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(m(t.swiper)){const s=Object.assign({},t.swiper);Object.assign(s,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new i(s),o=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",n),!0}function l(t){const i=e.thumbs.swiper;if(!i||i.destroyed)return;const s="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,a=e.params.thumbs.autoScrollOffset,o=a&&!i.params.loop;if(e.realIndex!==i.realIndex||o){let n,r,l=i.activeIndex;if(i.params.loop){i.slides.eq(l).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,l=i.activeIndex);const t=i.slides.eq(l).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),s=i.slides.eq(l).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();n=void 0===t?s:void 0===s?t:s-l==l-t?i.params.slidesPerGroup>1?s:l:s-l<l-t?s:t,r=e.activeIndex>e.previousIndex?"next":"prev"}else n=e.realIndex,r=n>e.previousIndex?"next":"prev";o&&(n+="next"===r?a:-1*a),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(n)<0&&(i.params.centeredSlides?n=n>l?n-Math.floor(s/2)+1:n+Math.floor(s/2)-1:n>l&&i.params.slidesPerGroup,i.slideTo(n,t?0:void 0))}let n=1;const r=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(n=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(n=1),n=Math.floor(n),i.slides.removeClass(r),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let t=0;t<n;t+=1)i.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+t}"]`).addClass(r);else for(let t=0;t<n;t+=1)i.slides.eq(e.realIndex+t).addClass(r)}e.thumbs={swiper:null},s("beforeInit",()=>{const{thumbs:t}=e.params;t&&t.swiper&&(r(),l(!0))}),s("slideChange update resize observerUpdate",()=>{l()}),s("setTransition",(t,i)=>{const s=e.thumbs.swiper;s&&!s.destroyed&&s.setTransition(i)}),s("beforeDestroy",()=>{const t=e.thumbs.swiper;t&&!t.destroyed&&o&&t.destroy()}),Object.assign(e.thumbs,{init:r,update:l})},function(t){let{swiper:e,extendParams:i,emit:s,once:a}=t;i({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function(){const t=e.getTranslate();e.setTranslate(t),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function(){const{touchEventsData:t,touches:i}=e;0===t.velocities.length&&t.velocities.push({position:i[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:i[e.isHorizontal()?"currentX":"currentY"],time:p()})},onTouchEnd:function(t){let{currentPos:i}=t;const{params:o,$wrapperEl:n,rtlTranslate:r,snapGrid:l,touchEventsData:h}=e,d=p()-h.touchStartTime;if(i<-e.minTranslate())e.slideTo(e.activeIndex);else if(i>-e.maxTranslate())e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1);else{if(o.freeMode.momentum){if(h.velocities.length>1){const t=h.velocities.pop(),i=h.velocities.pop(),s=t.position-i.position,a=t.time-i.time;e.velocity=s/a,e.velocity/=2,Math.abs(e.velocity)<o.freeMode.minimumVelocity&&(e.velocity=0),(a>150||p()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=o.freeMode.momentumVelocityRatio,h.velocities.length=0;let t=1e3*o.freeMode.momentumRatio;const i=e.velocity*t;let d=e.translate+i;r&&(d=-d);let c,u=!1;const m=20*Math.abs(e.velocity)*o.freeMode.momentumBounceRatio;let f;if(d<e.maxTranslate())o.freeMode.momentumBounce?(d+e.maxTranslate()<-m&&(d=e.maxTranslate()-m),c=e.maxTranslate(),u=!0,h.allowMomentumBounce=!0):d=e.maxTranslate(),o.loop&&o.centeredSlides&&(f=!0);else if(d>e.minTranslate())o.freeMode.momentumBounce?(d-e.minTranslate()>m&&(d=e.minTranslate()+m),c=e.minTranslate(),u=!0,h.allowMomentumBounce=!0):d=e.minTranslate(),o.loop&&o.centeredSlides&&(f=!0);else if(o.freeMode.sticky){let t;for(let e=0;e<l.length;e+=1)if(l[e]>-d){t=e;break}d=Math.abs(l[t]-d)<Math.abs(l[t-1]-d)||"next"===e.swipeDirection?l[t]:l[t-1],d=-d}if(f&&a("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(t=r?Math.abs((-d-e.translate)/e.velocity):Math.abs((d-e.translate)/e.velocity),o.freeMode.sticky){const i=Math.abs((r?-d:d)-e.translate),s=e.slidesSizesGrid[e.activeIndex];t=i<s?o.speed:i<2*s?1.5*o.speed:2.5*o.speed}}else if(o.freeMode.sticky)return void e.slideToClosest();o.freeMode.momentumBounce&&u?(e.updateProgress(c),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating=!0,n.transitionEnd(()=>{e&&!e.destroyed&&h.allowMomentumBounce&&(s("momentumBounce"),e.setTransition(o.speed),setTimeout(()=>{e.setTranslate(c),n.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(d),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,n.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(d),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(o.freeMode.sticky)return void e.slideToClosest();o.freeMode&&s("_freeModeNoMomentumRelease")}(!o.freeMode.momentum||d>=o.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function(t){let e,i,s,{swiper:a,extendParams:o}=t;o({grid:{rows:1,fill:"column"}}),a.grid={initSlides:t=>{const{slidesPerView:o}=a.params,{rows:n,fill:r}=a.params.grid;i=e/n,s=Math.floor(t/n),e=Math.floor(t/n)===t/n?t:Math.ceil(t/n)*n,"auto"!==o&&"row"===r&&(e=Math.max(e,o*n))},updateSlide:(t,o,n,r)=>{const{slidesPerGroup:l,spaceBetween:h}=a.params,{rows:d,fill:c}=a.params.grid;let p,u,m;if("row"===c&&l>1){const i=Math.floor(t/(l*d)),s=t-d*l*i,a=0===i?l:Math.min(Math.ceil((n-i*d*l)/d),l);m=Math.floor(s/a),u=s-m*a+i*l,p=u+m*e/d,o.css({"-webkit-order":p,order:p})}else"column"===c?(u=Math.floor(t/d),m=t-u*d,(u>s||u===s&&m===d-1)&&(m+=1,m>=d&&(m=0,u+=1))):(m=Math.floor(t/i),u=t-m*i);o.css(r("margin-top"),0!==m?h&&`${h}px`:"")},updateWrapperSize:(t,i,s)=>{const{spaceBetween:o,centeredSlides:n,roundLengths:r}=a.params,{rows:l}=a.params.grid;if(a.virtualSize=(t+o)*e,a.virtualSize=Math.ceil(a.virtualSize/l)-o,a.$wrapperEl.css({[s("width")]:`${a.virtualSize+o}px`}),n){i.splice(0,i.length);const t=[];for(let e=0;e<i.length;e+=1){let s=i[e];r&&(s=Math.floor(s)),i[e]<a.virtualSize+i[0]&&t.push(s)}i.push(...t)}}}},function(t){let{swiper:e}=t;Object.assign(e,{appendSlide:R.bind(e),prependSlide:V.bind(e),addSlide:U.bind(e),removeSlide:W.bind(e),removeAllSlides:G.bind(e)})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({fadeEffect:{crossFade:!1,transformEl:null}}),X({effect:"fade",swiper:e,on:s,setTranslate:()=>{const{slides:t}=e,i=e.params.fadeEffect;for(let s=0;s<t.length;s+=1){const t=e.slides.eq(s);let a=-t[0].swiperSlideOffset;e.params.virtualTranslate||(a-=e.translate);let o=0;e.isHorizontal()||(o=a,a=0);const n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);Q(i,t).css({opacity:n}).transform(`translate3d(${a}px, ${o}px, 0px)`)}},setTransition:t=>{const{transformEl:i}=e.params.fadeEffect;(i?e.slides.find(i):e.slides).transition(t),J({swiper:e,duration:t,transformEl:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const a=(t,e,i)=>{let s=i?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),a=i?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===s.length&&(s=h(`<div class="swiper-slide-shadow-${i?"left":"top"}"></div>`),t.append(s)),0===a.length&&(a=h(`<div class="swiper-slide-shadow-${i?"right":"bottom"}"></div>`),t.append(a)),s.length&&(s[0].style.opacity=Math.max(-e,0)),a.length&&(a[0].style.opacity=Math.max(e,0))};X({effect:"cube",swiper:e,on:s,setTranslate:()=>{const{$el:t,$wrapperEl:i,slides:s,width:o,height:n,rtlTranslate:r,size:l,browser:d}=e,c=e.params.cubeEffect,p=e.isHorizontal(),u=e.virtual&&e.params.virtual.enabled;let m,f=0;c.shadow&&(p?(m=i.find(".swiper-cube-shadow"),0===m.length&&(m=h('<div class="swiper-cube-shadow"></div>'),i.append(m)),m.css({height:`${o}px`})):(m=t.find(".swiper-cube-shadow"),0===m.length&&(m=h('<div class="swiper-cube-shadow"></div>'),t.append(m))));for(let t=0;t<s.length;t+=1){const e=s.eq(t);let i=t;u&&(i=parseInt(e.attr("data-swiper-slide-index"),10));let o=90*i,n=Math.floor(o/360);r&&(o=-o,n=Math.floor(-o/360));const h=Math.max(Math.min(e[0].progress,1),-1);let d=0,m=0,g=0;i%4==0?(d=4*-n*l,g=0):(i-1)%4==0?(d=0,g=4*-n*l):(i-2)%4==0?(d=l+4*n*l,g=l):(i-3)%4==0&&(d=-l,g=3*l+4*l*n),r&&(d=-d),p||(m=d,d=0);const x=`rotateX(${p?0:-o}deg) rotateY(${p?o:0}deg) translate3d(${d}px, ${m}px, ${g}px)`;h<=1&&h>-1&&(f=90*i+90*h,r&&(f=90*-i-90*h)),e.transform(x),c.slideShadows&&a(e,h,p)}if(i.css({"-webkit-transform-origin":`50% 50% -${l/2}px`,"transform-origin":`50% 50% -${l/2}px`}),c.shadow)if(p)m.transform(`translate3d(0px, ${o/2+c.shadowOffset}px, ${-o/2}px) rotateX(90deg) rotateZ(0deg) scale(${c.shadowScale})`);else{const t=Math.abs(f)-90*Math.floor(Math.abs(f)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),i=c.shadowScale,s=c.shadowScale/e,a=c.shadowOffset;m.transform(`scale3d(${i}, 1, ${s}) translate3d(0px, ${n/2+a}px, ${-n/2/s}px) rotateX(-90deg)`)}const g=d.isSafari||d.isWebView?-l/2:0;i.transform(`translate3d(0px,0,${g}px) rotateX(${e.isHorizontal()?0:f}deg) rotateY(${e.isHorizontal()?-f:0}deg)`),i[0].style.setProperty("--swiper-cube-translate-z",`${g}px`)},setTransition:t=>{const{$el:i,slides:s}=e;s.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.cubeEffect.shadow&&!e.isHorizontal()&&i.find(".swiper-cube-shadow").transition(t)},recreateShadows:()=>{const t=e.isHorizontal();e.slides.each(e=>{const i=Math.max(Math.min(e.progress,1),-1);a(h(e),i,t)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}});const a=(t,i,s)=>{let a=e.isHorizontal()?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),o=e.isHorizontal()?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===a.length&&(a=K(s,t,e.isHorizontal()?"left":"top")),0===o.length&&(o=K(s,t,e.isHorizontal()?"right":"bottom")),a.length&&(a[0].style.opacity=Math.max(-i,0)),o.length&&(o[0].style.opacity=Math.max(i,0))};X({effect:"flip",swiper:e,on:s,setTranslate:()=>{const{slides:t,rtlTranslate:i}=e,s=e.params.flipEffect;for(let o=0;o<t.length;o+=1){const n=t.eq(o);let r=n[0].progress;e.params.flipEffect.limitRotation&&(r=Math.max(Math.min(n[0].progress,1),-1));const l=n[0].swiperSlideOffset;let h=-180*r,d=0,c=e.params.cssMode?-l-e.translate:-l,p=0;e.isHorizontal()?i&&(h=-h):(p=c,c=0,d=-h,h=0),n[0].style.zIndex=-Math.abs(Math.round(r))+t.length,s.slideShadows&&a(n,r,s);const u=`translate3d(${c}px, ${p}px, 0px) rotateX(${d}deg) rotateY(${h}deg)`;Q(s,n).transform(u)}},setTransition:t=>{const{transformEl:i}=e.params.flipEffect;(i?e.slides.find(i):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),J({swiper:e,duration:t,transformEl:i})},recreateShadows:()=>{const t=e.params.flipEffect;e.slides.each(i=>{const s=h(i);let o=s[0].progress;e.params.flipEffect.limitRotation&&(o=Math.max(Math.min(i.progress,1),-1)),a(s,o,t)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),X({effect:"coverflow",swiper:e,on:s,setTranslate:()=>{const{width:t,height:i,slides:s,slidesSizesGrid:a}=e,o=e.params.coverflowEffect,n=e.isHorizontal(),r=e.translate,l=n?t/2-r:i/2-r,h=n?o.rotate:-o.rotate,d=o.depth;for(let t=0,e=s.length;t<e;t+=1){const e=s.eq(t),i=a[t],r=(l-e[0].swiperSlideOffset-i/2)/i,c="function"==typeof o.modifier?o.modifier(r):r*o.modifier;let p=n?h*c:0,u=n?0:h*c,m=-d*Math.abs(c),f=o.stretch;"string"==typeof f&&-1!==f.indexOf("%")&&(f=parseFloat(o.stretch)/100*i);let g=n?0:f*c,x=n?f*c:0,v=1-(1-o.scale)*Math.abs(c);Math.abs(x)<.001&&(x=0),Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(p)<.001&&(p=0),Math.abs(u)<.001&&(u=0),Math.abs(v)<.001&&(v=0);const y=`translate3d(${x}px,${g}px,${m}px)  rotateX(${u}deg) rotateY(${p}deg) scale(${v})`;if(Q(o,e).transform(y),e[0].style.zIndex=1-Math.abs(Math.round(c)),o.slideShadows){let t=n?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),i=n?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===t.length&&(t=K(o,e,n?"left":"top")),0===i.length&&(i=K(o,e,n?"right":"bottom")),t.length&&(t[0].style.opacity=c>0?c:0),i.length&&(i[0].style.opacity=-c>0?-c:0)}}},setTransition:t=>{const{transformEl:i}=e.params.coverflowEffect;(i?e.slides.find(i):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const a=t=>"string"==typeof t?t:`${t}px`;X({effect:"creative",swiper:e,on:s,setTranslate:()=>{const{slides:t,$wrapperEl:i,slidesSizesGrid:s}=e,o=e.params.creativeEffect,{progressMultiplier:n}=o,r=e.params.centeredSlides;if(r){const t=s[0]/2-e.params.slidesOffsetBefore||0;i.transform(`translateX(calc(50% - ${t}px))`)}for(let i=0;i<t.length;i+=1){const s=t.eq(i),l=s[0].progress,h=Math.min(Math.max(s[0].progress,-o.limitProgress),o.limitProgress);let d=h;r||(d=Math.min(Math.max(s[0].originalProgress,-o.limitProgress),o.limitProgress));const c=s[0].swiperSlideOffset,p=[e.params.cssMode?-c-e.translate:-c,0,0],u=[0,0,0];let m=!1;e.isHorizontal()||(p[1]=p[0],p[0]=0);let f={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};h<0?(f=o.next,m=!0):h>0&&(f=o.prev,m=!0),p.forEach((t,e)=>{p[e]=`calc(${t}px + (${a(f.translate[e])} * ${Math.abs(h*n)}))`}),u.forEach((t,e)=>{u[e]=f.rotate[e]*Math.abs(h*n)}),s[0].style.zIndex=-Math.abs(Math.round(l))+t.length;const g=p.join(", "),x=`rotateX(${u[0]}deg) rotateY(${u[1]}deg) rotateZ(${u[2]}deg)`,v=d<0?`scale(${1+(1-f.scale)*d*n})`:`scale(${1-(1-f.scale)*d*n})`,y=d<0?1+(1-f.opacity)*d*n:1-(1-f.opacity)*d*n,b=`translate3d(${g}) ${x} ${v}`;if(m&&f.shadow||!m){let t=s.children(".swiper-slide-shadow");if(0===t.length&&f.shadow&&(t=K(o,s)),t.length){const e=o.shadowPerProgress?h*(1/o.limitProgress):h;t[0].style.opacity=Math.min(Math.max(Math.abs(e),0),1)}}const w=Q(o,s);w.transform(b).css({opacity:y}),f.origin&&w.css("transform-origin",f.origin)}},setTransition:t=>{const{transformEl:i}=e.params.creativeEffect;(i?e.slides.find(i):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),J({swiper:e,duration:t,transformEl:i,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function(t){let{swiper:e,extendParams:i,on:s}=t;i({cardsEffect:{slideShadows:!0,transformEl:null,rotate:!0}}),X({effect:"cards",swiper:e,on:s,setTranslate:()=>{const{slides:t,activeIndex:i}=e,s=e.params.cardsEffect,{startTranslate:a,isTouched:o}=e.touchEventsData,n=e.translate;for(let r=0;r<t.length;r+=1){const l=t.eq(r),h=l[0].progress,d=Math.min(Math.max(h,-4),4);let c=l[0].swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&e.$wrapperEl.transform(`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(c-=t[0].swiperSlideOffset);let p=e.params.cssMode?-c-e.translate:-c,u=0;const m=-100*Math.abs(d);let f=1,g=-2*d,x=8-.75*Math.abs(d);const v=e.virtual&&e.params.virtual.enabled?e.virtual.from+r:r,y=(v===i||v===i-1)&&d>0&&d<1&&(o||e.params.cssMode)&&n<a,b=(v===i||v===i+1)&&d<0&&d>-1&&(o||e.params.cssMode)&&n>a;if(y||b){const t=(1-Math.abs((Math.abs(d)-.5)/.5))**.5;g+=-28*d*t,f+=-.5*t,x+=96*t,u=`${-25*t*Math.abs(d)}%`}if(p=d<0?`calc(${p}px + (${x*Math.abs(d)}%))`:d>0?`calc(${p}px + (-${x*Math.abs(d)}%))`:`${p}px`,!e.isHorizontal()){const t=u;u=p,p=t}const w=d<0?`${1+(1-f)*d}`:`${1-(1-f)*d}`,D=`\n          translate3d(${p}, ${u}, ${m}px)\n          rotateZ(${s.rotate?g:0}deg)\n          scale(${w})\n        `;if(s.slideShadows){let t=l.find(".swiper-slide-shadow");0===t.length&&(t=K(s,l)),t.length&&(t[0].style.opacity=Math.min(Math.max((Math.abs(d)-.5)/.5,0),1))}l[0].style.zIndex=-Math.abs(Math.round(h))+t.length,Q(s,l).transform(D)}},setTransition:t=>{const{transformEl:i}=e.params.cardsEffect;(i?e.slides.find(i):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),J({swiper:e,duration:t,transformEl:i})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}];return B.use(Z),B}));
/*!
 * 设置多久后过期时间，返回过期时间（国标时间），
 */
const axExpires=(t="d",e=365)=>{let i;if(axIsDate(e))i=new Date(e).toUTCString();else{let s=new Date;"second"==t||"s"==t?(s.setSeconds(s.getSeconds()+~~e),i=s.toUTCString()):"minute"==t||"m"==t?(s.setMinutes(s.getMinutes()+~~e),i=s.toUTCString()):"hour"==t||"h"==t?(s.setHours(s.getHours()+~~e),i=s.toUTCString()):(s.setDate(s.getDate()+~~e),i=s.toUTCString())}return i}
/*!
 * 定义cookie方法
 * 支持axCookie.set、axCookie.get、axCookie.del三个方法
 * set方法支持options参数，支持追加path、domain、secure和sameSite属性
 * 默认过期时间是365天
 */,axCookie={set:function(t,e,i={type:"d",expires:365}){if(!t)return console.error("The name of cookie can not be empty!"),!1;let s=Object.assign({},i),a=s.path?";path="+s.path:"";return a+=s.domain?";domain="+s.domain:"",a+=s.secure?";secure="+s.secure:"",a+=s.sameSite?";sameSite="+s.sameSite:"",s.expires=axExpires(i.type,i.expires),(i.expires<0||null===e)&&this.get(t)?this.del(t):document.cookie=t+"="+encodeURIComponent(e)+";expires="+s.expires+a,this},get:function(t){let e=document.cookie.replace(/;\s*/,";").split(";"),i="";for(let s=0;s<e.length;s++){let a=e[s].split("=")[0],o=e[s].split("=")[1];if(a==t){i=o;break}}return!!i&&decodeURIComponent(i)},remove:function(t){return document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT",this}}
/*!
 * 定义localStorage本地存储
 * 支持set、get、del、clear、key五个方法
 * set方法支持options参数，type和expires
 * 默认过期时间是0，即永不过期
 */,axLocalStorage={set:function(t,e="",i={type:"d",expires:0,cover:!0}){if("string"!=typeof t&&!t)return!1;let s=axClone(e),a=axType(e),o=t=>(Object.keys(t).forEach(e=>{let i=t[e];("Array"===axType(i)||"Object"===axType(i))&&o(i),(axType(i).includes("HTML")||"Function"===axType(i))&&delete t[e]}),t);"Array"!==a&&"Object"!==a||axIsEmpty(s)||o(s);let n=0!==i.expires?axExpires(i.type,i.expires):0,r=axLocalStorage.get(t),l={data:!i.cover&&axLocalStorage.get(t)?axExtend(r,s):s,expires:n};return(i.expires<0||null===s)&&this.get(t)?this.del(t):window.localStorage.setItem(t,JSON.stringify(l)),this},get:function(t){if(axIsEmpty(t))return!1;let e=(new Date).toUTCString(),i=JSON.parse(window.localStorage.getItem(t));return i?0===i.expires||e<=i.expires?i.data:(window.localStorage.removeItem(t),null):null},remove:function(t){if(axIsEmpty(t))return!1;let e=[];return Array.isArray(t)?e=t:e.push(t),e.forEach(t=>{window.localStorage.removeItem(t)}),this},key:function(t){return"number"==typeof t&&window.localStorage.key(t)},clear:function(){return window.localStorage.clear(),this}}
/*!
 * 插件：全局实例管理；使用方法：new axInstance('#id',{参数})
 * 支持axInstance.push、axInstance.destroy、axInstance.destroyAll、axInstance.clear等个方法
 */;class AXINSTANCE{constructor(){this.data=[],this.destroyFun=t=>{if(!t)return!1;t.instance.hasOwnProperty("destroyed")&&t.instance.destroyed||!t.instance.__proto__.destroy||(t.instance.destroy(),t.log=`destroy(${(new Date).toLocaleString()})`)},this.initFun=t=>{if(!t)return!1;t.instance.hasOwnProperty("destroyed")&&!t.instance.destroyed||!t.instance.__proto__.init||(t.instance.init(),t.log=`init(${(new Date).toLocaleString()})`)}}push(t,e,i){if(!t)return!1;let s={name:e,instance:t,type:i||"",log:`push(${(new Date).toLocaleString()})`};this.data.some(e=>e.instance===t)||this.data.push(s)}find(t,e,i=!1){if(!t)return!1;let s;return s=e?this.data.find(s=>s.instance.hasOwnProperty("destroyed")?s.name===t&&s.type===e&&s.instance.destroyed===i:s.name===t&&s.type===e):this.data.find(e=>e.instance.hasOwnProperty("destroyed")?e.name===t&&e.instance.destroyed===i:e.name===t),s?s.instance:s}findAll(t,e=!1){let s=[];return s=t?this.data.filter(i=>i.instance.hasOwnProperty("destroyed")?i.type===t&&i.instance.destroyed===e:i.type===t):i.instance.hasOwnProperty("destroyed")?this.data.filter(t=>t.instance.destroyed===e):this.data,s.length>0?s.map(t=>t.instance):s}destroy(t,e,i){if(!t)return!1;let s;s=e?this.data.find(i=>i.name===t&&i.type===e):this.data.find(e=>e.name===t),this.destroyFun(s),i&&i(s)}destroyAll(t,e){if(!t)return this.data.forEach(t=>{this.destroyFun(t)}),e&&e(this.data),!1;{let i=this.data.filter(e=>e.type===t);i.forEach(t=>{this.destroyFun(t)}),e&&e(i)}}clear(t){this.data.forEach(t=>{this.destroyFun(t)}),this.data.length=0,t&&t()}init(t,e,i){if(!t)return!1;let s;s=e?this.data.find(i=>i.name===t&&i.type===e):this.data.find(e=>e.name===t),this.initFun(s),i&&i(s)}initAll(t,e){if(!t)return this.data.forEach(t=>{this.initFun(t)}),e&&e(this.data),!1;{let i=this.data.filter(e=>e.type===t);i.forEach(t=>{this.initFun(t)}),e&&e(i)}}}const axInstance=new AXINSTANCE;
/*!
* 插件：告示；使用方法：new axAlert('#id',{参数})
*/class axAlert{constructor(t,e){if(!t)return!1;this.targetDom=axIdToDom(t),this.options=axExtend({insName:"",caption:"",content:"",theme:"warning",borderless:!1,square:!1,className:"",closable:!1,style:"simple",icon:"",iconShow:!0,notable:!1,display:"",onInit:"",onShow:"",onHide:"",onUpdate:"",onUpdateContent:"",onClear:"",onDestroy:""},e,this.targetDom,this.constructor.name),this.handlers={},this.init()}init(){return this.shown=!0,axInstance.data.find(t=>t.instance===this)||axInstance.push(this,this.options.insName,"alert"),this.destroyed=!1,this.render(),this.setAttribute(),this.close&&(this.close.onclick=()=>{this.hide()}),this.options.onInit&&this.options.onInit.call(this),this}render(){if(!this.targetDom.innerHTML.trim()){let t="";"simple"!=this.options.style&&this.options.style?"complex"==this.options.style&&(this.targetDom.innerHTML.trim()||(t=`${this.options.icon&&this.options.iconShow?'<i class="ax-iconfont '+this.options.icon+'" icon></i>':""}\n                    <div wrapper>\n                        ${this.options.caption?"<div caption>"+this.options.caption+"</div>":""}\n                        <div content>${this.options.content}</div>\n                    </div>\n                    ${this.options.closable?"<i close></i>":""}\n                    `)):(this.content=this.targetDom.innerHTML.trim()?this.targetDom.innerHTML:this.options.content,t=this.options.icon&&this.options.iconShow?`<i class="ax-iconfont ${this.options.icon}" icon></i><span content>${this.content}</span>`:`<span content>${this.content}</span>${this.options.closable?"<i close></i>":""}`),this.targetDom.innerHTML=t}this.close=this.targetDom.querySelector("[close]"),this.icon=this.targetDom.querySelector("[icon]"),this.wrapper=this.targetDom.querySelector("[wrapper]"),this.caption=this.targetDom.querySelector("[caption]"),this.content=this.targetDom.querySelector("[content]")}setAttribute(){!this.targetDom.classList.contains("ax-alert")&&this.targetDom.classList.add("ax-alert"),axClass.add(this.targetDom,this.options.className),this.options.theme&&this.targetDom.setAttribute("theme",this.options.theme),this.options.borderless&&this.targetDom.setAttribute("borderless",""),this.options.notable&&"complex"===this.options.style&&this.targetDom.setAttribute("notable",""),this.options.square&&this.targetDom.setAttribute("square","")}update(t,e){return this.destroyed?this:(this.options=axExtend(this.options,t),this.targetDom.removeAttribute("class"),this.targetDom.removeAttribute("theme"),this.targetDom.removeAttribute("borderless"),this.targetDom.removeAttribute("square"),this.targetDom.removeAttribute("notable"),this.targetDom.innerHTML="",this.init(),e&&e.call(this),this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update",""),this)}updateContent(t,e){return this.destroyed?this:(this.content.innerHTML=t,e&&e.call(this),this.options.onUpdateContent&&this.options.onUpdateContent.call(this),"updateContent"in this.handlers&&this.emit("updateContent",""),this)}show(t){return this.destroyed||this.shown?this:(this.options.display?this.targetDom.style.display=this.options.display:this.targetDom.style.cssText=this.targetDom.style.cssText.replace("display: none;",""),this.shown=!0,this.options.onShow&&this.options.onShow.call(this),"show"in this.handlers&&this.emit("show",""),t&&t.call(this),this)}hide(t){return this.destroyed||!this.shown?this:(this.targetDom.style.display="none",this.shown=!1,this.options.onHide&&this.options.onHide.call(this),"hide"in this.handlers&&this.emit("hide",""),t&&t.call(this),this)}clear(t){return this.destroyed?this:(this.targetDom.removeAttribute("class"),this.targetDom.removeAttribute("theme"),this.targetDom.removeAttribute("borderless"),this.targetDom.removeAttribute("square"),this.targetDom.removeAttribute("notable"),this.targetDom.innerHTML="",t&&t.call(this),this.options.onClear&&this.options.onClear.call(this),"clear"in this.handlers&&this.emit("clear",""),this)}destroy(t){return this.close&&(this.close.onclick=null),this.destroyed=!0,this.options.onDestroy&&this.options.onDestroy.call(this),"destroy"in this.handlers&&this.emit("destroy",""),t&&t.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axAlert]").forEach(t=>{new axAlert(t)});
/*!
* 插件：Tags标签；使用方法：new axTags('#id',{参数})
*/
class axTags{constructor(t,e){if(this.targetDom=axIdToDom(t),!this.targetDom)return!1;this.options=axExtend({insName:"",content:"",theme:"",borderless:!1,compact:!1,corner:"",className:"",closeNode:"i",closable:!1,separator:",",input:"",onInit:"",onAdd:"",onRemove:"",onUpdate:"",onUClear:"",onDestroy:""},e,this.targetDom,this.constructor.name),this.handlers={},this.indexMax=0,this.inputEdit=t=>{let e=this.inputDom.value,i=this.content.find(t=>t.dom.hasAttribute("selected"));if(e)"Enter"===t.code&&(this.add(this.inputDom.value.trim()),this.inputDom.value=""),i&&i.dom.removeAttribute("selected");else if("Backspace"===t.code&&this.content.length>0){let t=this.content.slice(-1)[0];t.dom.hasAttribute("selected")?(t.dom.remove(),this.content=this.content.slice(0,-1)):t.dom.setAttribute("selected","")}else i&&i.dom.removeAttribute("selected")},this.init()}init(){return axInstance.data.find(t=>t.instance===this)||axInstance.push(this,this.options.insName,"tags"),this.destroyed=!1,this.targetDom.innerHTML.trim()&&(this.targetDom.innerHTML="",this.indexMax=0),this.content=this.getSource(this.options.content),this.render(this.content),this.observeInput(),this.setAttribute(),this.options.onInit&&this.options.onInit.call(this),this}getSource(t){let e=[];if(Array.isArray(t))e="string"==typeof t[0]?t.map(t=>({value:t,theme:""})):t;else if("object"==typeof t)e=[t];else if("string"==typeof t){e=t.trim().split(this.options.separator).map(t=>({value:t,theme:""}))}return e=e.filter(Boolean),e.forEach((t,e)=>{!t.hasOwnProperty("index")&&(t.index=this.indexMax+e),!t.hasOwnProperty("theme")&&(t.theme="")}),this.indexMax+=e.length,e}render(t){if(axIsEmpty(t))return!1;let e=document.createDocumentFragment();t.forEach(t=>{let i=this.createTag(t);t.dom=i,e.appendChild(i)}),this.targetDom.appendChild(e)}createTag(t){let e=axAddElem("span",{class:"ax-tag"},t.value),i=axAddElem(this.options.closeNode,{close:""});return!this.options.theme&&t.theme&&e.setAttribute("theme",t.theme),this.options.closable&&(e.appendChild(i),i.onclick=()=>{this.remove(e)}),t.dom=e,e}getTag(t){if(axIsEmpty(t))return!1;let e,i,s=axType(t);if("Object"===s){let s="";(t.index||0===t.index)&&(s+="item.index === obj.index"),t.value&&(s+="&& item.index === obj.index"),t.dom&&(s+="&& item.dom === obj.dom"),s.startsWith("&&")&&(s="true "+s),e=new Function(`return ${this.content}.filter(item =>${s})`)(),e>0&&(i=e[0])}else s.includes("HTML")?i=this.content.find(e=>e.dom===t):"String"===s?i=this.content.find(e=>e.value===t):"Number"===s&&(i=this.content.find(t=>t.index===index));return i}setAttribute(){!this.targetDom.classList.contains("ax-tags")&&this.targetDom.classList.add("ax-tags"),axClass.add(this.targetDom,this.options.className),this.options.theme&&this.targetDom.setAttribute("theme",this.options.theme),this.options.borderless&&this.targetDom.setAttribute("borderless",""),this.options.compact&&this.targetDom.setAttribute("compact",""),this.options.corner&&this.targetDom.setAttribute("corner",this.options.corner)}observeInput(){return!(!this.options.input||this.destroyed)&&(this.inputDom=axIdToDom(this.options.input),!!this.inputDom&&void this.inputDom.addEventListener("keyup",this.inputEdit,!1))}update(t,e){return axIsEmpty(t)||this.destroyed?this:(this.options=axExtend(this.options,t),this.targetDom.innerHTML="",this.init(),e&&e.call(this),this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update",""),this)}add(t,e){if(axIsEmpty(t)||this.destroyed)return this;let i=this.getSource(t);return this.render(i),this.content.push(...i),this.options.onAdd&&this.options.onAdd.call(this,i),"add"in this.handlers&&this.emit("add",i),e&&e.call(this,i),this}remove(t,e){if(axIsEmpty(t)||this.destroyed)return this;let i=[],s=axType(t);if("Array"===s&&t.length>0)t.forEach(t=>{let e=this.getTag(t);e&&i.push(e)});else if("String"===s){let e=t.split(this.options.separator);i=this.content.filter(t=>e.includes(t.value))}else{let e=this.getTag(t);e&&i.push(e)}i.forEach(t=>{t.dom.remove()});let a=i.map(t=>t.value);return this.content=this.content.filter(t=>!a.includes(t.value)),this.options.onRemove&&this.options.onRemove.call(this,i),"remove"in this.handlers&&this.emit("remove",i),e&&e.call(this,i),this}clear(t){return this.destroyed?this:(this.content=[],this.index=0,this.targetDom.innerHTML="",this.options.onClear&&this.options.onClear.call(this),"clear"in this.handlers&&this.emit("clear",""),t&&t.call(this),this)}destroy(t){return this.content.forEach(t=>{let e=t.dom.querySelector("[close]");e&&(e.onclick=null)}),this.inputDom&&this.inputDom.removeEventListener("keyup",this.inputEdit,!1),this.destroyed=!0,this.options.onDestroy&&this.options.onDestroy.call(this),"destroy"in this.handlers&&this.emit("destroy",""),t&&t.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axTags]").forEach(t=>{new axTags(t)});
/*!
 * 插件：表单校验；使用方法：new axValid('#id',{参数})
 */
const axValids=[];class axValid{constructor(t,e){if(this.targetDom=axIdToDom(t),!this.targetDom.getAttribute("name"))return console.error("The element to be verified must have a name attribute!"),!1;this.options=axExtend({label:"",mode:"newline",url:"",iconShow:!0,type:"",label:"",parent:"",error:"",success:"通过验证！",rule:{},number:"",max:"",min:"",length:"",maxLength:"",minLength:"",include:[],exclude:[],date:"",earliest:"",latest:"",compare:"",compareLabel:"",least:1,most:2,separator:"",format:"",inputSuccess:"ax-check-primary",inputError:"ax-check-danger",boxSuccess:"ax-color-primary",boxError:"ax-color-danger",chars:"~!@#",charsShow:!1,trigger:"blur",ajaxType:"post",onTrigger:"",onChange:"",onInit:""},e,this.targetDom,"axValid"),this.options.parent?this.parent=axIdToDom(this.options.parent):this.parent=this.targetDom.closest("form")?this.targetDom.closest("form"):document,this.options.compare&&("string"==typeof this.options.compare?this.compare=this.parent.querySelector("[name="+this.options.compare+"]"):this.compare=axIdToDom(this.options.compare)),this.options.compareLabel?this.compareLabel=this.options.compareLabel:this.compare&&this.compare.getAttribute("data-label")&&(this.compareLabel=this.compare.getAttribute("data-label")),this.handlers={},this.strong=0,this.msgBox=axAddElem("div",{valid:""}),this.value=null,this.label=this.options.label,this.name=this.targetDom.getAttribute("name"),this.type=this.targetDom.getAttribute("type")?this.targetDom.getAttribute("type"):this.targetDom.type,this.text="",this.verified=null,this.verifieds=[],this.getRules(),this.strongParse=this.parseFormat(),this.checks={required:function(t){return t?{verified:!0,message:""}:{verified:!1,message:this.label?this.label+"是必填项！":"这是必填项！"}},email:function(t){return this.doTest(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,t,"请填写正确的邮箱！")},telephone:function(t){return this.doTest(/^[1][3456789][0-9]{9}$/,t,"请填写11位手机号！")},landline:function(t){return this.doTest(/^([0-9]{3,4}-)?[0-9]{7,8}$/,t,"请填写正确的座机号码！")},ip:function(t){return this.doTest(/^\d+\.\d+\.\d+\.\d+$/,t,"请填写正确的IP地址！")},plate:function(t){let e="";return e=8==t.length?/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/,this.doTest(e,t,"请填写正确的车牌号！")},idCard:function(t){return this.doTest(/^(([1][1-5])|([2][1-3])|([3][1-7])|([4][1-6])|([5][0-4])|([6][1-5])|([7][1])|([8][1-2]))\d{4}(([1][9]\d{2})|([2]\d{3}))(([0][1-9])|([1][0-2]))(([0][1-9])|([1-2][0-9])|([3][0-1]))\d{3}[0-9xX]$/,t,"请填写正确的身份证号！")},zip:function(t){return this.doTest(/^\d{6}$/,t,"只能填写6位数字邮编！")},url:function(t){return this.doTest(/^(?=^.{3,255}$)(http(s)?:\/\/)?(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*$/,t,"请填写正确的域名！")},chinese:function(t){return this.doTest(/^[\u0391-\uFFE5]+$/,t,this.label+"只能填写中文！")},letter:function(t){return this.doTest(/^[a-zA-Z]+$/,t,this.label+"只能填写大小写英文字母！")},string:function(t){return this.doTest(/^[a-zA-Z0-9]+$/,t,this.label+"只能填写大小写英文字母和数字！")},password:function(t){let e=new RegExp("^[a-zA-Z0-9"+this.options.chars+"]+$");return this.doTest(e,t,this.label+"只能填写大小写英文字母、数字以及特殊字符！")},ymdhms:function(t){return this.doTest(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,t,this.label+"只能填写类似2022-11-13 2:56:12的日期格式！")},ymd:function(t){return this.doTest(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2})$/,t,this.label+"只能填写类似2022-11-13的日期格式！")},hms:function(t){return this.doTest(/^((20|21|22|23|[0-1]\d)\:[0-5][0-9])(\:[0-5][0-9])?$/,t,this.label+"只能填写类似2:56:12的日期格式！")},ym:function(t){return this.doTest(/^(\d{4})(-|\/)(\d{1,2})$/,t,this.label+"只能填写类似2022-11的日期格式！")},y:function(t){return this.doTest(/^(\d{4})$/,t,this.label+"只能填写4位数字年份！")},m:function(t){return this.doTest(/^(0?[1-9]|1[0-2])$/,t,this.label+"只能填写1~12月份！")},d:function(t){return this.doTest(/^((0?[1-9])|((1|2)[0-9])|30|31)$/,t,this.label+"只能填写1~31日！")},date:function(t){return/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/.test(t)||/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/.test(t)||/^(\d{1,4})(-|\/)(\d{1,2})$/.test(t)||/^(\d{4})$/.test(t)?{verified:!0,message:""}:{verified:!1,message:this.label+"请填写有效的日期！"}},earlier:function(t){if(!this.options.date||isNaN(Date.parse(this.options.date)))return void console.error("Please enter a valid target date!");if(isNaN(Date.parse(t)))return void console.error("The value is not a valid date!");return axLocalTime(t)<axLocalTime(this.options.date)?{verified:!0,message:""}:{verified:!1,message:this.label+"不可晚于"+this.options.date+"！"}},later:function(t){if(!this.options.date||isNaN(Date.parse(this.options.date)))return void console.error("Please enter a valid target date!");if(isNaN(Date.parse(t)))return void console.error("The value is not a valid date!");return axLocalTime(t)>axLocalTime(this.options.date)?{verified:!0,message:""}:{verified:!1,message:this.label+"不可早于"+this.options.date+"！"}},dateRange:function(t){if(!this.options.earliest||isNaN(Date.parse(this.options.earliest)))return void console.error("Please enter a valid earliest date!");if(!this.options.latest||isNaN(Date.parse(this.options.latest)))return void console.error("Please enter a valid latest date!");if(isNaN(Date.parse(t)))return void console.error("The value is not a valid date!");let e=axLocalTime(t),i=axLocalTime(this.options.earliest),s=axLocalTime(this.options.latest);return e>i&&e<s?{verified:!0,message:""}:{verified:!1,message:this.label+"不可早于"+this.options.latest+"，且不可晚于"+this.options.earliest+"！"}},integer:function(t){return this.doTest(/^[1-9]d*$/,t,this.label+"只能填写非0开头的正整数！")},number:function(t){return this.doTest(/^(-?\d+)\.?(\d*)$/,t,this.label+"只能填写数字，包括正数、负数、整数、小数！")},moreThan:function(t){return/^(-?\d+)\.?(\d*)$/.test(t)&&t>this.options.number?{verified:!0,message:""}:{verified:!1,message:this.label+"需要大于"+this.options.number+"！"}},moreEqual:function(t){return/^(-?\d+)\.?(\d*)$/.test(t)&&t>=this.options.number?{verified:!0,message:""}:{verified:!1,message:this.label+"需要大于或等于"+this.options.number+"！"}},lessThan:function(t){return/^(-?\d+)\.?(\d*)$/.test(t)&&t<this.options.number?{verified:!0,message:""}:{verified:!1,message:this.label+"需要小于"+this.options.number+"！"}},lessEqual:function(t){return/^(-?\d+)\.?(\d*)$/.test(t)&&t<=this.options.number?{verified:!0,message:""}:{verified:!1,message:this.label+"需要小于或等于"+this.options.number+"！"}},equal:function(t){return/^(-?\d+)\.?(\d*)$/.test(t)&&t==this.options.number?{verified:!0,message:""}:{verified:!1,message:this.label+"需要等于"+this.options.number+"！"}},range:function(t){return/^(-?\d+)\.?(\d*)$/.test(t)&&t>=this.options.min&&t<this.options.max?{verified:!0,message:""}:{verified:!1,message:this.label+"需要大于等于"+this.options.min+"并小于"+this.options.max+"！"}},length:function(t){let e=new RegExp("^.{"+this.options.length+"}$");return this.doTest(e,t,this.label+"只能填写"+this.options.length+"个字符！")},lengthMore:function(t){let e=new RegExp("^.{"+this.options.length+",}$");return this.doTest(e,t,this.label+"字符数量不可少于"+this.options.length+"个！")},lengthLess:function(t){let e=new RegExp("^.{0,"+this.options.length+"}$");return this.doTest(e,t,this.label+"字符数量不可多于"+this.options.length+"个！")},lengthRange:function(t){let e=new RegExp("^.{"+this.options.minLength+","+this.options.maxLength+"}$");return this.doTest(e,t,this.label+"字符数量不可少于"+this.options.minLength+"个，而且不可多于"+this.options.maxLength+"个！")},include:function(t){if(!axIsEmpty(this.options.include))return this.options.include.includes(t)?{verified:!0,message:""}:{verified:!1,message:this.label+"填写的值在指定内容中不存在！"};console.error("The array of include can not be empty!")},exclude:function(t){if(!axIsEmpty(this.options.exclude))return this.options.exclude.includes(t)?{verified:!1,message:this.label+"不可填写该值！"}:{verified:!0,message:""};console.error("The array of exclude can not be empty!")},strong:function(t){if(!this.options.format)return void console.error(axError.formatError);this.getStrong(t);let e=new RegExp(this.strongParse.pattern);return this.doTest(e,t,this.strongParse.message)},async:function(t){if(!this.options.format)return void console.error(axError.formatError);this.getStrong(t);let e=new RegExp(this.strongParse.pattern);return this.doTest(e,t,this.strongParse.message)},oneChecked:function(t){if(Array.isArray(t))return 1==t.length?{verified:!0,message:""}:{verified:!1,message:this.label+"必须且只能选择1项！"};console.error(axError.arrayRequired)},leastChecked:function(t){if(Array.isArray(t))return this.options.least&&t.length>=this.options.least?{verified:!0,message:""}:{verified:!1,message:this.label+"至少选择"+this.options.least+"项！"};console.error(axError.arrayRequired)},mostChecked:function(t){if(Array.isArray(t))return!this.options.most||this.options.most&&t.length<=this.options.most?{verified:!0,message:""}:{verified:!1,message:this.label+"最多选择"+this.options.most+"项！"};console.error(axError.arrayRequired)},rangeChecked:function(t){if(Array.isArray(t))return this.options.least&&this.options.most&&this.options.most>this.options.least?t.length>=this.options.least&&t.length<=this.options.most?{verified:!0,message:""}:{verified:!1,message:this.label+"至少选择"+this.options.least+"项，且不能多于"+this.options.most+"项！"}:void console.error(axError.paraError);console.error(axError.arrayRequired)},same:function(t){if(this.compare){if(t==this.compare.value)return{verified:!0,message:""};return{verified:!1,message:this.compareLabel?this.label+"与"+this.compareLabel+"不一致！":"两个字段值不一致！"}}console.error(axError.noNode)}},Object.assign(this.checks,this.options.extend),this.init()}init(t){let e=this,i={dom:this.targetDom,name:this.name,instance:this};if(axIsEmpty(axValids))this.parent&&axValids.push({parent:this.parent,children:[i]});else if(axValids.some(t=>t.parent==this.parent)){let t=axValids.findIndex(t=>t.parent==this.parent),e=axValids[t].children;if(e.some(t=>t.name==this.name)){for(let t=0;t<e.length;t++)if(e[t].name==this.name){e[t]=i;break}}else e.push(i)}else axValids.push({parent:this.parent,children:[i]});let s=function(){if(!axIsEmpty(e.options.extend))for(let t in e.options.extend)e.rules[t]=["",e.options.success];let s="";"radio"==e.type||"checkbox"==e.type||"select-multiple"==e.type||"file"==e.type?s=axMultiValues(e.name,e.type,e.parent):(s=e.targetDom.value.trim(),e.options.separator&&(s=s.split(e.options.separator)));let a=Object.keys(e.rules).length,o=0;e.value=s;for(let t in e.rules){o++;let i=e.rules[t][0],n=e.rules[t][1];if(axIsEmpty(s)){if("required"==t){e.text=i||e.checks[t].call(e,"").message,e.verified=!1;break}"oneChecked"==t||"leastChecked"==t||"rangeChecked"==t?(e.text=i||e.checks[t].call(e,[]).message,e.verified=!1):(e.text=n,e.verified=!0)}else if(e.options.type){let r=e.checks[t].call(e,s);if(!r.verified){e.text=i||r.message,e.verified=!1;break}o==a&&(e.text=n,e.verified=!0)}}e.options.url&&!e.options.type?axAjax({url:e.options.url,data:{name:e.name,value:e.value,parent:e.parent},type:e.options.ajaxType,success:function(s){e.verified=s.verified,e.text=s.text,e.refreshDom(e.options.mode),i.verified=e.verified,t&&t.call(e,e.verified,e.text,e.strong),e.options.onInit&&e.options.onInit.call(e,e.verified,e.text,e.strong)}}):(e.refreshDom(e.options.mode),i.verified=e.verified,t&&t.call(e,e.verified,e.text,e.strong),e.options.onInit&&e.options.onInit.call(e,e.verified,e.text,e.strong)),e.options.onTrigger&&e.options.onTrigger.call(e,e.verified,e.text,e.strong),e.verifieds.unshift(e.verified),e.verifieds.length>=2&&(e.verifieds.length>2&&e.verifieds.splice(2),e.verifieds[0]!=e.verifieds[1]&&(e.options.onChange&&e.options.onChange.call(e,e.verified,e.text,e.strong),"change"in e.handlers&&e.emit("change",e.verified,e.text,e.strong)))};"submit"==this.options.trigger?s():"listen"==this.options.trigger?this.targetDom.onchange=()=>{s()}:this.targetDom.addEventListener(this.options.trigger,s,!1)}parseFormat(){if(this.options.format){let t="",e="",i="",s="",a="",o="",n="",r={},l=[],h={},d="",c="",p=[],u="",m=null,f="",g="",x="";if(f=this.options.format.split("#")[0],this.options.format.split("#")[1]?(g=this.options.format.split("#")[1],o=g.split(",")[0],-1==g.indexOf(",")?(m=!0,n=""):n=-1!==g.indexOf(",")&&g.split(",")[1]?g.split(",")[1]:""):(o="",n=""),this.options.format.split("#")[2]&&(x=this.options.format.split("#")[2],-1!==x.indexOf("a")&&(h.lower="小写字母",d+="a-z",p.push("a-z"),l.push(h.lower)),-1!==x.indexOf("A")&&(h.upper="大写字母",d+="A-Z",p.push("A-Z"),l.push(h.upper)),-1!==x.indexOf("9")&&(h.number="数字",d+="0-9",p.push("0-9"),l.push(h.number)),-1!==x.indexOf("~")&&(h.char=this.options.charsShow?'特殊字符"'+this.options.chars+'"':"特殊字符",d+=this.options.chars,p.push(this.options.chars),l.push(h.char)),-1!==x.indexOf("中")&&(h.cn="中文",d+="一-龥",p.push("一-龥"),l.push(h.cn)),l=l.length>2?axRangeReplace(l.join(),"和",l.join().lastIndexOf(",")):l.join(),l=l.replaceAll(",","、"),!axIsEmpty(l)&&(u+="必须是"+l+"，并且要求")),axIsEmpty(this.options.format.split("#")[0])&&this.options.format.split("#")[3]&&(this.options.format.split("#")[3]<x.length&&this.options.format.split("#")[3]>0?2==this.options.format.split("#")[3]?p.forEach(t=>{c+="(?!["+t+"]+$)"}):3==this.options.format.split("#")[3]?axArrange(p,2).forEach(t=>{c+="(?!["+t.join().replaceAll(",","")+"]+$)"}):4==this.options.format.split("#")[3]&&axArrange(c,3).forEach(t=>{c+="(?!["+t.join().replaceAll(",","")+"]+$)"}):console.error("随机字符类型必须有1种，并且不能超过允许字符类型范围！"),u=l+"中至少选择"+this.options.format.split("#")[3]+"种字符。"),-1!==f.indexOf("a")){let t=f.lastIndexOf("a");r.lower="小写字母",e=parseInt(f.substring(t+1,t+2)),u+=r.lower+"至少"+e+"个，"}if(-1!==f.indexOf("A")){let e=f.lastIndexOf("A");r.upper="大写字母",t=parseInt(f.substring(e+1,e+2)),u+=r.upper+"至少"+t+"个，"}if(-1!==f.indexOf("9")){let t=f.lastIndexOf("9");r.number="数字",i=parseInt(f.substring(t+1,t+2)),u+=r.number+"至少"+i+"个，"}if(-1!==f.indexOf("~")){let t=f.lastIndexOf("~");r.char=this.options.charsShow?'特殊字符"'+this.options.chars+'"':"特殊字符",s=parseInt(f.substring(t+1,t+2)),u+=r.char+"至少"+s+"个。"}if(-1!==f.indexOf("中")){let t=f.lastIndexOf("中");r.cn="中文",a=parseInt(f.substring(t+1,t+2)),u+=r.cn+"至少"+a+"个。"}return e&&(c+="(?="+Array(e+1).join(".*?[a-z]")+")"),t&&(c+="(?="+Array(t+1).join(".*?[A-Z]")+")"),i&&(c+="(?="+Array(i+1).join(".*?[0-9]")+")"),s&&(c+="(?="+Array(s+1).join(".*?["+this.options.chars+"]")+")"),a&&(c+="(?="+Array(a+1).join(".*?[一-龥]")+")"),axIsEmpty(d)?axIsEmpty(d)&&o?c+=".":c+=".{0,}":c+=o?"["+d+"]":"["+d+"]+",o&&m&&!n?(c+="{"+o+"}",u+="总共只能是"+o+"个字符。"):o&&!n?(c+="{"+o+",}",u+="总共至少"+o+"个字符。"):o&&n&&(c+="{"+o+","+n+"}",u+="总共至少"+o+"个字符，且不能超过"+n+"个字符。"),c="^"+c+"$",{pattern:c,message:u}}return{}}getStrong(t){let e=0,i=0,s=0,a=0,o=0,n=0;if(this.options.format){let r=this.options.format.split("#")[1].split(",")[0];t&&t.match(new RegExp("[a-z]"))&&(i=1),t&&t.match(new RegExp("[A-Z]"))&&(e=1),t&&t.match(new RegExp("[0-9]"))&&(s=1),t&&t.match(new RegExp("["+this.options.chars+"]"))&&(a=1),t&&t.match(new RegExp("[一-龥]"))&&(o=1),t&&r&&t.length>=r&&(n=1)}return this.strong=e+i+s+a+o+n,this.strong}doTest(t,e,i){return t.test(e)?{verified:!0,message:""}:{verified:!1,message:i}}getRules(){this.rules={};let t=this.options.type.trim().split(",");if("required"!=t[0]&&t.includes("required")){for(let e=0;e<t.length;e++)if("required"===t[e]){t.splice(e,1);break}t.unshift("required")}return t.forEach(t=>{this.rules[t]=["",""],axIsEmpty(this.options.rule)||this.options.rule[t]&&(this.rules[t]=this.options.rule[t]),!this.rules[t][0]&&(this.rules[t][0]=this.options.error),!this.rules[t][1]&&(this.rules[t][1]=this.options.success)}),this.rules}refreshText(){let t=this.verified?axIcon.font.successFill:axIcon.font.errorFill;this.options.iconShow?this.msgBox.innerHTML=t+" "+this.text:this.msgBox.innerHTML=this.text}refreshDom(t){let e=this,i=function(){e.verified?(e.msgBox.classList.remove(e.options.boxError),e.msgBox.classList.add(e.options.boxSuccess),e.targetDom.classList.remove(e.options.inputError),e.targetDom.classList.add(e.options.inputSuccess)):(e.msgBox.classList.remove(e.options.boxSuccess),e.msgBox.classList.add(e.options.boxError),e.targetDom.classList.remove(e.options.inputSuccess),e.targetDom.classList.add(e.options.inputError))};if(this.refreshText(),1==this.options.mode.nodeType||"#"==t.substr(0,1)){let e=axIdToDom(t);this.msgBox.parentNode||e.appendChild(this.msgBox),i()}else if("note"==t){this.msgBox.classList.add("ax-form-txt");let t=this.targetDom.closest(".ax-form-con"),e=t.nextElementSibling;"raido"==this.type||"checkbox"==this.type?(e&&e.hasAttribute("valid")&&e.remove(),t.insertAdjacentElement("afterend",this.msgBox)):e!=this.msgBox&&t.insertAdjacentElement("afterend",this.msgBox),i()}else if("popup"==t)this.popup?(this.popup.content.innerHTML="",this.popup.content.appendChild(this.msgBox)):this.popup=new axPopup(this.targetDom.closest(".ax-form-input"),{content:e.msgBox,padding:!1,placement:"bottom-start",offsetShow:!1,arrow:!1,close:!1,footerShow:!1,theme:"crude",stay:!0}).show(),i();else if("message"==t)this.verified?new axMessage({content:e.text,result:"success",iconShow:e.options.iconShow}):new axMessage({content:e.text,result:"error",iconShow:e.options.iconShow}),i();else{let t=this.targetDom.closest(".ax-form-input");"radio"==this.type||"checkbox"==this.type?(t.nextElementSibling&&t.nextElementSibling.hasAttribute("valid")&&t.nextElementSibling.remove(),t.insertAdjacentElement("afterend",this.msgBox)):t!=this.msgBox&&t.insertAdjacentElement("afterend",this.msgBox),this.msgBox.classList.add("ax-valid"),i()}}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}const axValidRepeat=(t,e,i,s,a=100)=>{if(!i)return console.error("A form node must be filled in!"),!1;if(axIsEmpty(e))return console.error(axError.required),!1;if(axIsEmpty(e.filter(t=>t.parent==i)))return console.error("No submittable form found!"),!1;let o=[...axValids].filter(t=>t.parent==i)[0].children,n=0;o.forEach((e,r)=>{e.instance.options.trigger="submit",setTimeout(()=>{n++,e.instance.init((function(){n==o.length&&(axValids.filter(t=>t.parent==i)[0].children.some(t=>!t.verified)?axPreventDefault(t):s&&s())}))},a*r)})};(()=>{if([...document.querySelectorAll("[axValid]")].filter(t=>t.getAttribute("name")).forEach(t=>{new axValid(t)}),!axIsEmpty(axValids)){[...axValids].forEach(t=>{"FORM"==t.parent.nodeName&&t.parent.addEventListener("submit",(function(e){axPreventDefault(e),axValidRepeat(e,axValids,t.parent,()=>{t.parent.submit()})}),!1)})}})();
/*!
* 插件：定义效果更好Hover操作；使用方法：new axHover('#id',{参数})
*/
class axHover{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({timeout:50,interval:50,threshold:7,enter:()=>{},leave:()=>{},hold:""},e),this.curX,this.curY,this.preX,this.preY,this.enterTimer,this.leaveTimer,this.isActive=!1,this.options.hold?this.hold=axIdToDom(this.options.hold):this.hold="",this.event=(t,e,i)=>{"enter"===t?(this.options.enter.call(this,e,i),this.isActive=!0):"leave"===t&&(this.options.leave.call(this,e,i),this.isActive=!1)},this.enterCompare=(t,e)=>{let i=this.preX-this.curX,s=this.preY-this.curY;Math.sqrt(i**2+s**2)<this.options.threshold?this.isActive||this.event("enter",t,e):(this.preX=this.curX,this.preY=this.curY,this.enterTimer=setTimeout(()=>{this.enterCompare(t,e)},this.options.interval))},this.init()}init(){let t=this;this.targetDom.addEventListener("mousemove",t=>{this.curX=t.pageX,this.curY=t.pageY}),this.targetDom.addEventListener("mouseenter",(function(e){clearTimeout(t.leaveTimer),t.preX=e.pageX,t.preY=e.pageY,t.enterTimer=setTimeout(()=>{t.enterCompare(this,e)},t.options.interval)})),this.targetDom.addEventListener("mouseleave",(function(e){clearTimeout(t.enterTimer),t.leaveTimer=setTimeout(()=>{t.event("leave",this,e)},t.options.timeout)})),this.hold&&(t.hold.onmouseenter=function(e){clearTimeout(t.leaveTimer)},t.hold.onmouseleave=function(e){clearTimeout(t.enterTimer),t.leaveTimer=setTimeout(()=>{t.event("leave",t.targetDom,e)},t.options.timeout)})}}
/*!
 * 插件：查看更多；使用方法：new axMore('#id',{参数})
 */const axMores=[];class axMore{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({length:60,textFold:"展开",textUnfold:"收起",classFold:"ax-color-primary",classUnfold:"ax-color-primary"},e,this.targetDom,"axMore"),this.handlers={},this.html=this.targetDom.innerHTML,this.pureHtml=this.targetDom.textContent;let i=this,s=!0;this.event=function(){s?(i.targetDom.removeChild(this.previousSibling),this.innerHTML=i.options.textUnfold,this.setAttribute("class",i.options.classUnfold),this.insertAdjacentHTML("beforeBegin",i.text),s=!1,"unfold"in i.handlers&&i.emit("unfold","")):(i.targetDom.removeChild(this.previousSibling),this.innerHTML=i.options.textFold,this.setAttribute("class",i.options.classFold),this.insertAdjacentHTML("beforeBegin",i.ell),s=!0,"fold"in i.handlers&&i.emit("fold",""))},this.targetDom.getAttribute("axMore")?this.referName=this.targetDom.getAttribute("axMore"):this.referName="",this.init()}init(){this.text=this.pureHtml.trim().replace(/<[^>]+>/g,"").replace(/ +/g," "),this.ell=this.text.substring(0,this.options.length)+"...";let t=[...this.text].length,e=`<a href="###" class="${this.options.classFold}">${this.options.textFold}</a>`;return t>this.options.length&&(this.targetDom.innerHTML=this.ell+e),this.targetDom.lastChild.onclick=this.event,this.referName&&(axIsEmpty(axMores)?axMores.push({name:this.referName,instance:this}):axMores.some(t=>t.name==this.referName)||axMores.push({name:this.referName,instance:this})),"load"in this.handlers&&this.emit("load",""),this}destroy(t){this.targetDom.lastChild.removeEventListener("click",this.event,!1),this.targetDom.innerHTML=this.html,t&&t.call(this)}updateContent(t,e){return t="string"==typeof t?"#"==t.substr(0,1)?document.querySelector(t).textContent:t:t.textContent,this.pureHtml=t,this.init(),"updated"in this.handlers&&this.emit("updated",""),e&&e.call(this),this}update(t,e){return this.options=axExtend(this.options,t),this.init(),"updated"in this.handlers&&this.emit("updated",""),e&&e.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axMore]").forEach(t=>{new axMore(t)});
/*!
 * 插件：手风琴折叠；使用方法：new axAccordion('#id',{参数})
 */
class axAccordion{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({insName:"",storageName:"",content:"",dispose:!1,active:"",disabled:"",multiple:!1,collapseAll:!0,borderShow:!1,ajaxType:"post",trigger:"click",max:0,headerBreakShow:!0,bodyBreakShow:!0,targetClass:"",itemNode:"li",arrow:{enable:!0,rotate:180,iconClose:"ax-icon-up",iconOpen:"ax-icon-up",position:"end"},tipPosition:"start",addToActive:!0,onInit:"",onAdd:"",onRemove:"",onDisable:"",onEnable:"",onDisableALL:"",onEnableAll:"",onExpand:"",onExpanded:"",onCollapse:"",onCollapsed:"",onUpdate:"",onUpdateContent:"",onDestroy:"",onSave:"",onExpandAll:"",onCollapseAll:""},e,this.targetDom,this.constructor.name);let i=this;this.handlers={},this.triggerShow=function(){i.toggle(this)},this.init()}init(){if(axInstance.push(this,this.options.insName,"accordion"),this.destroyed=!1,this.data=[],this.options.storageName){let t=axLocalStorage.get(this.options.storageName);axIsEmpty(t)?axLocalStorage.set(this.options.storageName,{}):this.options=axExtend(this.options,t)}return this.setAttribute(),this.initDataStd(),this.options.onInit&&this.options.onInit.call(this),this}initDataStd(){if(axIsEmpty(this.options.content)){if(this.targetDom.innerHTML){let t=[...this.targetDom.children];for(let e in t){if(e>=this.options.max&&0!==this.options.max)break;let i=t[e],s=i.querySelector("[header]"),a=i.querySelector("[flex]"),o=i.querySelector("[body]"),n=i.querySelector("[content]"),r=s.querySelector("[label]"),l=s.querySelector("[arrow]"),h=i.querySelector("[tip]"),d=i.querySelector("[legend]"),c=s.nextElementSibling&&s.nextElementSibling.classList.contains("ax-break-line")?s.nextElementSibling:null,p=n.nextElementSibling&&n.nextElementSibling.classList.contains("ax-break-line")?n.nextElementSibling:null,u={label:r.innerHTML.trim(),content:n.innerHTML.trim(),wrapperDom:i,flexDom:a,labelDom:r,headerDom:s,bodyDom:o,contentDom:n,arrowDom:l,tipDom:h,legendDom:d,headerBreakDom:c,bodyBreakDom:p};i.hasAttribute("active")&&(u.active=!0),i.hasAttribute("disabled")&&(u.disabled=!0),this.data.push(u)}this.renderFinish()}}else this.targetDom.innerHTML="","string"==typeof this.options.content?axAjax({url:this.options.content,type:this.options.ajaxType,success:t=>{this.targetDom.innerHTML="",this.data=t,this.data.length>0&&(this.initRender(this.data),this.renderFinish())}},this.targetDom):(this.data=this.options.content,this.data.length>0&&(this.initRender(this.data),this.renderFinish()))}initRender(t){for(let e in t){if(e>=this.options.max&&0!==this.options.max)break;this.appendItem(t[e])}this.disable(this.options.disabled)}appendItem(t,e){let i;i="async"===t.type||"url"===t.type?"":"node"===t.type?axIdToDom(t.content):"string"==typeof t.content?axStrType(t.content)?axIdToDom(t.content).innerHTML:t.content:t.content||"";let s=axAddElem(this.options.itemNode),a=axAddElem("div",{flex:""}),o=axAddElem("i",{label:""},t.label),n=axAddElem("div",{header:""},o),r=axAddElem("div",{body:""}),l=axAddElem("div",{class:"ax-break-line"}),h=axAddElem("div",{class:"ax-break-line"}),d=axAddElem("url"===t.type?"iframe":"div","url"===t.type?{content:"",frameborder:0}:{content:""},i);if(a.appendChild(o),n.appendChild(a),s.appendChild(n),this.options.headerBreakShow?(n.insertAdjacentElement("afterend",l),t.headerBreakDom=l):t.headerBreakDom=null,r.appendChild(d),this.options.bodyBreakShow?(r.insertAdjacentElement("beforeend",h),t.bodyBreakDom=h):t.bodyBreakDom=null,s.appendChild(r),t.wrapperDom=s,t.headerDom=n,t.bodyDom=r,t.contentDom=d,t.labelDom=o,t.headerBreakDom=l,t.disabled&&s.setAttribute("disabled",""),!axIsEmpty(t.props))for(let e in t.props)s.setAttribute(e,t.props[e]);if(t.tip){let e=axAddElem("i",{tip:""},t.tip);"start"===this.options.tipPosition?o.insertAdjacentElement("afterend",e):"end"===this.options.tipPosition&&n.insertAdjacentElement("beforeend",e),t.tipDom=e}if(t.legend){let e=axAddElem("i",{legend:"",class:t.legend?"ax-iconfont "+t.legend:"ax-iconfont"});n.insertAdjacentElement("afterbegin",e),t.legendDom=e}if(this.options.arrow.enable){let e=axAddElem("i",{arrow:"",class:`ax-iconfont ${this.options.arrow.iconClose}`});"start"===this.options.arrow.position?n.insertAdjacentElement("afterbegin",e):"end"===this.options.arrow.position&&n.insertAdjacentElement("beforeend",e),t.arrowDom=e}this.targetDom.appendChild(s),e&&e(t)}initActive(){if(0===this.data.length)return!1;if(this.options.multiple&&!this.options.collapseAll)this.expandAll();else{let t=this.data.filter(t=>t.active);if(""!==this.options.active){let e=[...axValueToArr(this.options.active).map(t=>axFindItem(t,this.data)),...t].filter(Boolean);e.length>0&&(this.options.multiple?e.forEach(t=>{this.expand(t)}):this.expand(e[0]))}else this.options.multiple?t.forEach(t=>{this.expand(t)}):this.expand(t[0])}}asyncActive(t,e){if(t.contentDom.innerHTML.trim())return!1;"async"===t.type&&t.content&&"string"==typeof t.content&&axAjax({url:t.content,type:this.options.ajaxType,success:function(i){t.contentDom.innerHTML=i,e&&e(i)}})}setAttribute(){!this.targetDom.classList.contains("ax-accordion")&&this.targetDom.classList.add("ax-accordion"),this.options.targetClass&&axClass.add(this.targetDom,this.options.targetClass),this.options.borderShow&&axClass.add(this.targetDom,"ax-border"),this.options.arrow.enable&&this.options.arrow.rotate&&this.targetDom.setAttribute("rotate",this.options.arrow.rotate)}renderFinish(){this.initActive(),this.options.dispose||this.data.forEach(t=>{t.disabled||t.headerDom.addEventListener(this.options.trigger,this.triggerShow,!1)}),this.save()}workToggle(t,e="disable"){"enable"===e&&t.disabled?(delete t.disabled,t.wrapperDom.removeAttribute("disabled"),t.headerDom.addEventListener(this.options.trigger,this.triggerShow,!1)):"disable"!==e||t.disabled||(t.disabled=!0,t.wrapperDom.setAttribute("disabled",""),t.headerDom.removeEventListener(this.options.trigger,this.triggerShow,!1)),this.save()}getDisabled(){return this.data.filter(t=>t.disabled)}getActive(){return this.data.filter(t=>t.active)}collapseAll(t){if(this.destroyed)return this;this.data.filter(t=>t.active).forEach(t=>{this.collapse(t)}),"collapseAll"in this.handlers&&this.emit("collapseAll",""),this.options.onCollapseAll&&this.options.onCollapseAll.call(this),t&&t.call(this)}expandAll(t){if(this.destroyed||!this.options.multiple)return this;this.data.forEach(t=>{this.expand(t)}),"expandAll"in this.handlers&&this.emit("expandAll",""),this.options.onExpandAll&&this.options.onExpandAll.call(this),t&&t.call(this)}disable(t,e){if(this.destroyed)return this;if(0!==t&&axIsEmpty(t))return!1;let i=t=>{let e=axFindItem(t,this.data);e&&this.workToggle(e,"disable")};Array.isArray(t)?t.forEach(t=>{i(t)}):i(t),this.save();let s=this.data.filter(t=>t.disabled);"disable"in this.handlers&&this.emit("disable",s),this.options.onDisable&&this.options.onDisable.call(this,s),e&&e.call(this,s)}disableAll(t){this.disable(this.data),"disableAll"in this.handlers&&this.emit("disableAll",""),this.options.onDisableAll&&this.options.onDisableAll.call(this),t&&t.call(this)}enable(t,e){if(this.destroyed)return this;if(0!==t&&axIsEmpty(t))return!1;let i=t=>{let e=axFindItem(t,this.data);e&&this.workToggle(e,"enable")};Array.isArray(t)?t.forEach(t=>{i(t)}):i(t),this.save();let s=this.data.filter(t=>!t.disabled);"enable"in this.handlers&&this.emit("enable",s),this.options.onEnable&&this.options.onEnable.call(this,s),e&&e.call(this,s)}enableAll(t){this.enable(this.data),"enableAll"in this.handlers&&this.emit("enableAll",""),this.options.onEnableAll&&this.options.onEnableAll.call(this),t&&t.call(this)}updateContent(t,e,i){if(this.destroyed)return this;let s=axFindItem(t,this.data);s&&(s.contentDom.innerHTML="",e&&(s.content=e),"url"===s.type?s.contentDom.src=e:"async"===s.type?this.asyncActive(s):axType(s.conten).includes("HTML")?s.contentDom.appendChild(s.content):s.contentDom.innerHTML=s.content,this.save()),"updateContent"in this.handlers&&this.emit("updateContent",s),this.options.onUpdateContent&&this.options.onUpdateContent.call(this,s),i&&i.call(this,s)}toggle(t){let e=axFindItem(t,this.data);e.active?this.collapse(e):this.expand(e)}collapse(t,e){let i="Object"===axType(t)?t:axFindItem(t,this.data);if(!i)return!1;"collapse"in this.handlers&&this.emit("collapse",i),this.options.onCollapse&&this.options.onCollapse.call(this,i),delete i.active,i.wrapperDom.removeAttribute("active"),this.options.arrow.enable&&!this.options.arrow.rotate&&(i.arrowDom.classList.remove(this.options.arrow.iconOpen),i.arrowDom.classList.add(this.options.arrow.iconClose)),axSlideUp(i.bodyDom,()=>{"collapsed"in this.handlers&&this.emit("collapsed",i),this.options.onCollapsed&&this.options.onCollapsed.call(this,i),e&&e.call(this,i)}),this.save()}slideDown(t,e){let i="Object"===axType(t)?t:axFindItem(t,this.data);if(!i)return!1;i.active=!0,i.wrapperDom.setAttribute("active",""),this.options.arrow.enable&&!this.options.arrow.rotate&&(i.arrowDom.classList.remove(this.options.arrow.iconClose),i.arrowDom.classList.add(this.options.arrow.iconOpen)),axSlideDown(i.bodyDom,()=>{"expanded"in this.handlers&&this.emit("expanded",i),this.options.onExpanded&&this.options.onExpanded.call(this,i),e&&e.call(this,i)})}expand(t,e){if(this.destroyed)return this;let i,s=axFindItem(t,this.data);axIsEmpty(s)||("expand"in this.handlers&&this.emit("expand",s),this.options.onExpand&&this.options.onExpand.call(this,s),"async"!==s.type||s.contentDom.innerHTML?("url"!==s.type||s.contentDom.getAttribute("src")||s.contentDom.setAttribute("src",s.content),this.slideDown(s,()=>{e&&e.call(this,s)})):(s.arrowDom&&s.arrowDom.setAttribute("loading",""),this.asyncActive(s,()=>{this.slideDown(s,()=>{e&&e.call(this,s)}),s.arrowDom&&s.arrowDom.removeAttribute("loading")})),this.options.multiple||(i=this.data.filter(t=>t!==s&&t.active),i.forEach(t=>{this.collapse(t)})),this.save())}add(t,e){if(this.destroyed)return this;if(axIsEmpty(t))return!1;if(this.data.length>=this.options.max&&0!==this.options.max)return console.warn("The number of children exceeds the maximum!"),!1;let i=axType(t),s=[],a=t=>{-1===this.data.findIndex(e=>e.label===t.label)&&this.appendItem(t,()=>{this.data.push(t),s.push(t)})};return"Object"===i&&a(t),"Array"===i&&t.length>0&&t.forEach(t=>{a(t)}),s.length>0&&(this.options.addToActive&&(this.options.multiple?s.forEach(t=>{this.expand(t)}):this.expand(s[s.length-1])),this.renderFinish()),this.save(),"add"in this.handlers&&this.emit("add",s),this.options.onAdd&&this.options.onAdd.call(this,s),e&&e.call(this,s),this}remove(t,e){if(this.destroyed)return this;if(axIsEmpty(t))return!1;if(0===this.data.length)return console.warn("The data is already empty!"),!1;let i=t=>{let e=axFindItem(t,this.data);e&&(e.headerDom.removeEventListener(this.options.trigger,this.triggerShow,!1),e.wrapperDom.remove(),this.data=this.data.filter(t=>t!==e))};return Array.isArray(t)?t.forEach(t=>{i(t)}):i(t),this.save(),"remove"in this.handlers&&this.emit("remove",""),this.options.onRemove&&this.options.onRemove.call(this),e&&e.call(this),this}save(t,e){return this.destroyed?this:!!this.options.storageName&&void setTimeout(()=>{let i=this.data.filter(t=>t.active).map(t=>t.id).filter(Boolean),s=this.data.filter(t=>t.disabled).map(t=>t.id).filter(Boolean);t?(!t.hasOwnProperty("active")&&(t.active=i),!t.hasOwnProperty("disabled")&&(t.disabled=s),!t.hasOwnProperty("content")&&(t.content=this.data),axLocalStorage.set(this.options.storageName,t)):axLocalStorage.set(this.options.storageName,{active:i,disabled:s,content:this.data});let a=axLocalStorage.get(this.options.storageName);return"save"in this.handlers&&this.emit("save",a),this.options.onSave&&this.options.onSave.call(this,a),e&&e.call(this,a),this},0)}destroy(t){return this.data.forEach(t=>{t.headerDom.removeEventListener(this.options.trigger,this.triggerShow)}),this.destroyed=!0,this.options.storageName&&axLocalStorage.set(this.options.storageName,{}),"destroy"in this.handlers&&this.emit("destroy",""),this.options.onDestroy&&this.options.onDestroy.call(this),t&&t.call(this),this}update(t,e){return this.destroyed?this:(this.options=axExtend(this.options,t),this.options.storageName&&axLocalStorage.set(this.options.storageName,{}),this.init(),"update"in this.handlers&&this.emit("update",""),this.options.onUpdate&&this.options.onUpdate.call(this),e&&e.call(this),this)}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axAccordion]").forEach(t=>{new axAccordion(t)});
/*!
 * 插件：页签切换；使用方法：axTab('#id',{参数})
 */
class axTab{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({insName:"",storageName:"",trigger:"click",disabled:"",active:0,content:"",ajaxType:"post",headerNode:"ul",bodyNode:"ul",headerChildNode:"li",bodyChildNode:"li",max:0,closable:!1,updatable:!1,wrapperClass:"",headerClass:"ax-tab-group",bodyClass:"",swiper:{enable:!1,arrowShow:!1,options:{slidesPerView:"auto",threshold:4}},menu:{enable:!1,options:{columns:4,size:"lg"}},addToActive:!0,onInit:"",onAdd:"",onBeforeRemove:"",onRemove:"",onDisable:"",onEnable:"",onDisableALL:"",onEnableAll:"",onActive:"",onUpdate:"",onUpdateContent:"",onDestroy:"",onSave:""},e,this.targetDom,this.constructor.name);let i=this;this.handlers={},this.swiperDom=null,this.swiper=null,this.triggerShow=function(){i.active(this)},this.labelClose=t=>{if(this.options.onBeforeRemove){this.options.onBeforeRemove.call(i,t)&&this.remove(t)}else this.remove(t)},this.init()}init(){if(axInstance.push(this,this.options.insName,"tab"),this.destroyed=!1,this.data=[],this.options.storageName){let t=axLocalStorage.get(this.options.storageName);axIsEmpty(t)?axLocalStorage.set(this.options.storageName,{}):this.options=axExtend(this.options,t)}return this.initDataStd(),this.options.onInit&&this.options.onInit.call(this),this}initDataStd(){if(axIsEmpty(this.options.content)){if(!this.targetDom.classList.contains("ax-tab")&&this.targetDom.classList.add("ax-tab"),this.targetDom.querySelector("[header]")&&this.targetDom.querySelector("[body]")){this.navDom=this.targetDom.querySelector("[nav]"),this.prevDom=this.navDom?this.navDom.querySelector("[prev]"):null,this.nextDom=this.navDom?this.navDom.querySelector("[next]"):null,this.menuDom=this.navDom?this.navDom.querySelector("[menu]"):null,this.swiperDom=this.targetDom.querySelector(".ax-swiper"),this.headerWrapperDom=this.targetDom.querySelector("[header]"),this.bodyWrapperDom=this.targetDom.querySelector("[body]");let t=[...this.headerWrapperDom.children],e=[...this.bodyWrapperDom.children];for(let i=0,s=t.length;i<s&&!(i>=this.options.max&&0!==this.options.max);i++){let s=t[i],a=s.querySelector("[label]"),o=s.querySelector("[close]"),n=s.querySelector("[update]"),r=e[i];if(r){let t={label:a?a.innerText:s.innerHTML,content:r.innerHTML,labelDom:a,headerDom:s,bodyDom:r};s.hasAttribute("active")&&(t.active=!0),s.hasAttribute("disabled")&&(t.disabled=!0),this.data.push(t),n&&(t.updateDom=n),o&&(t.closeDom=o)}}this.createSwiper(),this.initActive(),this.renderFinish()}}else this.targetDom.innerHTML="","string"==typeof this.options.content?axAjax({url:this.options.content,type:this.options.ajaxType,success:t=>{this.targetDom.innerHTML="",this.data=t,this.data.length>0&&(this.initRender(this.data),this.renderFinish())}},this.targetDom):(this.data=this.options.content,this.data.length>0&&(this.initRender(this.data),this.renderFinish()))}initRender(t){this.headerWrapperDom=axAddElem(this.options.headerNode,{header:""}),this.bodyWrapperDom=axAddElem(this.options.bodyNode,{body:""});for(let e=0,i=t.length;e<i&&!(e>=this.options.max&&0!==this.options.max);e++)this.appendItem(t[e]);this.initActive(),this.disable(this.options.disabled),this.setAttribute(),this.options.swiper.enable?(this.headerWrapperDom.classList.add("ax-wrapper"),this.swiperDom=axAddElem("div",{class:"ax-swiper"},this.headerWrapperDom),this.navDom=axAddElem("div",{class:"ax-tab-swiper"},this.swiperDom),this.options.swiper.arrowShow&&(this.prevDom=axAddElem("i",{prev:""}),this.nextDom=axAddElem("i",{next:""}),this.navDom.insertAdjacentElement("afterbegin",this.prevDom),this.navDom.insertAdjacentElement("beforeend",this.nextDom)),this.options.menu.enable&&(this.menuDom=axAddElem("i",{menu:""}),this.navDom.insertAdjacentElement("beforeend",this.menuDom)),this.targetDom.appendChild(this.navDom),this.createSwiper()):this.targetDom.appendChild(this.headerWrapperDom),this.targetDom.appendChild(this.bodyWrapperDom)}appendItem(t,e){if(!t.label)return!1;let i;i="async"===t.type||"url"===t.type?"":"node"===t.type?axIdToDom(t.content):"string"==typeof t.content?axStrType(t.content)?axIdToDom(t.content).innerHTML:t.content:t.content||"";let s=axAddElem(this.options.headerChildNode),a=axAddElem("i",{label:""},t.label),o=axAddElem("url"===t.type?"iframe":this.options.bodyChildNode,"url"===t.type?{src:t.content,frameborder:0}:"",i),n=axAddElem("i",{close:""}),r=axAddElem("i",{update:""});if(s.appendChild(a),t.active&&(s.setAttribute("active",""),o.setAttribute("active","")),t.disabled&&s.setAttribute("disabled",""),!axIsEmpty(t.props))for(let e in t.props)o.setAttribute(e,t.props[e]);this.swiper&&s.classList.add("ax-slide"),t.headerDom=s,t.labelDom=a,t.bodyDom=o,this.headerWrapperDom.appendChild(s),this.options.updatable&&(t.updateDom=r,s.appendChild(r)),this.options.closable&&(t.closeDom=n,s.appendChild(n)),e&&e(t)}initActive(){if(0===this.data.length)return!1;let t=this.data.find(t=>t.active)||this.data[0];this.options.active?this.active(this.options.active):this.active(t)}asyncActive(t,e){if(t.bodyDom.innerHTML.trim())return!1;"async"===t.type&&t.content&&"string"==typeof t.content&&axAjax({url:t.content,type:this.options.ajaxType,success:function(i){t.bodyDom.innerHTML=i,e&&e(i)}},t.bodyDom)}getDropDownData(){return this.data.map(t=>({value:t.label,label:t.label}))}createSwiper(){if(!this.swiperDom)return!1;let t=this.options.swiper.options;this.prevDom&&this.nextDom&&(t.navigation={nextEl:this.prevDom,prevEl:this.nextDom}),this.swiper=new axSwiper(this.swiperDom,t),this.menuDom&&setTimeout(()=>{this.dropdown=new axDropdown(this.menuDom,{arrowShow:!1,grid:{enable:0!==this.options.menu.options.columns&&1!==this.options.menu.options.columns,columns:this.options.menu.options.columns,fenceShow:!0},type:"button",popup:{size:this.options.menu.options.size},content:this.getDropDownData()}),this.dropdown.popup.on("show",()=>{this.getActive()&&this.getActive().label&&this.dropdown.updateValues(this.getActive().label)}),this.dropdown.on("set",t=>{(t||0===t)&&this.active(t),this.swiper.slideTo(this.getIndexActive())})},0)}setAttribute(){!this.targetDom.classList.contains("ax-tab")&&this.targetDom.classList.add("ax-tab"),this.options.wrapperClass&&axClass.add(this.targetDom,this.options.wrapperClass),this.options.headerClass&&axClass.add(this.headerWrapperDom,this.options.headerClass),this.options.bodyClass&&axClass.add(this.bodyWrapperDom,this.options.bodyClass)}renderFinish(){this.data.forEach(t=>{if(!t.disabled){(t.labelDom?t.labelDom:t.headerDom).addEventListener(this.options.trigger,this.triggerShow,!1),t.updateDom&&(t.updateDom.onclick=()=>{this.updateContent(t)}),t.closeDom&&(t.closeDom.onclick=()=>{this.labelClose(t)})}}),this.save()}workToggle(t,e="disable"){let i=t.labelDom?t.labelDom:t.headerDom;"enable"===e&&t.disabled?(delete t.disabled,t.headerDom.removeAttribute("disabled"),t.bodyDom.removeAttribute("disabled"),i.addEventListener(this.options.trigger,this.triggerShow,!1),t.closeDom&&(t.closeDom.onclick=()=>{this.labelClose(t)}),t.updateDom&&(t.updateDom.onclick=()=>{this.updateContent(t)})):"disable"!==e||t.disabled||(t.disabled=!0,t.headerDom.setAttribute("disabled",""),t.bodyDom.setAttribute("disabled",""),i.removeEventListener(this.options.trigger,this.triggerShow,!1),t.closeDom&&(t.closeDom.onclick=null),t.updateDom&&(t.updateDom.onclick=null)),this.save()}getIndexActive(){return this.data.findIndex(t=>t.active)}getDisabled(){return this.data.filter(t=>t.disabled)}getActive(){return this.data.find(t=>t.active)}disable(t,e){if(this.destroyed)return this;if(0!==t&&axIsEmpty(t))return!1;let i=t=>{let e=axFindItem(t,this.data);e&&this.workToggle(e,"disable")};Array.isArray(t)?t.forEach(t=>{i(t)}):i(t);let s=this.data.filter(t=>t.disabled);"disable"in this.handlers&&this.emit("disable",s),this.options.onDisable&&this.options.onDisable.call(this,s),e&&e.call(this,s)}disableAll(t){this.disable(this.data),"disableAll"in this.handlers&&this.emit("disableAll",""),this.options.onDisableAll&&this.options.onDisableAll.call(this),t&&t.call(this)}enable(t,e){if(this.destroyed)return this;if(0!==t&&axIsEmpty(t))return!1;let i=t=>{let e=axFindItem(t,this.data);e&&this.workToggle(e,"enable")};Array.isArray(t)?t.forEach(t=>{i(t)}):i(t);let s=this.data.filter(t=>!t.disabled);"enable"in this.handlers&&this.emit("enable",s),this.options.onEnable&&this.options.onEnable.call(this,s),e&&e.call(this,s)}enableAll(t){this.enable(this.data),"enableAll"in this.handlers&&this.emit("enableAll",""),this.options.onEnableAll&&this.options.onEnableAll.call(this),t&&t.call(this)}updateContent(t,e,i){if(this.destroyed)return this;let s=axFindItem(t,this.data);s&&(s.bodyDom.innerHTML="",e&&(s.content=e),"url"===s.type?s.bodyDom.src=e:"async"===s.type?this.asyncActive(s):axType(s.conten).includes("HTML")?s.bodyDom.appendChild(s.content):s.bodyDom.innerHTML=s.content,this.save()),"updateContent"in this.handlers&&this.emit("updateContent",s),this.options.onUpdateContent&&this.options.onUpdateContent.call(this,s),i&&i.call(this,s)}active(t,e){if(this.destroyed)return this;let i,s=axType(t).includes("HTML")&&t.hasAttribute("label")?axFindItem(t,this.data,{header:"labelDom"}):axFindItem(t,this.data);axIsEmpty(s)||(!s.active&&(s.active=!0),s.headerDom.setAttribute("active",""),s.bodyDom.setAttribute("active",""),axIsVnode(s.bodyDom)&&this.bodyWrapperDom.appendChild(s.bodyDom),"async"===s.type&&this.asyncActive(s),i=this.data.filter(t=>t!==s),i.forEach(t=>{t.active&&delete t.active,t.headerDom.removeAttribute("active"),t.bodyDom.removeAttribute("active")}),this.save()),"active"in this.handlers&&this.emit("active",s),this.options.onActive&&this.options.onActive.call(this,s),e&&e.call(this,s)}add(t,e){if(this.destroyed)return this;if(axIsEmpty(t))return!1;if(this.data.length>=this.options.max&&0!==this.options.max)return console.warn("The number of tabs exceeds the maximum!"),!1;let i=axType(t),s=[],a=t=>{-1===this.data.findIndex(e=>e.label===t.label)&&this.appendItem(t,()=>{this.data.push(t),s.push(t)})};return"Object"===i&&a(t),"Array"===i&&t.length>0&&t.forEach(t=>{a(t)}),s.length>0&&(this.swiper&&this.swiper.update(!0),this.options.addToActive&&(this.active(s[s.length-1]),this.swiper&&this.swiper.slideTo(s[s.length-1])),this.renderFinish(),this.dropdown&&this.dropdown.updateContent(this.getDropDownData())),"add"in this.handlers&&this.emit("add",s),this.options.onAdd&&this.options.onAdd.call(this,s),e&&e.call(this,s),this}remove(t,e){if(this.destroyed)return this;if(axIsEmpty(t))return!1;if(0===this.data.length)return console.warn("The data is already empty!"),!1;let i=t=>{let e=axFindItem(t,this.data);e&&(!e.labelDom&&e.headerDom.removeEventListener(this.options.trigger,this.triggerShow,!1),e.headerDom.remove(),e.bodyDom.remove(),this.data=this.data.filter(t=>t!==e),this.swiper&&this.swiper.update(!0))};return Array.isArray(t)?t.forEach(t=>{i(t)}):i(t),this.save(),this.swiper&&this.swiper.update(!0),this.dropdown&&this.dropdown.updateContent(this.getDropDownData()),"remove"in this.handlers&&this.emit("remove",""),this.options.onRemove&&this.options.onRemove.call(this),e&&e.call(this),this}save(t,e){return this.destroyed?this:!!this.options.storageName&&void setTimeout(()=>{let i=this.getIndexActive(),s=this.data.filter(t=>t.disabled).map(t=>t.id).filter(Boolean);t?(!t.hasOwnProperty("active")&&(t.active=i),!t.hasOwnProperty("disabled")&&(t.disabled=s),!t.hasOwnProperty("content")&&(t.content=this.data),axLocalStorage.set(this.options.storageName,t)):axLocalStorage.set(this.options.storageName,{active:i,disabled:s,content:this.data});let a=axLocalStorage.get(this.options.storageName);return"save"in this.handlers&&this.emit("save",a),this.options.onSave&&this.options.onSave.call(this,a),e&&e.call(this,a),this},0)}update(t,e){return this.destroyed?this:(this.options=axExtend(this.options,t),this.options.storageName&&axLocalStorage.set(this.options.storageName,{}),this.init(),"update"in this.handlers&&this.emit("update",""),this.options.onUpdate&&this.options.onUpdate.call(this),e&&e.call(this),this)}destroy(t){return this.data.forEach(t=>{(t.labelDom?t.labelDom:t.headerDom).removeEventListener(this.options.trigger,this.triggerShow),t.closeDom&&(t.closeDom.onclick=null),t.updateDom&&(t.updateDom.onclick=null)}),this.swiper&&this.swiper.destroy(),this.dropdown&&this.dropdown.popup.destroy(),this.destroyed=!0,this.options.storageName&&axLocalStorage.set(this.options.storageName,{}),"destroy"in this.handlers&&this.emit("destroy",""),this.options.onDestroy&&this.options.onDestroy.call(this),t&&t.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axTab]").forEach(t=>{new axTab(t)});
/*!
* 插件：抽屉侧边窗；使用方法：new axDrawer({参数},'#id')；#id是可选参数，可以从该dom获取参数值
*/
class axDrawer{constructor(t,e){return this.options=axExtend({insName:"",title:"",titleBreak:!0,overlay:!0,overlayClose:!0,duration:0,placement:"right",size:"sm",padding:"ax-padding",offset:"100px",content:"",type:"html",url:"",btnClass:"ax-opened",close:!0,footerType:"center",footerShow:!0,footerBreak:!1,note:"",ajaxType:"post",preventScroll:!0,onInit:"",onShow:"",onShwon:"",onHide:"",onHidden:"",onUpdate:"",onUpdated:"",onUpdateContent:"",onDestroy:"",confirm:{text:"确定",classname:"",icon:"",type:"close",url:"",callback:""},cancel:{text:"关闭",classname:"",icon:"",callback:""},diy:{text:"",classname:"",icon:"",url:"",target:"",callback:""}},t,e,this.constructor.name),this.handlers={},this.form=null,e&&(this.button=axIdToDom(e)),this.shown=!1,this.init(),this}init(){let t=this;if(axInstance.data.find(t=>t.instance===this)||axInstance.push(this,this.options.insName,"drawer"),this.destroyed=!1,this.renderDom(),this.setAttribute(),1==this.options.content.nodeType)this.content.innerHTML="",this.content.appendChild(this.options.content),this.form=this.content.querySelector("form");else if("form"==this.options.type&&"string"==typeof this.options.content&&"#"==this.options.content.substr(0,1)){if(this.form=document.querySelector(this.options.content).querySelector("form"),!this.form)return console.error("Form node is required!"),!1;this.content.innerHTML="",this.content.appendChild(this.form)}else{let e=axCreateContent(this.options,this,this.options.ajaxType,(function(){t.options.preventScroll&&axPreventScroll(t.wrapper,t.body)}));this.content.innerHTML=e.content,this.contentXhr=e.xhr,this.form=this.content.querySelector("form")}return this.footer.innerHTML=axFooterBtns(this.options,this),this.targetDom.querySelectorAll("[confirm]").forEach(e=>{e.onclick=function(e){let i=this;if("submit"==t.options.confirm.type){if(!t.form||"form"!=t.options.type)return console.error("Form node is required and type of options must be form string!"),!1;axValidRepeat(e,axValids,t.form,(function(){t.form.submit()})),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,"")}else if("async"==t.options.confirm.type){if(!t.form||"form"!=t.options.type||!t.options.confirm.url)return console.error("Form node is required & type of options must be form string & url of async is required!"),!1;axValidRepeat(e,axValids,t.form,(function(){t.submitXhr=axAjaxSubmit(t.options.confirm.url,t.form,i,t.options.ajaxType,(function(e){t.options.confirm.callback&&t.options.confirm.callback.call(t,i,e)}))}))}else"prevent"==t.options.confirm.type?(axPreventDefault(e),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,"")):(t.hide(),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,""))}}),this.targetDom.querySelectorAll("[diy]").forEach(e=>{e.onclick=function(){t.options.diy.callback&&t.options.diy.callback.call(t,e)}}),this.targetDom.querySelectorAll("[cancel]").forEach(e=>{e.onclick=function(){t.hide(),t.options.cancel.callback&&t.options.cancel.callback.call(t,e)}}),this.targetDom.querySelectorAll("[close]").forEach(e=>{e.addEventListener("click",(function(){t.hide()}),!1)}),this.button&&(this.button.onclick=()=>{this.show()}),this.options.onInit&&this.options.onInit.call(this),this}createTemplate(){return`\n                    <div class="ax-drawer" data-overlay="true" id="${axCreateId("drawer")}">\n                        <# if(this.overlay){ #><div class="ax-drawer-overlay" <# if(this.overlayClose){ #>close<# } #>></div><# } #>\n                        <div class="ax-drawer-wrapper">\n                            <# if(this.close){ #> <a href="###" class="ax-drawer-close" close><i class="ax-iconfont ax-icon-close"></i></a><# } #>\n                            <# if(this.title){ #><div class="ax-drawer-header"><div class="ax-col ax-align-center"><# this.title #></div></div><# } #>\n                            <# if(this.title && this.titleBreak){ #><div class="ax-break-line"></div><# } #>\n                            <div class="ax-drawer-body">\n                                <# if(this.padding){ #><div class="<# this.padding #>" <# if(this.type == 'iframe'){ #>style="height:100%;"<# } #>> <# } #>\n                                    <div class="ax-drawer-content" <# if(this.type == 'iframe'){ #>style="height:100%;"<# } #>><# this.content #></div>\n                                <# if(this.padding){ #></div><# } #>\n                            </div>\n                            <div class="ax-drawer-footer">\n                            </div>\n                        </div>\n                    </div>\n                  `}renderDom(){this.template=axTplEngine(this.createTemplate(),this.options),this.targetDom=axStrToDom(this.template),this.wrapper=this.targetDom.querySelector(".ax-drawer-wrapper"),this.targetDom.querySelector(".ax-drawer-overlay")&&(this.overlay=this.targetDom.querySelector(".ax-drawer-overlay")),this.content=this.targetDom.querySelector(".ax-drawer-content"),this.body=this.targetDom.querySelector(".ax-drawer-body"),this.targetDom.querySelector(".ax-drawer-footer")&&(this.footer=this.targetDom.querySelector(".ax-drawer-footer")),this.width=window.getComputedStyle(this.wrapper).width,this.height=window.getComputedStyle(this.wrapper).height,this.left=window.getComputedStyle(this.wrapper).left,this.right=window.getComputedStyle(this.wrapper).right,this.top=window.getComputedStyle(this.wrapper).top,this.bottom=window.getComputedStyle(this.wrapper).bottom}setAttribute(){if("left"==this.options.placement)this.targetDom.setAttribute("data-placement","left");else if("right"==this.options.placement)this.targetDom.setAttribute("data-placement","right");else if("top"==this.options.placement)this.targetDom.setAttribute("data-placement","top");else{if("bottom"!=this.options.placement)return;this.targetDom.setAttribute("data-placement","bottom")}if("sm"==this.options.size)this.targetDom.setAttribute("data-size","sm");else if("md"==this.options.size)this.targetDom.setAttribute("data-size","md");else{if("lg"!=this.options.size)return;this.targetDom.setAttribute("data-size","lg")}}show(t){return this.destroyed||this.shown?this:(document.body.appendChild(this.targetDom),this.options.preventScroll&&axPreventScroll(this.wrapper,this.body),this.options.duration?this.duration=this.options.duration:this.duration=1e3*parseFloat(axStyle(this.wrapper).animationDuration),this.options.onShow&&this.options.onShow.call(this),"show"in this.handlers&&this.emit("show",""),axInstance.data.filter(t=>"drawer"===t.type&&!t.instance.destroyed).forEach(t=>{if(t.instance.isShow&&t.instance.options.placement==this.options.placement){let e=t.instance.targetDom.querySelector(".ax-drawer-wrapper");switch(this.options.placement){case"left":e.style.left?e.style.left=parseInt(e.style.left)+parseInt(this.options.offset)+"px":e.style.left=this.options.offset;break;case"right":e.style.right?e.style.right=parseInt(e.style.right)+parseInt(this.options.offset)+"px":e.style.right=this.options.offset;break;case"top":e.style.top?e.style.top=parseInt(e.style.top)+parseInt(this.options.offset)+"px":e.style.top=this.options.offset;break;case"bottom":e.style.bottom?e.style.bottom=parseInt(e.style.bottom)+parseInt(this.options.offset)+"px":e.style.bottom=this.options.offset}}}),this.targetDom.classList.add("ax-show"),this.button&&this.button.classList.add(this.options.btnClass),this.shown=!0,setTimeout(()=>{this.options.onShown&&this.options.onShown.call(this),"shown"in this.handlers&&this.emit("shown","")},this.duration),t&&t.call(this),this)}hide(t){if(this.destroyed)return this;this.options.onHide&&this.options.onHide.call(this),"hide"in this.handlers&&this.emit("hide",""),this.button&&this.button.classList.remove(this.options.btnClass);return(t=>{let e=t.targetDom.querySelector(".ax-drawer-overlay"),i=t.targetDom.querySelector(".ax-drawer-wrapper");switch(e.style.opacity=0,t.options.placement){case"left":i.style.left="-"+getComputedStyle(i).width;break;case"right":i.style.right="-"+getComputedStyle(i).width;break;case"top":i.style.top="-"+getComputedStyle(i).height;break;case"bottom":i.style.bottom="-"+getComputedStyle(i).height}this.shown=!1,setTimeout(()=>{t.targetDom.classList.remove("ax-show"),e.removeAttribute("style"),i.removeAttribute("style"),this.targetDom.remove(),this.options.onHidden&&this.options.onHidden.call(this),"hidden"in this.handlers&&this.emit("hidden","")},this.duration)})(this),axInstance.data.filter(t=>"drawer"===t.type&&!t.instance.destroyed).forEach(t=>{if(t.instance.targetDom.classList.contains("ax-show")&&t.instance.options.placement==this.options.placement){let e=t.instance.targetDom.querySelector(".ax-drawer-wrapper");switch(this.options.placement){case"left":e.style.left=parseInt(e.style.left)-parseInt(this.options.offset)+"px";break;case"right":e.style.right=parseInt(e.style.right)-parseInt(this.options.offset)+"px";break;case"top":e.style.top=parseInt(e.style.top)-parseInt(this.options.offset)+"px";break;case"bottom":e.style.bottom=parseInt(e.style.bottom)-parseInt(this.options.offset)+"px"}}}),this.targetDom.querySelectorAll("video,audio").forEach(t=>{t.pause()}),this.button&&this.button.classList.remove(this.options.btnClass),t&&t.call(this),this}destroy(t){return this.targetDom.remove(),this.button.onclick=null,this.contentXhr&&this.contentXhr.abort(),this.submitXhr&&this.submitXhr.abort(),this.options.onDestroy&&this.options.onDestroy.call(this),"destroy"in this.handlers&&this.emit("destroy",""),this.destroyed=!0,t&&t.call(this),this}update(t,e){if(this.destroyed)return this;this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update","");let i=this.targetDom,s=axClone(this.options),a=axExtend(this.options,t),o=!1;return t&&JSON.stringify(a)!=JSON.stringify(s)&&(this.options=a,this.shown?this.init().show():this.init(),i.remove(),o=!0),e&&e.call(this,o,s,a),this.options.onUpdated&&this.options.onUpdated.call(this,o,s,a),"updated"in this.handlers&&this.emit("updated",o,s,a),this}updateContent(t,e){if(this.destroyed)return this;this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update","");let i=this.content.innerHTML,s=!1;return"String"===axType(t)?axStrType(t)?this.content.innerHTML=axIdToDom(t)?axIdToDom(t).innerHTML:"":this.content.innerHTML=t:axType(t).includes("HTML")?(this.content.innerHTML="",this.content.appendChild(t)):this.content.innerHTML="No data to update!",s=this.content.innerHTML!=i,e&&e.call(this,s,i,this.content.innerHTML),this.options.onUpdateContent&&this.options.onUpdateContent.call(this,s,i,this.content.innerHTML),"updateContent"in this.handlers&&this.emit("updateContent",s,i,this.content.innerHTML),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}!function t(e,i){e.forEach(e=>{let s=new axDrawer("",e);i&&(s.targetDom.style.zIndex=parseInt(getComputedStyle(i.targetDom).zIndex)+1),t(s.targetDom.querySelectorAll("[axDrawer]"),s)})}(document.querySelectorAll("[axDrawer]"));
/*!
 * 插件：对话弹窗；使用方法：new axDialog({参数},'#id')；#id是可选参数，可以从该dom获取参数值
 */
class axDialog{constructor(t,e){return this.options=axExtend({insName:"",title:"",titleBreak:!1,overlay:!0,overlayClose:!0,duration:0,in:"springIn",out:"scaleOut",multiple:!0,size:"md",padding:"ax-padding",drag:!1,content:"",type:"html",url:"",btnClass:"ax-opened",name:"",width:"",height:"",close:!0,closePlace:"inside",footerShow:!0,footerType:"center",footerBreak:!1,note:"",ajaxType:"post",preventScroll:!0,onDrag:"",onDragged:"",onInit:"",onShow:"",onShwon:"",onHide:"",onHidden:"",onUpdate:"",onUpdated:"",onUpdateContent:"",onDestroy:"",confirm:{text:"确定",classname:"",icon:"",type:"close",url:"",callback:""},cancel:{text:"关闭",classname:"",icon:"",callback:""},diy:{text:"",classname:"",icon:"",url:"",target:"",callback:""}},t,e,this.constructor.name),this.wrapper="",this.content="",this.overlay="",this.handlers={},this.wrapPosition="",this.wrapLeft="",this.wrapTop="",this.form=null,e&&(this.button=axIdToDom(e)),this.shown=!1,this.init(),this}init(){let t=this;if(axInstance.data.find(t=>t.instance===this)||axInstance.push(this,this.options.insName,"dialog"),this.destroyed=!1,this.renderDom(),this.setAttribute(),1==this.options.content.nodeType)this.content.innerHTML="",this.content.appendChild(this.options.content),this.form=this.content.querySelector("form");else if("form"==this.options.type&&"string"==typeof this.options.content&&"#"==this.options.content.substr(0,1)){if(this.form=document.querySelector(this.options.content).querySelector("form"),!this.form)return console.error("Form node is required!"),!1;this.content.innerHTML="",this.content.appendChild(this.form)}else{let e=axCreateContent(this.options,this,this.options.ajaxType,(function(){t.options.preventScroll&&axPreventScroll(t.wrapper,t.body)}));this.content.innerHTML=e.content,this.contentXhr=e.xhr,this.form=this.content.querySelector("form")}return this.footer.innerHTML=axFooterBtns(this.options,this),this.options.drag&&this.drag(),this.targetDom.querySelectorAll("[confirm]").forEach(e=>{e.onclick=function(e){let i=this;if("submit"==t.options.confirm.type){if(!t.form||"form"!=t.options.type)return console.error("Form node is required and type of options must be form string!"),!1;axValidRepeat(e,axValids,t.form,(function(){t.form.submit()})),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,"")}else if("async"==t.options.confirm.type){if(!t.form||"form"!=t.options.type||!t.options.confirm.url)return console.error("Form node is required & type of options must be form string & url of async is required!"),!1;axValidRepeat(e,axValids,t.form,(function(){t.submitXhr=axAjaxSubmit(t.options.confirm.url,t.form,i,t.options.ajaxType,(function(e){t.options.confirm.callback&&t.options.confirm.callback.call(t,i,e)}))}))}else"prevent"==t.options.confirm.type?(axPreventDefault(e),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,"")):(t.hide(),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,""))}}),this.targetDom.querySelectorAll("[diy]").forEach(e=>{e.onclick=function(){t.options.diy.callback&&t.options.diy.callback.call(t,e)}}),this.targetDom.querySelectorAll("[cancel]").forEach(e=>{e.onclick=function(){t.hide(),t.options.cancel.callback&&t.options.cancel.callback.call(t,e)}}),this.targetDom.querySelectorAll("[close]").forEach(e=>{e.addEventListener("click",(function(){t.hide()}),!1)}),this.button&&(this.button.onclick=()=>{this.show()}),this.options.onInit&&this.options.onInit.call(this),this}createTemplate(){return`\n        <div class="ax-dialog" data-overlay="true" id="${axCreateId("dialog")}">\n        <# if(this.overlay){ #><div class="ax-dialog-overlay" <# if(this.overlayClose){ #>close<# } #>></div><# } #>\n            <div class="ax-dialog-wrapper">\n                <# if(this.close){ #><a href="###" class="ax-dialog-close" close><i class="ax-iconfont ax-icon-close"></i></a><# } #>\n                <# if(this.title){ #><div class="ax-dialog-header"><# this.title #></div><# } #>\n                <# if(this.titleBreak){ #><div class="ax-break-line"></div><# } #>\n                <div class="ax-dialog-body">\n                    <# if(typeof this.padding == 'string'){ #><div class="<# this.padding #>"> <# }else if(this.padding){ #><div class="ax-padding"> <# } #>\n                    <div class="ax-dialog-content"><# this.content #></div>\n                    <# if(this.padding){ #></div><# } #>\n                </div>\n                <div class="ax-dialog-footer">\n                </div>\n            </div>\n        </div>\n      `}renderDom(){this.template=axTplEngine(this.createTemplate(),this.options),this.targetDom=axStrToDom(this.template),this.wrapper=this.targetDom.querySelector(".ax-dialog-wrapper"),this.header=this.targetDom.querySelector(".ax-dialog-header"),this.content=this.targetDom.querySelector(".ax-dialog-content"),this.body=this.targetDom.querySelector(".ax-dialog-body"),this.overlay=this.targetDom.querySelector(".ax-dialog-overlay"),this.footer=this.targetDom.querySelector(".ax-dialog-footer")}setAttribute(){this.options.size&&this.targetDom.setAttribute("data-size",this.options.size),this.options.footerType&&this.targetDom.setAttribute("data-footerType",this.options.footerType),this.options.height&&(this.content.style.height=this.options.height),this.oldStyle=this.options.width?`width:${this.options.width};`:null,this.options.type&&this.targetDom.setAttribute("data-type",this.options.type),!this.options.overlay&&this.targetDom.setAttribute("data-overlay","false"),!this.options.title&&this.options.close?"lg"==this.options.size?this.targetDom.setAttribute("data-closePlace","bottom"):this.options.title||"inside"!=this.options.closePlace?this.targetDom.setAttribute("data-closePlace",this.options.closePlace):this.targetDom.setAttribute("data-closePlace","outside"):this.options.closePlace&&this.options.close&&this.targetDom.setAttribute("data-closePlace",this.options.closePlace)}drag(t){if(this.destroyed)return!1;if(!this.options.title)return!1;{let e=this,i=this.targetDom.querySelector(".ax-dialog-header");this.targetDom.setAttribute("data-drag",this.options.drag),i.onmousedown=function(t){e.options.onDrag&&e.options.onDrag.call(this),"drag"in e.handlers&&e.emit("drag",""),this.style.cursor="move";let i=this.parentNode;i.style.cssText+="position:fixed ;",e.wrapPosition="fixed";let s=t.clientX-i.offsetLeft,a=t.clientY-i.offsetTop;document.onmousemove=function(t){let o=t.clientX-s,n=t.clientY-a,r=document.documentElement.clientWidth-i.clientWidth,l=document.documentElement.clientHeight-i.clientHeight;o<0&&(o=0),o>r&&(o=r),n<0&&(n=0),n>l&&(n=l),i.style.left=o+"px",i.style.top=n+"px",e.wrapLeft=i.style.left,e.wrapTop=i.style.top}},i.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,e.options.onDragged&&e.options.onDragged.call(this),"dragged"in e.handlers&&e.emit("dragged","")},i.ondragstart=function(t){axPreventDefault(t)},i.ondragend=function(t){axPreventDefault(t)},t&&t.call(this)}return this}update(t,e){if(this.destroyed)return this;this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update","");let i=this.targetDom,s=axClone(this.options),a=axExtend(this.options,t),o=!1;return t&&JSON.stringify(a)!=JSON.stringify(s)&&(this.options=a,this.shown?this.init().show():this.init(),i.remove(),o=!0),e&&e.call(this,o,s,a),this.options.onUpdated&&this.options.onUpdated.call(this,o,s,a),"updated"in this.handlers&&this.emit("updated",o,s,a),this}updateContent(t,e){if(this.destroyed)return this;this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update","");let i=this.content.innerHTML,s=!1;return"String"===axType(t)?axStrType(t)?this.content.innerHTML=axIdToDom(t)?axIdToDom(t).innerHTML:"":this.content.innerHTML=t:axType(t).includes("HTML")?(this.content.innerHTML="",this.content.appendChild(t)):this.content.innerHTML="No data to update!",s=this.content.innerHTML!=i,e&&e.call(this,s,i,this.content.innerHTML),this.options.onUpdateContent&&this.options.onUpdateContent.call(this,s,i,this.content.innerHTML),"updateContent"in this.handlers&&this.emit("updateContent",s,i,this.content.innerHTML),this}destroy(t){return this.targetDom.remove(),this.button.onclick=null,this.contentXhr&&this.contentXhr.abort(),this.submitXhr&&this.submitXhr.abort(),this.options.onDestroy&&this.options.onDestroy.call(this),"destroy"in this.handlers&&this.emit("destroy",""),this.destroyed=!0,t&&t.call(this),this}show(t){if(this.destroyed||this.shown)return this;if(document.body.appendChild(this.targetDom),this.options.preventScroll&&axPreventScroll(this.wrapper,this.body),this.wrapperHeight=axArrHeight(this.wrapper).height,this.options.duration?this.duration=this.options.duration:this.wrapperHeight?this.duration=Math.floor(this.wrapperHeight/3+250):this.duration=1e3*parseFloat(axStyle(this.wrapper).animationDuration),!this.options.multiple){axInstance.data.filter(t=>t.type.dialog&&t.instance!==this&&t.instance.isShow).forEach(t=>{t.instance.hide()})}this.options.onShow&&this.options.onShow.call(this),"show"in this.handlers&&this.emit("show",""),this.targetDom.classList.remove("ax-hide"),this.targetDom.classList.add("ax-show"),this.button&&this.button.classList.add(this.options.btnClass);let e="";return this.wrapPosition&&(e=`position:${this.wrapPosition};left:${this.wrapLeft};top:${this.wrapTop};`),"slideDown"==this.options.in?axHeightDown(this.wrapper,{height:this.wrapperHeight},"",this.duration):(this.options.duration&&(this.targetDom.style.animationDuration=`${this.options.duration}ms`),this.options.in&&(this.wrapper.style.cssText=`animation-name: ${this.options.in};${e};${this.oldStyle}`)),this.shown=!0,setTimeout(()=>{this.options.onShown&&this.options.onShown.call(this),"shown"in this.handlers&&this.emit("shown","")},this.duration),t&&t.call(this),this}hide(t){if(this.destroyed)return this;this.options.onHide&&this.options.onHide.call(this),"hide"in this.handlers&&this.emit("hide","");let e=this;this.button&&this.button.classList.remove(this.options.btnClass),this.options.duration&&(this.targetDom.style.animationDuration=this.options.duration),this.targetDom.classList.add("ax-hide");let i="";return this.wrapPosition&&(i=`position:${this.wrapPosition};left:${this.wrapLeft};top:${this.wrapTop};`),"slideUp"==this.options.out?axHeightUp(e.wrapper,{height:this.wrapperHeight},"",this.duration):this.options.out&&(this.wrapper.style.cssText=`animation-name: ${this.options.out};${i};${this.oldStyle}`),this.targetDom.querySelectorAll("video,audio").forEach(t=>{t.pause()}),this.shown=!1,setTimeout(()=>{this.targetDom.classList.remove("ax-show"),this.targetDom.remove(),this.options.onHidden&&this.options.onHidden.call(this),"hidden"in this.handlers&&this.emit("hidden",""),this.wrapper.style.cssText=this.oldStyle},this.duration),t&&t.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}!function t(e,i){e.forEach(e=>{let s=new axDialog("",e);i&&(s.targetDom.style.zIndex=parseInt(getComputedStyle(i.targetDom).zIndex)+1),t(s.targetDom.querySelectorAll("[axDialog]"),s)})}(document.querySelectorAll("[axDialog]"));
/*!
* 插件：气泡定位；使用方法：new axPopupPosition(btnDom, boxDom,{参数})
*/
class axPopupPosition{constructor(t,e,i){if(!t||!e)return!1;this.btnDom=axIdToDom(t),this.boxDom=axIdToDom(e),this.options=axExtend({placement:"top",arrowShow:!0,arrowOffset:"2.8rem",gap:".8rem",observer:document.body,onInit:"",onUpdated:""},i),this.handlers={},this.gap=this.strToNum(this.options.gap),this.observer=axIdToDom(this.options.observer),this.placement=this.options.placement,this.init()}init(){return"center"!==this.placement&&this.createArrow(),this.setAttribute(),this.resetPlacement(),window.addEventListener("resize",()=>{this.resetPlacement()}),window.addEventListener("scroll",()=>{this.resetPlacement()}),new MutationObserver(()=>{!this.unsettable("btn")&&this.btnData&&(axOffset(this.btnDom).left===this.btnData.left&&axOffset(this.btnDom).top===this.btnData.top||this.resetPlacement())}).observe(this.observer,{childList:!0,subtree:!0,characterData:!0}),this.options.onInit&&this.options.onInit.call(this,this.placement),this}strToNum(t){if(!t)return 0;let e;return e=t.endsWith("rem")||t.endsWith("REM")?10*t.replace("rem","").replace("REM",""):t.endsWith("px")||t.endsWith("PX")?~~t.replace("px","").replace("PX",""):~~t,e}setAttribute(){"absolute"!==getComputedStyle(this.boxDom).position&&(this.boxDom.style.position="absolute")}createArrow(){this.options.arrowShow&&(this.arrow=axAddElem("i",{style:"position:absolute",arrow:""}),this.boxDom.appendChild(this.arrow))}setArrow(t){let e=this.btnData.width>this.boxData.width/2,i=this.btnData.height>this.boxData.height/2,s=this.strToNum(getComputedStyle(this.arrow).width)/2;this.boxDom.setAttribute("placement",t),t.includes("top")||t.includes("bottom")?t.includes("start")?e?(this.arrow.style.left=this.options.arrowOffset,this.arrow.style.right="auto"):(this.arrow.style.left=Math.floor(this.btnData.width/2-s)+"px",this.arrow.style.right="auto"):t.includes("end")?e?(this.arrow.style.left="auto",this.arrow.style.right=this.options.arrowOffset):(this.arrow.style.left="auto",this.arrow.style.right=Math.floor(this.btnData.width/2-s)+"px"):this.arrow.style.left=this.boxData.width/2-1-s+"px":(t.includes("left")||t.includes("right"))&&(t.includes("start")?i?(this.arrow.style.top=this.options.arrowOffset,this.arrow.style.bottom="auto"):(this.arrow.style.top=Math.floor(this.btnData.height/2-s)+"px",this.arrow.style.bottom="auto"):t.includes("end")?i?(this.arrow.style.top="auto",this.arrow.style.bottom=this.options.arrowOffset):(this.arrow.style.top="auto",this.arrow.style.bottom=Math.floor(this.btnData.height/2-s)+"px"):this.arrow.style.top=this.boxData.height/2-1-s+"px")}getRectData(){this.browserData={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},this.btnData={width:this.btnDom.getBoundingClientRect().width,height:this.btnDom.getBoundingClientRect().height,offsetLeft:this.btnDom.getBoundingClientRect().left,offsetLeftAlt:this.btnDom.getBoundingClientRect().right,offsetRight:this.browserData.width-this.btnDom.getBoundingClientRect().right,offsetTop:this.btnDom.getBoundingClientRect().top,offsetTopAlt:this.btnDom.getBoundingClientRect().bottom,offsetBottom:this.browserData.height-this.btnDom.getBoundingClientRect().bottom,...axOffset(this.btnDom)},this.boxData={width:this.boxDom.getBoundingClientRect().width,height:this.boxDom.getBoundingClientRect().height,offsetLeft:this.boxDom.getBoundingClientRect().left,offsetLeftAlt:this.boxDom.getBoundingClientRect().right,offsetRight:this.browserData.width-this.boxDom.getBoundingClientRect().right,offsetTop:this.boxDom.getBoundingClientRect().top,offsetTopAlt:this.boxDom.getBoundingClientRect().bottom,offsetBottom:this.browserData.height-this.boxDom.getBoundingClientRect().bottom}}setPlacement(t){let[e,i,s,a]=["auto","auto","auto","auto"];t.includes("bottom")?("bottom"===t?e=this.btnData.left-(this.boxData.width-this.btnData.width)/2:"bottom-start"===t?e=this.btnData.left:"bottom-end"===t&&(e=this.btnData.left+this.btnData.width-this.boxData.width),s=`${Math.ceil(this.btnData.top+this.btnData.height+this.gap)}px`,e=`${Math.ceil(e)}px`):t.includes("top")?("top"===t?e=this.btnData.left-(this.boxData.width-this.btnData.width)/2:"top-start"===t?e=this.btnData.left:"top-end"===t&&(e=this.btnData.left+this.btnData.width-this.boxData.width),a=this.browserData.height-this.btnData.top+this.gap,a=`${Math.ceil(a)}px`,e=`${Math.ceil(e)}px`):t.includes("left")?("left"===t?s=`${Math.ceil(this.btnData.top-(this.boxData.height-this.btnData.height)/2)}px`:"left-start"===t?s=`${Math.ceil(this.btnData.top)}px`:"left-end"===t&&(a=`${Math.ceil(this.browserData.height-this.btnData.top-this.btnData.height)}px`),i=`${Math.ceil(this.browserData.width-this.btnData.left+this.gap)}px`):t.includes("right")?("right"===t?s=`${Math.ceil(this.btnData.top-(this.boxData.height-this.btnData.height)/2)}px`:"right-start"===t?s=`${Math.ceil(this.btnData.top)}px`:"right-end"===t&&(a=`${Math.ceil(this.browserData.height-this.btnData.top-this.btnData.height)}px`),e=`${Math.ceil(this.btnData.left+this.btnData.width+this.gap)}px`):"center"===t&&(this.boxDom.style.position="fixed",this.boxDom.style.marginLeft=`-${Math.ceil(this.boxData.width/2)}px`,this.boxDom.style.marginTop=`-${Math.ceil(this.boxData.height/2)}px`,e="50%",s="50%"),this.boxDom.style.left=e,this.boxDom.style.right=i,this.boxDom.style.top=s,this.boxDom.style.bottom=a,this.arrow&&this.setArrow(t)}getRectOffset(){let t=this.btnData.offsetLeft-this.boxData.width-this.gap,e=this.btnData.offsetTop-this.boxData.height-this.gap,i=this.browserData.width-this.btnData.offsetLeftAlt-this.boxData.width-this.gap,s=this.browserData.height-this.btnData.offsetTopAlt-this.boxData.height-this.gap,a=this.btnData.offsetTop,o=this.browserData.height-(a+this.boxData.height),n=this.btnData.offsetTop-(this.boxData.height-this.btnData.height)/2,r=this.browserData.height-(n+this.boxData.height),l=this.btnData.offsetTopAlt-this.boxData.height,h=this.browserData.height-this.btnData.offsetTopAlt,d=this.btnData.offsetLeft,c=this.browserData.width-(d+this.boxData.width),p=this.btnData.offsetLeft-(this.boxData.width-this.btnData.width)/2;return{left:t,right:i,top:e,bottom:s,startTop:a,startBottom:o,centerTop:n,centerBottom:r,endTop:l,endBottom:h,startLeft:d,startRight:c,centerLeft:p,centerRight:this.browserData.width-(p+this.boxData.width),endLeft:this.btnData.offsetLeftAlt-this.boxData.width,endRight:this.browserData.width-this.btnData.offsetLeftAlt}}edgeResponse(t,e){let i;return 1===e.length?i="center"===e[0].name?t:`${t}-${e[0].name}`:2===e.length?("top"!==t&&"bottom"!==t||(i=this.btnData.offsetLeft===this.boxData.offsetLeft&&this.boxData.offsetLeft<this.boxData.offsetRight?`${t}-start`:(this.btnData.offsetLeftAlt===this.boxData.offsetLeftAlt&&(this.boxData.offsetLeft,this.boxData.offsetRight),`${t}-end`)),"left"!==t&&"right"!==t||(i=this.btnData.offsetTop===this.boxData.offsetTop&&this.boxData.offsetTop<this.boxData.offsetBottom?`${t}-start`:this.btnData.offsetTopAlt===this.boxData.offsetTopAlt&&this.boxData.offsetTop>this.boxData.offsetBottom?`${t}-end`:t)):i=3===e.length?this.options.placement:this.placement,i}fixPlacement(){let t=this.getRectOffset(),e=this.options.placement,i=this.placement,s=[{name:"start",left:t.startLeft,right:t.startRight},{name:"center",left:t.centerLeft,right:t.centerRight},{name:"end",left:t.endLeft,right:t.endRight}].filter(t=>t.left>=0&&t.right>=0),a=[{name:"start",top:t.startTop,bottom:t.startBottom},{name:"center",top:t.centerTop,bottom:t.centerBottom},{name:"end",top:t.endTop,bottom:t.endBottom}].filter(t=>t.top>=0&&t.bottom>=0);return e.includes("bottom")?(i=this.edgeResponse("bottom",s),t.bottom<0&&t.top>0&&(i=i.replace("bottom","top"))):e.includes("top")?(i=this.edgeResponse("top",s),t.top<0&&t.bottom>0&&(i=i.replace("top","bottom"))):e.includes("left")?(i=this.edgeResponse("left",a),t.left<0&&t.right>0&&(i=e.replace("left","right"))):e.includes("right")&&(i=this.edgeResponse("right",a),t.right<0&&t.left>0&&(i=e.replace("right","left"))),this.placement=i,i}unsettable(t){let e="btn"===t?this.btnDom:this.boxDom;return axIsVnode(e)||"none"===getComputedStyle(e).display}resetPlacement(){if(this.unsettable())return!1;this.getRectData(),this.fixPlacement(),this.setPlacement(this.placement),this.options.onUpdated&&this.options.onUpdated.call(this,this.placement),"updated"in this.handlers&&this.emit("updated",this.placement)}update(t){return this.resetPlacement(),t&&t.call(this,this.placement),this}change(t,e){return this.btnDom=axIdToDom(t),this.resetPlacement(),e&&e.call(this,this.placement),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}
/*!
* 插件：气泡弹窗；使用方法：new axPopup('#id',{参数})
*/class axPopup{constructor(t,e){return this.options=axExtend({insName:"",title:"",titleBreak:!1,placement:"top",arrow:!0,trigger:"click",pageClose:!0,size:"md",duration:0,in:"fadeIn",out:"fadeOut",multiple:!1,offsetShow:!0,rel:"",triggerRel:"click",theme:"",stay:!1,fixDistance:"2.4rem",name:"",width:"",height:"",padding:"ax-padding",content:"",type:"html",url:"",btnClass:"ax-opened",close:!0,footerShow:!0,footerType:"line",footerBreak:!1,note:"",ajaxType:"post",preventScroll:!0,onInit:"",onShow:"",onShwon:"",onHide:"",onHidden:"",onUpdate:"",onUpdated:"",onUpdateContent:"",onUpdatePosition:"",onDestroy:"",confirm:{text:"确定",classname:"",icon:"",type:"close",url:"",callback:""},cancel:{text:"关闭",classname:"",icon:"",callback:""},diy:{text:"",classname:"",icon:"",url:"",target:"",callback:""}},e,t,this.constructor.name),this.handlers={},this.form=null,this.button=axIdToDom(t),this.shown=!1,this.bound=!1,this.triggerShow=()=>{if("click"===this.options.trigger){if(this.shown)this.hide();else if(this.show(),!this.options.multiple){axInstance.data.filter(t=>"popup"===t.type&&t.instance!==this&&t.instance.isShow).forEach(t=>{t.instance.hide()})}}else"input"===this.options.trigger&&(this.button.value?this.show():this.hide())},this.toggleShow=t=>{let e=!0;for(let i=0;i<this.rel.length;i++)if(!axIsOutside(t,this.rel[i])){e=!1;break}axIsOutside(t,this.targetDom)&&axIsOutside(t,this.button)&&e&&this.shown&&this.hide()},this.init(),this}init(){let t=this;if(axInstance.data.find(t=>t.instance===this)||axInstance.push(this,this.options.insName,"popup"),this.destroyed=!1,this.rel=[],Array.isArray(this.options.rel)?this.rel=this.options.rel:this.rel.push(this.options.rel),this.rel.length>0&&(this.rel=this.rel.filter(Boolean).map(t=>axIdToDom(t)).filter(Boolean)),this.renderDom(),this.setAttribute(),1===this.options.content.nodeType)this.content.innerHTML="",this.content.appendChild(this.options.content),this.form=this.content.querySelector("form");else if("form"===this.options.type&&"string"==typeof this.options.content&&"#"===this.options.content.substr(0,1)){if(this.form=document.querySelector(this.options.content).querySelector("form"),!this.form)return console.error("Form node is required!"),!1;this.content.innerHTML="",this.content.appendChild(this.form)}else{let e=axCreateContent(this.options,this,this.options.ajaxType,(function(){t.options.preventScroll&&axPreventScroll(t.wrapper,t.body)}));this.content.innerHTML=e.content,this.contentXhr=e.xhr,this.form=this.content.querySelector("form")}return this.footer.innerHTML=axFooterBtns(this.options,this),this.createPopup(),this.targetDom.querySelectorAll("[confirm]").forEach(e=>{e.onclick=function(e){let i=this;if("submit"===t.options.confirm.type){if(!t.form||"form"!==t.options.type)return console.error("Form node is required and type of options must be form string!"),!1;axValidRepeat(e,axValids,t.form,(function(){t.form.submit()})),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,"")}else if("async"===t.options.confirm.type){if(!t.form||"form"!==t.options.type||!t.options.confirm.url)return console.error("Form node is required & type of options must be form string & url of async is required!"),!1;axValidRepeat(e,axValids,t.form,(function(){t.submitXhr=axAjaxSubmit(t.options.confirm.url,t.form,i,t.options.ajaxType,(function(e){t.options.confirm.callback&&t.options.confirm.callback.call(t,i,e)}))}))}else"prevent"===t.options.confirm.type?(axPreventDefault(e),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,"")):(t.hide(),t.options.confirm.callback&&t.options.confirm.callback.call(t,i,""))}}),this.targetDom.querySelectorAll("[diy]").forEach(e=>{e.onclick=function(){t.options.diy.callback&&t.options.diy.callback.call(t,e)}}),this.targetDom.querySelectorAll("[cancel]").forEach(e=>{e.onclick=function(){t.hide(),t.options.cancel.callback&&t.options.cancel.callback.call(t,e)}}),this.targetDom.querySelectorAll("[close]").forEach(e=>{e.addEventListener("click",()=>{t.hide()},!1)}),this.showEvent(),this.options.onInit&&this.options.onInit.call(this),this}createTemplate(){return`\n                            <div class="ax-popup" id="popup${(new Date).getTime()}">\n                                <div class="ax-popup-wrapper">\n                                    <# if(this.close){ #><i close></i><# } #>\n                                    <# if(this.title){ #><div class="ax-popup-header"><# this.title #></div><# } #>\n                                    <# if(this.titleBreak){ #><div class="ax-break-line"></div><# } #>\n                                    <div class="ax-popup-body">\n                                        <# if(typeof this.padding === 'string'){ #><div class="<# this.padding #>"> <# }else if(this.padding){ #><div class="ax-padding"> <# } #>\n                                        <# this.media #>\n                                        <div class="ax-popup-content"><# this.content #></div>\n                                        <# if(this.padding){ #></div><# } #>\n                                    </div>\n                                    <div class="ax-popup-footer">\n                                    </div>\n                                </div>\n                            </div>\n                            `}renderDom(){this.template=axTplEngine(this.createTemplate(),this.options),this.targetDom=axStrToDom(this.template),this.wrapper=this.targetDom.querySelector(".ax-popup-wrapper"),this.content=this.targetDom.querySelector(".ax-popup-content"),this.body=this.targetDom.querySelector(".ax-popup-body"),this.targetDom.querySelector(".ax-popup-header")&&(this.header=this.targetDom.querySelector(".ax-popup-header")),this.footer=this.targetDom.querySelector(".ax-popup-footer")}setAttribute(){this.options.size&&this.targetDom.setAttribute("data-size",this.options.size),this.options.type&&this.targetDom.setAttribute("data-type",this.options.type),this.options.footerType&&this.targetDom.setAttribute("data-footerType",this.options.footerType),this.options.height&&(this.content.style.height=this.options.height),this.options.theme&&this.targetDom.setAttribute("data-theme",this.options.theme)}createPopup(){let t;t="center"===this.options.placement||axIsMobi()?"center":this.options.placement,this.popupPosition=new axPopupPosition(this.button,this.targetDom,{placement:t,arrowShow:this.options.arrow,gap:this.options.arrow?".8rem":".4rem",arrowOffset:this.options.fixDistance}),this.oldStyle=this.options.width?`width:${this.options.width};`:""}showEvent(){let t=this;"click"===this.options.trigger||"input"===this.options.trigger?(!this.bound&&this.button.addEventListener(this.options.trigger,this.triggerShow,!1),this.rel.length>0&&this.rel.forEach(t=>{!this.bound&&t.addEventListener(this.options.triggerRel||this.options.trigger,this.triggerShow,!1)})):"hover"===this.options.trigger?this.hover=new axHover(t.button,{enter:()=>{t.show()},leave:()=>{t.hide()},hold:t.targetDom}):"sticky"===this.options.trigger&&this.show(),this.options.pageClose&&!t.options.multiple&&!this.bound&&document.addEventListener("click",this.toggleShow,!1),this.bound=!0}update(t,e){if(this.destroyed)return this;this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update","");let i=axClone(this.options),s=axExtend(this.options,t),a=!1;return t&&JSON.stringify(s)!=JSON.stringify(i)&&(this.options=s,this.targetDom.remove(),this.popupPosition="",this.shown?this.init().show():this.init(),a=!0),e&&e.call(this,a,i,s),this.options.onUpdated&&this.options.onUpdated.call(this,a,i,s),"updated"in this.handlers&&this.emit("updated",a,i,s),this}updateContent(t,e){if(this.destroyed)return this;this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update","");let i=this.content.innerHTML,s=!1;return"String"===axType(t)?axStrType(t)?this.content.innerHTML=axIdToDom(t)?axIdToDom(t).innerHTML:"":this.content.innerHTML=t:axType(t).includes("HTML")?(this.content.innerHTML="",this.content.appendChild(t)):this.content.innerHTML="No data to update!",s=this.content.innerHTML!=i,e&&e.call(this,s,i,this.content.innerHTML),this.options.onUpdateContent&&this.options.onUpdateContent.call(this,s,i,this.content.innerHTML),"updateContent"in this.handlers&&this.emit("updateContent",s,i,this.content.innerHTML),this}updatePosition(t,e){if(this.destroyed)return this;this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update","");let i=axIdToDom(t);return this.popupPosition.change(i,t=>{this.options.onUpdatePosition&&this.options.onUpdatePosition.call(this,t),"updatePosition"in this.handlers&&this.emit("updatePosition",t)}),e&&e.call(this),this}show(t){return this.destroyed||this.shown?this:(getComputedStyle(this.targetDom).display||document.body.appendChild(this.targetDom),this.options.preventScroll&&axPreventScroll(this.wrapper,this.body),this.wrapperHeight=axArrHeight(this.wrapper).height,this.options.duration?this.duration=this.options.duration:this.wrapperHeight?this.duration=Math.floor(this.wrapperHeight/3+250):this.duration=1e3*parseFloat(axStyle(this.targetDom).animationDuration),this.popupPosition.update(),this.options.onShow&&this.options.onShow.call(this),"show"in this.handlers&&this.emit("show",""),this.targetDom.classList.add("ax-show"),this.button&&this.button.classList.add(this.options.btnClass),"slideDown"===this.options.in?axHeightDown(this.wrapper,{height:this.wrapperHeight},"",this.duration):(this.options.duration&&(this.targetDom.style.animationDuration=`${this.options.duration}ms`),this.options.in&&(this.targetDom.style.animationName=this.options.in)),this.targetDom.style.cssText+=`;${this.oldStyle}`,this.shown=!0,this.hover&&(this.hover.isActive=!0),setTimeout(()=>{this.options.onShown&&this.options.onShown.call(this),"shown"in this.handlers&&this.emit("shown","")},this.duration),t&&t.call(this),this)}hide(t){return this.destroyed||!this.shown?this:(this.options.stay||(this.options.onHide&&this.options.onHide.call(this),"hide"in this.handlers&&this.emit("hide",""),this.button&&this.button.classList.remove(this.options.btnClass),"slideUp"===this.options.out?axHeightUp(this.wrapper,{height:this.wrapperHeight},"",this.duration):this.options.out&&(this.targetDom.style.animationName=this.options.out),this.targetDom.style.cssText+=`;${this.oldStyle}`,this.targetDom.querySelectorAll("video,audio").forEach(t=>{t.pause()}),this.shown=!1,this.hover&&(this.hover.isActive=!1),setTimeout(()=>{this.targetDom.classList.remove("ax-show"),this.targetDom.remove(),this.options.onHidden&&this.options.onHidden.call(this),"hidden"in this.handlers&&this.emit("hidden",""),"slideUp"===this.options.out&&(this.wrapper.style.height="auto")},this.duration),t&&t.call(this)),this)}destroy(t){return this.targetDom.remove(),this.popupPosition=null,this.hover=null,this.button.removeEventListener(this.options.trigger,this.triggerShow),this.rel.forEach(t=>{t.removeEventListener(this.options.triggerRel||this.options.trigger,this.triggerShow)}),this.toggleShow&&document.removeEventListener("click",this.toggleShow),this.bound=!1,this.contentXhr&&this.contentXhr.abort(),this.submitXhr&&this.submitXhr.abort(),this.options.onDestroy&&this.options.onDestroy.call(this),"destroy"in this.handlers&&this.emit("destroy",""),this.destroyed=!0,t&&t.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}!function t(e,i){e.forEach(e=>{let s=new axPopup(e,"");i&&(s.targetDom.style.zIndex=parseInt(getComputedStyle(i.targetDom).zIndex)+1),t(s.targetDom.querySelectorAll("[axPopup]"),s)})}(document.querySelectorAll("[axPopup]"));
/*!
 * 插件：小窗文字提示；使用方法：axTooltip('#id',{参数})
 */
class axTooltip{constructor(t,e){this.button=axIdToDom(t),this.options=axExtend({placement:"top",arrow:!0,trigger:"hover",size:"",multiple:!0,theme:"dark",content:""},e,this.button,"axTooltip"),this.init()}init(){let t=this.button.getAttribute("axTooltip");!this.options.content&&t&&!t.includes(":")&&(this.options.content=t);let e=Object.assign({type:"html",close:!1,footerShow:!1,padding:!1},this.options);this.popup=new axPopup(this.button,e),this.content=this.popup.content,this.setAttribute()}setAttribute(){this.popup.targetDom.classList.add("ax-tooltip"),this.options.theme&&this.popup.targetDom.setAttribute("theme",this.options.theme)}updateContent(t,e){return this.content.innerHTML=t,e&&e.call(this,update,before,this.content.innerHTML,this.options.content),"updated"in this.handlers&&this.emit("updated",""),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axTooltip]").forEach(t=>{new axTooltip(t)});
/*!
 * 插件：文件上传；使用方法：new axUpload('#id',{参数})
 */
class axUpload{constructor(t,e){this.targetDom=t?axIdToDom(t):"",this.options=axExtend({type:"beautify",accept:"jpg,jpeg,gif,png,svg,doc,docx,xls,xlsx,txt,mp4,mp3,pdf",mime:"",multiple:!0,name:"",separator:",",columns:0,min:0,max:0,size:0,url:"",fileType:[],action:"auto",tipsShow:!0,summaryShow:!1,cloud:"",pastable:{before:"请点击使用ctrl+v粘贴上传",ing:"使用ctrl+v粘贴进来",after:"ctrl+v粘贴上传成功"},icons:{file:"ax-iconfont ax-icon-file-text",attach:"ax-iconfont ax-icon-attach",image:"ax-iconfont ax-icon-image",video:"ax-iconfont ax-icon-video",audio:"ax-iconfont ax-icon-music"},beautify:{placeholder:"请选择文件...",text:"选择文件",className:"ax-file",display:"",callback:""},message:{passed:"通过文件校验!",exceeded:"超过了文件数量限制!",tooLarge:"文件体积太大了!",errorSuffix:"不支持该文件格式!",success:"上传成功!",failed:"提交地址可能错误!"},chooseBtn:{icon:'<i class="ax-iconfont ax-icon-plus"></i>',text:"选择文件",className:"",props:{},show:!0},uploadBtn:{icon:'<i class="ax-iconfont ax-icon-upload"></i>',text:"立即上传",className:"",props:{},show:!1},clearBtn:{icon:'<i class="ax-iconfont ax-icon-trash"></i>',text:"删除全部",className:"",props:{},show:!1},cubeBtn:{icon:'<i class="ax-iconfont ax-icon-plus-t"></i>',text:"",className:"",props:{},show:!0},boxBtn:{icon:'<i class="ax-iconfont ax-icon-addpic"></i>',text:"点击或拖拽上传",className:"",props:{},show:!0},onBeforeUpload:"",onUploaded:"",onError:"",onChange:"",onRemove:"",onBeforeRemove:"",onClear:"",onBeforeClear:""},e,this.targetDom,"axUpload"),this.name=this.targetDom&&"INPUT"==this.targetDom.nodeName?this.targetDom.getAttribute("name"):this.options.name,this.handlers={},this.sizeLimit=1024*this.options.size*1024;let i=[{name:"image",icon:this.options.icons.image,suffix:["png","jpg","jpeg","bmp","gif","webp","svg","tiff"]},{name:"video",icon:this.options.icons.video,suffix:["mp4","mpeg","avi","wmv","mov","m4v","flv","rmvb","3gp"]},{name:"audio",icon:this.options.icons.audio,suffix:["mp3","wma","m4a","ogg"]}];axIsEmpty(this.options.fileType)?this.fileTypes=[...i]:this.fileTypes=[...this.options.fileType,...i],this.files=[],this.details=[],this.history=[],this.value=[],this.inputValue="",this.summary=axAddElem("div",{summary:""}),this.init()}init(){let t=this;return this.createTips(),this.createButton(),this.createSkeleton(),this.setAttribute(),"beautify"!=this.options.type&&(this.chooseBtn.onclick=()=>{t.inputFile.click()},this.readyUpload(),this)}createTips(){this.tipsText="",this.options.size&&(this.tipsText+=`要求大小不超过${this.options.size}MB,`),this.options.min&&(this.tipsText+=`至少上传${this.options.min}个文件,`),this.options.max&&(this.tipsText+=`最多上传${this.options.max}个文件`),this.tips=axAddElem("div",{tips:""},this.tipsText)}createButton(){"gallery"==this.options.type?this.chooseBtn=axAddElem("div",Object.assign({choose:""},this.options.boxBtn.props),this.options.boxBtn.icon+"<div text>"+this.options.boxBtn.text+"</div>"):"picture"==this.options.type?this.chooseBtn=axAddElem("li",Object.assign(this.options.cubeBtn.className?{class:this.options.cubeBtn.className}:{choose:""},this.options.cubeBtn.props),this.options.cubeBtn.icon+this.options.cubeBtn.text):this.chooseBtn=axAddElem("a",Object.assign({href:"###",class:this.options.chooseBtn.className?"ax-btn "+this.options.chooseBtn.className:"ax-btn",choose:""},this.options.chooseBtn.props),this.options.chooseBtn.icon+this.options.chooseBtn.text)}createSkeleton(){if(this.targetDom?"INPUT"==this.targetDom.nodeName&&"file"==this.targetDom.type?(this.inputFile=this.targetDom,this.inputFile.name&&this.inputFile.setAttribute("name",this.name),this.parent=axAddElem("div",{class:"ax-upload"}),this.inputFile.insertAdjacentElement("beforeBegin",this.parent)):"INPUT"!=this.targetDom.nodeName||"hidden"!=this.targetDom.type&&"text"!=this.targetDom.type?(this.parent=this.targetDom,this.inputFile=axAddElem("input",{type:"file"}),this.inputText=axAddElem("input",{type:"hidden",readonly:"",name:this.name}),this.options.multiple&&this.inputFile.setAttribute("multiple","")):(this.inputText=this.targetDom,this.inputText.name&&this.inputText.setAttribute("name",this.name),this.inputText.setAttribute("readonly",""),this.inputFile=axAddElem("input",{type:"file"}),this.parent=axAddElem("div",{class:"ax-upload"}),this.inputText.insertAdjacentElement("beforeBegin",this.parent),this.options.multiple&&this.inputFile.setAttribute("multiple","")):(this.parent=axAddElem("div",{class:"ax-upload"}),this.inputFile=axAddElem("input",{type:"file"}),this.options.multiple&&this.inputFile.setAttribute("multiple",""),this.inputText=axAddElem("input",{type:"hidden",readonly:"",name:this.options.name})),this.options.mime&&this.inputFile.setAttribute("accept",this.options.mime),this.parent.appendChild(this.inputFile),"beautify"==this.options.type)this.parent.appendChild(this.inputFile),this.parent.dataset.placeholder=this.options.beautify.placeholder,this.parent.dataset.text=this.options.beautify.text,this.parent.classList.add(this.options.beautify.className),this.fileChange(this.parent,this.inputFile);else{this.list=axAddElem("ul"),this.parent.appendChild(this.list),this.parent.appendChild(this.inputText);let t=axAddElem("div",{info:""}),e=axAddElem("div",{footer:""},t);if(this.options.tipsShow&&this.tipsText&&(t.appendChild(this.tips),this.parent.setAttribute("withtips","")),this.options.summaryShow&&(t.appendChild(this.summary),this.summary.innerHTML=this.getSummary(),this.parent.setAttribute("withtips","")),"gallery"==this.options.type)this.createCtrlv(),this.parent.appendChild(e),this.parent.insertAdjacentElement("afterBegin",this.chooseBtn),this.list.classList.add("ax-grid","ax-space-xs"),this.options.columns&&this.list.classList.add("ax-grid-"+this.options.columns),this.options.clearBtn.show&&(this.clearBtn=axAddElem("a",Object.assign({href:"###",class:this.options.clearBtn.className?"ax-btn "+this.options.clearBtn.className:"ax-btn",clear:""},this.options.clearBtn.props),this.options.clearBtn.icon+this.options.clearBtn.text),e.appendChild(this.clearBtn),this.parent.setAttribute("withtips","")),this.options.uploadBtn.show&&(this.uploadBtn=axAddElem("a",Object.assign({href:"###",class:this.options.uploadBtn.className?"ax-btn "+this.options.uploadBtn.className:"ax-btn",upload:""},this.options.uploadBtn.props),this.options.uploadBtn.icon+this.options.uploadBtn.text),e.appendChild(this.uploadBtn),this.parent.setAttribute("withtips",""));else if("picture"==this.options.type)this.parent.appendChild(e),this.list.appendChild(this.chooseBtn),this.options.clearBtn.show&&(this.clearBtn=axAddElem("li",Object.assign({class:this.options.clearBtn.className,clear:""},this.options.clearBtn.props),this.options.clearBtn.icon+this.options.clearBtn.text),this.chooseBtn.insertAdjacentElement("afterEnd",this.clearBtn)),this.options.uploadBtn.show&&(this.uploadBtn=axAddElem("li",Object.assign({class:this.options.uploadBtn.className,upload:""},this.options.uploadBtn.props),this.options.uploadBtn.icon+this.options.uploadBtn.text),this.chooseBtn.insertAdjacentElement("afterEnd",this.uploadBtn));else{let t=axAddElem("div",{header:""});this.list.insertAdjacentElement("beforeBegin",e),this.parent.insertAdjacentElement("afterBegin",t),t.appendChild(this.chooseBtn),this.options.uploadBtn.show&&(this.uploadBtn=axAddElem("a",Object.assign({href:"###",class:this.options.uploadBtn.className?"ax-btn "+this.options.uploadBtn.className:"ax-btn",upload:""},this.options.uploadBtn.props),this.options.uploadBtn.icon+this.options.uploadBtn.text),t.appendChild(this.uploadBtn)),this.options.clearBtn.show&&(this.clearBtn=axAddElem("a",Object.assign({href:"###",class:this.options.clearBtn.className?"ax-btn "+this.options.clearBtn.className:"ax-btn",clear:""},this.options.clearBtn.props),this.options.clearBtn.icon+this.options.clearBtn.text),t.appendChild(this.clearBtn))}}}createCtrlv(){this.options.pastable&&(this.ctrlv=axAddElem("i",{ctrlv:""},this.options.pastable.before),this.parent.appendChild(this.ctrlv),this.parent.onclick=()=>{this.ctrlv.innerHTML=this.options.pastable.ing},this.parent.onmouseleave=()=>{this.ctrlv.innerHTML=this.options.pastable.before})}sizeStr(t){let e="";return e=t/1024>=1024?"<i>"+(t/1048576).toFixed(2)+"</i>MB":t/1024>=1?"<i>"+(t/1024).toFixed(2)+"</i>KB":"<i>"+t+"</i>B",e}getSummary(){let t,e=0,i=this.details.length,s=this.details.filter(t=>"uploaded"==t.progress),a=s.length;return s.forEach(t=>{e+=t.file.size}),t=this.sizeStr(e),`提交了<i>${i}</i>个文件,成功上传了<i>${a}</i>个,共${t}`}createItem(t,e){let i="";i="gallery"==this.options.type?`\n            <li valid=${e&&!e.valid?"error":"success"}>\n                <div file>\n                    <div overlay>\n                        <i view class="ax-iconfont ax-icon-zoomin"></i>\n                        <a down href="###" class="ax-iconfont ax-icon-download"></a>\n                        <i remove class="ax-iconfont ax-icon-trash"></i>\n                    </div>\n                    <div track><div bar></div></div>\n                    <i percent></i>\n                    <div message>${e&&!e.valid?e.message:""}</div>\n                </div>\n                <div info>\n                    <div title>${t.name}</div>\n                    <div size>${this.sizeStr(t.size)}</div>\n                    <div url></div>\n                </div>\n            </li>\n            `:"picture"==this.options.type?`\n            <li valid=${e&&!e.valid?"error":"success"}>\n                <div file></div>\n                <div overlay>\n                    <i view class="ax-iconfont ax-icon-zoomin"></i>\n                    <a down href="###" class="ax-iconfont ax-icon-download"></a>\n                    <i remove class="ax-iconfont ax-icon-trash"></i>\n                </div>\n                <div track><div bar></div></div>\n                <i percent></i>\n                <div message>${e&&!e.valid?e.message:""}</div>\n            </li>\n            `:"info"==this.options.type?`\n            <li valid=${e&&!e.valid?"error":"success"}>\n                <a href="###" file></a>\n                <div info>\n                    <a href="###" title>${t.name}</a>\n                </div>\n                <div track><div bar></div></div>\n                <i percent></i>\n                <i message>${e&&!e.valid?e.message:""}</i>\n                <i remove class="ax-iconfont ax-icon-trash"></i>\n            </li>\n            `:`\n            <li valid=${e&&!e.valid?"error":"success"}>\n                <i icon class="${this.options.icons.attach}"></i>\n                <div info>\n                    <a href="###" title>${t.name}</a>\n                </div>\n                <div track><div bar></div></div>\n                <i percent></i>\n                <i message>${e&&!e.valid?e.message:""}</i>\n                <i remove class="ax-iconfont ax-icon-trash"></i>\n            </li>\n            `;let s=axStrToDom(i),a=s.querySelector("[file]");return a&&this.fillHeader(t,a),"picture"==this.options.type?this.chooseBtn.insertAdjacentElement("beforeBegin",s):this.list.appendChild(s),s}fileChange(t,e){let i,s=this,a=t.getAttribute("data-text"),o=t.getAttribute("data-placeholder");a||t.classList.add("ax-simple"),e.classList.contains("ax-xs")?t.classList.add("ax-xs"):e.classList.contains("ax-sm")?t.classList.add("ax-sm"):e.classList.contains("ax-lg")&&t.classList.add("ax-lg"),this.options.beautify.display&&(i=axIdToDom(this.options.beautify.display)),e.addEventListener("change",(function(){t.classList.add("ax-active"),t.setAttribute("data-placeholder",this.value.replace(/.*(\/|\\)/,"")),this.value||(t.setAttribute("data-placeholder",o),t.classList.remove("ax-active")),[...this.files].length>0&&([...this.files].forEach(t=>{s.value.push({name:t.name,size:t.size,time:t.lastModified,url:""})}),i&&(i.innerHTML="",[...this.files].forEach(t=>{t.type.startsWith("image")&&s.readFile(t,t=>{i.appendChild(axAddElem("img",{src:t}))})}))),s.options.beautify.callback&&s.options.beautify.callback.call(s,this.files),s.options.onChange&&s.options.onChange.call(s,this.files),"changed"in s.handlers&&s.emit("changed",this.files),s.options.onChanged&&s.options.onChanged.call(s,this.files)}),!1),e.onfocus=()=>{t.classList.add("ax-focus")},e.onblur=()=>{t.classList.remove("ax-focus")}}setAttribute(){this.options.type&&this.parent.setAttribute("type",this.options.type),this.options.pastable&&this.parent.setAttribute("pastable",""),this.parent.setAttribute("state","ready")}readyUpload(){this.inputFile.addEventListener("change",()=>{let t=[...this.inputFile.files];this.renderList(t),this.inputFile.value="","changed"in this.handlers&&this.emit("changed",t),this.options.changed&&this.options.changed.call(this,t)},!1),this.options.pastable&&this.parent.addEventListener("paste",t=>{let e=t.clipboardData?t.clipboardData:window.clipboardData;if(e){let t=e.items[0];t&&"file"===t.kind&&t.type.includes("image")&&(this.renderList([t.getAsFile()]),this.ctrlv&&(this.ctrlv.innerHTML=this.options.pastable.after)),"pasted"in this.handlers&&this.emit("pasted",t)}},!1),this.parent.addEventListener("dragleave",t=>{t.preventDefault(),this.parent.removeAttribute("drag")}),this.parent.addEventListener("dragover",t=>{t.preventDefault()}),this.parent.addEventListener("dragenter",t=>{t.preventDefault(),this.parent.setAttribute("drag","")}),this.parent.addEventListener("drop",t=>{t.preventDefault(),this.parent.removeAttribute("drag");let e=t.dataTransfer.items;for(let t=0;t<e.length;t++){let i=e[t];if("file"===i.kind){let t=i.webkitGetAsEntry();this.getEntries(t)}}"dropped"in this.handlers&&this.emit("dropped",e)},!1),this.clearBtn&&(this.clearBtn.onclick=()=>{if(0==this.details.length)return!1;this.options.onBeforeClear?this.options.onBeforeClear.call(this):this.clear.call(this)})}renderItem(t){let e,i=this.fileValid(t),s={file:t,state:i};i.valid?(this.files.push(t),e=this.createItem(t)):e=this.createItem(t,i),((t,e)=>{t.dom=e,t.progress="rendered",e.setAttribute("progress","rendered")})(s,e),this.details.push(s);let a=e.querySelector("[remove]");return a&&(a.onclick=()=>{this.options.onBeforeRemove?this.options.onBeforeRemove.call(this,s):this.remove(s.file)}),"rendered"in this.handlers&&this.emit("rendered",s),e}getEntries(t){if(t.isFile)t.file(t=>this.renderList([t]));else{t.createReader().readEntries(t=>{t.forEach(t=>this.getEntries(t))})}}renderList(t,e){if(0==t.length)return!1;for(let e=0,i=t.length;e<i;e++){let i=t[e];if(0==this.history.length)this.history.push(i),this.renderItem(i);else{if(!this.history.every(t=>t.name!=i.name&&t.size!=i.size))continue;this.history.push(i),this.renderItem(i)}}"auto"==this.options.action?this.upload():this.uploadBtn&&(this.uploadBtn.onclick=()=>{this.upload()}),this.parent.setAttribute("state","processing"),e&&e.call(this)}upload(t){if(!this.options.url)return console.error("The url is required!"),!1;let e=this.globalValid();if(!e.valid)return new axMessage({content:e.message,result:"error"}),!1;let i=this.getUploadingFiles();if(this.options.onBeforeUpload&&!this.options.onBeforeUpload.call(this,i))return!1;i.forEach(t=>{this.uploadFile(t)}),"uploading"in this.handlers&&this.emit("uploading",""),t&&t.call(this)}getUploadingFiles(){return this.details.filter(t=>t.state.valid&&"uploaded"!=t.progress)}activeOperate(t,e,i,s){e.setAttribute("valid","success"),e.setAttribute("progress","uploaded"),e.querySelector("[state]")||e.querySelector("[percent]").insertAdjacentHTML("afterend",'<i state class="ax-iconfont ax-icon-check"></i>'),this.options.cloud&&(i=this.options.cloud.server+i);let a=e.querySelector("[down]"),o=e.querySelector("[view]");if(a&&(this.options.cloud?a.onclick=()=>{this.downloadFile(i,t.name)}:(a.setAttribute("download",""),a.setAttribute("href",i))),o){let e={media:i,caption:s,type:""};"image"==this.h5Type(t)?e.type="image":"video"==this.h5Type(t)?e.type="video":"audio"==this.h5Type(t)&&(e.type="audio"),e.type&&(o.onclick=function(){new axLightbox({src:e}).init().show()})}if("text"==this.options.type||"info"==this.options.type){let t=e.querySelector("[title]"),s=e.querySelector("[file]");t.setAttribute("href",i),t.setAttribute("target","_blank"),s&&(s.setAttribute("href",i),s.setAttribute("target","_blank"))}}downloadFile(t,e){let i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){let t=window.URL.createObjectURL(i.response),s=axAddElem("a");s.href=t,s.download=e,s.click()},i.send()}uploadFile(t){let e=this,i=new FormData,a=t.file,o=t.dom,n=t.state.valid,r=(t,e,i,s)=>{t?this.activeOperate(a,s,e,a.name):(s.setAttribute("valid","error"),s.querySelector("[message]").innerText=i),this.options.summaryShow&&(this.summary.innerHTML=this.getSummary())};if(!n||"uploaded"==t.progress)return!1;if(t.progress="uploading",o.setAttribute("progress","uploading"),this.options.cloud){i.append(this.options.cloud.field?this.options.cloud.field:"file",a);for(let t in this.options.cloud.append)i.append(t,this.options.cloud.append[t])}else i.append(this.name?this.name:"file",a);axAjax({url:this.options.url,data:i,uploading(i,s){o.querySelector("[percent]").innerText=i,o.querySelector("[bar]").style.width=i,"completed"in e.handlers&&e.emit("completed",t),s>=100&&(o.setAttribute("completed",""),t.completed=!0,"completed"in e.handlers&&e.emit("completed",t),e.details.every(t=>t.state.valid&&t.completed&&1==t.completed)&&"allCompleted"in e.handlers&&e.emit("allCompleted",""))},success:i=>{let n,l="",h="",d=0,c=0,p=(t,e)=>{if(s,!e)return"";if(!e.includes("."))return t[e];let i,a=e.split(".");return i=1==a.length?t[a[0]]:2==a.length?t[a[0]][a[1]]:"",i};if(this.options.cloud){let t=this.options.cloud.keys;h=p(i,t.url),d=p(i,t.size),c=p(i,t.time),l=p(i,t.message),n=this.options.cloud.code==i.code}else h=i.url,d=a.size,c=i.time,l=i.message,n=!0===i.valid;t.state.valid=n,t.state.time=c,t.state.url=h,t.state.message=l,n?(e.value.push({name:a.name,url:h,size:d,time:c}),e.valueToValue(e.value),t.progress="uploaded","uploaded"in e.handlers&&e.emit("uploaded",t),e.options.onUploaded&&e.options.onUploaded.call(e,t),e.details.every(t=>t.state.valid&&"uploaded"==t.progress)&&"allUploaded"in e.handlers&&e.emit("allUploaded","")):(e.files=e.files.filter(t=>t!=a),"error"in e.handlers&&e.emit("error",t),e.options.onError&&e.options.onError.call(e,t)),r(n,h,l,o)},error:()=>{r(!1,"",this.options.message.failed,o)}})}valueToValue(t){let e=[];t.forEach(t=>{e.push(t.url)}),this.inputValue=e.join(this.options.separator),this.inputText&&(this.inputText.value=this.inputValue,this.inputText.onchange&&this.inputText.onchange())}getSuffix(t){return t.name.substring(t.name.lastIndexOf(".")+1)}h5Type(t){let e;return t.type.startsWith("image")?e="image":["mp4","ogg","webm"].includes(this.getSuffix(t))?e="video":["mp3","ogg","wav"].includes(this.getSuffix(t))&&(e="audio"),e}readFile(t,e){let i=new FileReader;i.readAsDataURL(t),i.onload=t=>{e(t.target.result)}}fillHeader(t,e){let i,s=this.h5Type(t),a=this.fileTypes.filter(e=>e.suffix.includes(this.getSuffix(t)))[0];"image"==s?this.readFile(t,t=>{i=axAddElem("img",{src:t}),e.appendChild(i)}):"video"==s?this.readFile(t,t=>{i=axAddElem("video",{src:t,controls:""}),e.appendChild(i)}):"audio"==s?this.readFile(t,t=>{i=axAddElem("audio",{src:t,controls:""}),e.appendChild(i)}):(i=axAddElem("i",{class:a?a.icon:this.options.icons.file,icon:""}),e.appendChild(i))}fileValid(t){let e=this.options.message.passed,i=!0,s=this.getSuffix(t);return this.history.length>this.options.max&&this.options.max?(e=this.options.message.exceeded,i=!1):this.history.length<this.options.min&&this.options.min?(e=this.options.message.exceeded,i=!1):this.sizeLimit&&t.size>this.sizeLimit?(e=this.options.message.tooLarge,i=!1):this.options.accept.includes(s)||(e=this.options.message.errorSuffix,i=!1),{valid:i,message:e}}globalValid(){let t=this.options.message.passed,e=!0;return this.history.length<this.options.min?(t=`请至少上传${this.options.min}个文件!`,e=!1):this.history.length<this.options.min&&(t=`最多只能上传${this.options.max}个文件!`,e=!1),{valid:e,message:t}}remove(t,e){this.history=this.history.filter(e=>e!=t),this.files=this.files.filter(e=>e!=t);let i=this.details.find(e=>e.file==t),s=t.name,a=t.size,o=i.state.url,n=i.state.time;i.dom.remove(),this.details=this.details.filter(e=>e.file!=t),0==this.details.length&&this.parent.setAttribute("state","ready"),this.value=this.value.filter(t=>t.time!=n),this.valueToValue(this.value),this.options.summaryShow&&(this.summary.innerHTML=this.getSummary()),this.options.onRemove&&this.options.onRemove.call(this,o,s,a),"remove"in this.handlers&&this.emit("remove",o,s,a),e&&e.call(this,o,s,a)}clear(t){return this.details.forEach(t=>{t.dom.remove()}),this.details=[],this.history=[],this.files=[],this.value=[],this.valueToValue(this.value),this.parent.setAttribute("state","ready"),this.options.summaryShow&&(this.summary.innerHTML=this.getSummary()),this.options.onClear&&this.options.onClear.call(this),"clear"in this.handlers&&this.emit("clear",""),t&&t.call(this),this}getUrlFile(t,e,i){axAjax({url:t,type:"get",responseType:"blob",headers:{Accept:""},success:t=>{let s=new File([t],e,{type:t.type});i&&i(s)}})}show(t){let e=[];if("string"==typeof t){t.trim().split(",").forEach(t=>{let i={url:t,name:t};e.push(i)})}else Array.isArray(t)&&"string"==typeof t[0]?t.forEach(t=>{let i={url:t,name:t};e.push(i)}):e=t;return 0!=e.length&&(this.parent.setAttribute("state","processing"),e.forEach(t=>{this.getUrlFile(t.url,t.name,e=>{this.history.push(e);let i=this.renderItem(e),s=this.details.find(t=>t.file==e);s.progress="uploaded",s.state.message=this.options.message.success,s.state.url=t.url,s.state.time=t.time||e.lastModified,this.activeOperate(e,i,t.url,t.name||t.url),i.setAttribute("completed",""),this.options.summaryShow&&(this.summary.innerHTML=this.getSummary())})}),this.details.forEach(t=>{let e={name:t.file.name,url:t.state.url,size:t.file.size,time:t.state.time};this.value.push(e)}),this.valueToValue(this.value),this)}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axUpload]").forEach(t=>{new axUpload(t)});
/*!
* 插件：即时消息/警告小窗；使用方法：new axMessage({参数})
*/
const axMessages=[];class axMessage{constructor(t){this.options=axExtend({className:"",placement:"center-top",content:"",result:"info",delay:3e3,progress:!0,title:{warning:"操作警告！",success:"操作成功！",error:"操作失败！",question:"操作疑问！",info:"信息提示！"},close:!1,iconShow:!1,style:"simple",icon:""},t),this.handlers={},this.init()}init(){let t=this;if("simple"!=this.options.style&&this.options.style){if("complex"==this.options.style)switch(this.options.result){case"success":this.options.icon=axIcon.svg.success;break;case"error":this.options.icon=axIcon.svg.error;break;case"question":this.options.icon=axIcon.svg.question;break;case"warning":this.options.icon=axIcon.svg.warning;break;default:this.options.icon=axIcon.svg.info}}else switch(this.options.result){case"success":this.options.icon=axIcon.font.success,!this.options.content&&(this.options.content=this.options.title.success);break;case"error":this.options.icon=axIcon.font.error,!this.options.content&&(this.options.content=this.options.title.error);break;case"question":this.options.icon=axIcon.font.question,!this.options.content&&(this.options.content=this.options.title.question);break;case"warning":this.options.icon=axIcon.font.warning,!this.options.content&&(this.options.content=this.options.title.warning);break;default:this.options.icon=axIcon.font.info,!this.options.content&&(this.options.content=this.options.title.info)}switch("simple"!=this.options.style&&this.options.style?"complex"==this.options.style&&(this.template=axTplEngine('\n            <section data-style="complex">\n                <div class="ax-message-content">\n                    <div class="ax-message-header">\n                    <# if(this.iconShow){ #><span class="ax-message-icon ax-result ax-result-show"><# this.icon #></span><# } #>\n                    <span class="ax-message-title"><# if(this.result == \'success\'){ #> <# this.title.success #> <# }else if(this.result == \'error\'){ #> <# this.title.error #> <# }else if(this.result == \'question\'){#> <# this.title.question #> <# }else if(this.result == \'warning\'){#> <# this.title.warning #> <# } else {#> <# this.title.info #> <# } #></span></div>\n                    <div class="ax-message-body"><# this.content #></div>\n                </div>\n                <# if(this.close){ #><i close></i> <# } #>\n                <# if(this.progress){ #><div class="ax-message-progress" style="transition-duration:<# this.delay #>ms;"></div><# } #>\n            </section>\n            ',this.options)):this.template=axTplEngine('\n            <section data-style="simple">\n                <div class="ax-message-content">\n                    <# if(this.iconShow){ #><span class="ax-message-icon"><# this.icon #></span><# } #>\n                    <div class="ax-message-body"><# this.content #></div>\n                    <# if(this.close){ #><i close></i> <# } #>\n                </div>\n            </section>\n            ',this.options),this.targetDom=axStrToDom(this.template),this.content=this.targetDom.querySelector(".ax-message-body"),this.title=this.targetDom.querySelector(".ax-message-title"),this.close=this.targetDom.querySelector("[close]"),this.progress=this.targetDom.querySelector(".ax-message-progress"),this.options.result){case"success":this.targetDom.setAttribute("data-result","success");break;case"error":this.targetDom.setAttribute("data-result","error");break;case"question":this.targetDom.setAttribute("data-result","question");break;case"warning":this.targetDom.setAttribute("data-result","warning");break;default:this.targetDom.setAttribute("data-result","info")}let e="";switch(e=this.options.className?"":" "+this.options.className,this.options.close&&this.targetDom.setAttribute("data-close","true"),this.content.innerHTML=this.options.content,this.event=i=>{if(-1===JSON.stringify(axMessages).indexOf(i)){let s=axAddElem("div",{class:"ax-message"+e,"data-placement":i});axMessages.push({postion:i,parent:s}),s.appendChild(t.targetDom),document.body.appendChild(s),axSlideDown(t.targetDom,()=>{"shown"in t.handlers&&t.emit("shown","")}),t.options.close?t.close.addEventListener("click",()=>{axSlideUp(t.targetDom,()=>{t.targetDom.remove(),"hidden"in t.handlers&&t.emit("hidden","")})},!1):(t.options.progress&&t.progress&&(t.progress.style.cssText+="width:0;"),setTimeout(()=>{axSlideUp(t.targetDom,()=>{t.targetDom.remove(),"hidden"in t.handlers&&t.emit("hidden","")})},this.options.delay))}else{axMessages.find(t=>t.postion==i).parent.insertAdjacentElement("beforeend",t.targetDom),axSlideDown(t.targetDom,()=>{"shown"in t.handlers&&t.emit("shown","")}),t.options.close?t.close.addEventListener("click",()=>{axSlideUp(t.targetDom,()=>{t.targetDom.remove(),"hidden"in t.handlers&&t.emit("hidden","")})},!1):(t.options.progress&&t.progress&&(t.progress.style.cssText+="width:0;"),setTimeout(()=>{axSlideUp(t.targetDom,()=>{t.targetDom.remove(),"hidden"in t.handlers&&t.emit("hidden","")})},this.options.delay))}},this.options.placement){case"left-top":this.event("left-top");break;case"center-top":this.event("center-top");break;case"right-top":this.event("right-top");break;case"left-center":this.event("left-center");break;case"center-center":this.event("center-center");break;case"right-center":this.event("right-center");break;case"left-bottom":this.event("left-bottom");break;case"center-bottom":this.event("center-bottom");break;case"right-bottom":this.event("right-bottom");break;case"left":this.event("left-top");break;case"top":this.event("center-top");break;case"right":this.event("right-top");break;case"center":this.event("center-center");break;default:this.event("center-top")}return this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}
/*!
 * 插件：折叠菜单；使用方法：new axMenu('#id',{参数})
 */class axMenu{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({insName:"",storageName:"",theme:"light",content:"",dispose:!1,active:"",disabled:"",multiple:!1,collapseAll:!0,ajaxType:"post",trigger:"click",firstFloor:-1,idStart:0,arrowShow:!0,max:0,targetClass:"",addToActive:!0,gapless:!1,lamp:"",full:!1,nav:{enable:!1,headerWidth:"",bodyWidth:"",marginLeft:"",marginRight:"",align:"left"},onInit:"",onAdd:"",onRemove:"",onDisable:"",onEnable:"",onDisableALL:"",onEnableAll:"",onExpand:"",onExpanded:"",onCollapse:"",onCollapsed:"",onUpdate:"",onUpdateContent:"",onDestroy:"",onSave:"",onExpandAll:"",onCollapseAll:""},e,this.targetDom,this.constructor.name);let i=this;this.handlers={},this.triggerShow=function(){i.toggle(this)},this.triggerSelected=t=>{t.headerDom.setAttribute("selected",""),t.selected=!0,this.flatData.filter(e=>e!==t&&e.selected&&!e.children).forEach(t=>{t.headerDom.removeAttribute("selected"),delete t.selected}),i.save()},this.rawHTML="",this.init()}init(){if(axInstance.push(this,this.options.insName,"menu"),this.destroyed=!1,this.flatData=[],this.treeData=[],this.options.storageName){let t=axLocalStorage.get(this.options.storageName);axIsEmpty(t)?axLocalStorage.set(this.options.storageName,{}):this.options=axExtend(this.options,t)}return this.resolveSource(),this}resolveSource(){if(axIsEmpty(this.options.content))this.targetDom.innerHTML&&(this.rawHTML=this.targetDom.innerHTML,this.treeData=this.ulToArr(),this.toTreeWithPathPid(this.treeData),this.processDataFormat(this.treeData));else if(this.targetDom.innerHTML="","String"===axType(this.options.content))axAjax({url:this.options.content,type:this.options.ajaxType,success:t=>{if(axIsEmpty(t))return console.warn("No data obtained from json!"),!1;this.toTreeWithPathPid(t),this.targetDom.innerHTML="",this.arrayToDom(this.treeData),this.processDataFormat(this.treeData)}},this.targetDom);else if("Array"===axType(this.options.content)){if(0===this.options.content.length)return console.warn("Array is empty!"),!1;this.toTreeWithPathPid(this.options.content),this.arrayToDom(this.treeData),this.processDataFormat(this.treeData)}}processDataFormat(t){this.flatData=axArrToFlat(t),this.initParms(),this.renderFinish(),this.options.onInit&&this.options.onInit.call(this),"init"in this.handlers&&this.emit("init","")}initParms(){this.initAttribute(),this.initActive(),this.initDisabled()}toTreeWithPathPid(t){t[0].hasOwnProperty("pId")&&t[0].hasOwnProperty("id")?this.treeData=axArrToTree(t,this.options.firstFloor):this.treeData=axTreeMethod.addPath(t,this.options.firstFloor,this.options.idStart).data}ulToArr(){let t=[],e=this.options.idStart,i=(t,s)=>{let a={},o=t.querySelector("ul");return a.id=s,a.wrapperDom=t,a.headerDom=t.firstElementChild,a.labelDom=a.headerDom.querySelector("[label]"),a.label=a.labelDom.textContent.trim(),a.tipDom=a.headerDom.querySelector("[tip]"),a.tip=a.tipDom?a.tipDom.textContent.trim():"",a.url=a.labelDom.href&&!a.labelDom.href.includes("##")?a.labelDom.href:"",a.target=a.labelDom.target,a.arrowDom=a.headerDom.querySelector("[arrow]"),a.legendDom=a.headerDom.querySelector("[legend]"),a.legendDom&&(a.legend=a.legendDom.getAttribute("class")),t.hasAttribute("expanded")&&(a.expanded=!0),a.headerDom.hasAttribute("selected")&&(a.selected=!0),a.headerDom.hasAttribute("disabled")&&(a.disabled=!0),o&&(a.children=[],a.bodyDom=o,[...o.children].forEach(t=>{e++,a.children.push(i(t,e))})),a};return(()=>{[...this.targetDom.children].forEach(s=>{t.push(i(s,e)),e++})})(),t}childToParent(t){return t.headerDom.onclick=null,t.expanded=!0,t.wrapperDom.setAttribute("expanded",""),t.arrowDom=this.options.arrowShow&&t.children?axAddElem("i",{arrow:"",class:"ax-iconfont ax-icon-right"}):null,t.headerDom.appendChild(t.arrowDom),t.bodyDom=axAddElem("ul",{style:"display:block"}),t}createHeaderDom(t){t.labelDom=axAddElem(t.url?"a":"i",{label:""},t.label),t.url&&(t.labelDom.href=t.url),t.target&&(t.labelDom.target=t.target),t.legendDom=t.legend?axAddElem("i",{legend:"",class:`ax-iconfont ${t.legend}`}):null,t.arrowDom=this.options.arrowShow&&t.children?axAddElem("i",{arrow:"",class:"ax-iconfont ax-icon-right"}):null,t.headerDom=axAddElem("div"),t.tipDom=t.tip?axAddElem("i",{tip:""},t.tip):null,t.wrapperDom=axAddElem("li"),t.wrapperDom.appendChild(t.headerDom),t.legendDom&&t.headerDom.appendChild(t.legendDom),t.headerDom.appendChild(t.labelDom),t.tipDom&&t.headerDom.appendChild(t.tipDom),t.arrowDom&&t.headerDom.appendChild(t.arrowDom),t.callback&&t.callback.call(this,t)}arrayToDom(t){let e=axAddElem("ul"),i=document.createDocumentFragment(),s=(t,e)=>{let i=axAddElem("ul");return e.forEach(t=>{this.createHeaderDom(t),t.hasOwnProperty("children")&&(t.bodyDom=s(t.wrapperDom,t.children)),i.appendChild(t.wrapperDom)}),t.appendChild(i),i};s(e,t),[...e.childNodes[0].childNodes].forEach(t=>{i.appendChild(t)}),this.targetDom.appendChild(i),this.options.onPlanted&&this.options.onPlanted.call(this),"planted"in this.handlers&&this.emit("planted","")}initAttribute(){if(!this.targetDom.classList.contains("ax-menu")&&this.targetDom.classList.add("ax-menu"),this.options.targetClass&&axClass.add(this.targetDom,this.options.targetClass),this.targetDom.setAttribute("theme",this.options.theme),this.options.gapless&&this.targetDom.setAttribute("gapless",""),this.options.lamp&&this.targetDom.setAttribute("lamp",this.options.lamp),this.options.full&&!this.options.nav.enable&&this.targetDom.setAttribute("full",""),this.options.nav.enable){if(this.targetDom.setAttribute("nav",""),this.options.nav.align&&this.targetDom.setAttribute("align",this.options.nav.align),this.options.nav.headerWidth){this.flatData.filter(t=>1===t.floor).forEach(t=>{t.wrapperDom.style.width=this.options.nav.headerWidth})}this.options.nav.bodyWidth&&this.flatData.forEach(t=>{t.bodyDom&&(t.bodyDom.style.width=this.options.nav.bodyWidth)}),this.options.nav.marginLeft&&this.flatData.filter(t=>1===t.floor).forEach(t=>{t.wrapperDom.style.marginLeft=this.options.nav.marginLeft}),this.options.nav.marginRight&&this.flatData.filter(t=>1===t.floor).forEach(t=>{t.wrapperDom.style.marginRight=this.options.nav.marginRight})}}getPathIds(t){if(0===t.length)return[];let e=[];return(this.options.multiple?t:t.slice(0,1)).forEach(t=>{let i,s=axFindItem(t,this.flatData);s&&(i=s.path.split(">"),e.push(...i))}),[...new Set(e)].map(t=>parseInt(t))}initActive(){if(0===this.flatData.length)return!1;if(this.options.multiple&&!this.options.collapseAll)this.expandAll();else{let t,e=""!==this.options.active?axValueToArr(this.options.active):[];e.push(...this.flatData.filter(t=>t.selected),...this.flatData.filter(t=>t.expanded)),t=this.getPathIds(e),this.flatData.forEach(e=>{t.includes(e.id)&&(e.children?this.expand(e):this.triggerSelected(e))})}}initDisabled(){if(0===this.flatData.length)return!1;let t=this.flatData.filter(t=>t.disabled),e=""!==this.options.disabled?axValueToArr(this.options.disabled):[];e.push(...t),e.forEach(t=>{let e=axFindItem(t,this.flatData);e&&(e.disabled=!0,e.headerDom.setAttribute("disabled",""))})}renderFinish(){this.options.dispose||this.flatData.forEach(t=>{if(t.children){if(!t.disabled){let e=t.url&&t.arrowDom?t.arrowDom:t.headerDom;"click"===this.options.trigger?e.addEventListener(this.options.trigger,this.triggerShow,!1):"hover"===this.options.trigger&&(this.hover=new axHover(t.wrapperDom,{enter:()=>{this.expand(t)},leave:()=>{this.collapse(t)}}))}}else t.disabled||(t.headerDom.onclick=()=>{this.triggerSelected(t)})}),this.save()}workToggle(t,e="disable"){let i=t.url&&t.arrowDom?t.arrowDom:t.headerDom;"enable"===e?(t.disabled&&delete t.disabled,t.headerDom.removeAttribute("disabled"),t.children?i.addEventListener(this.options.trigger,this.triggerShow,!1):t.headerDom.onclick=()=>{this.triggerSelected(t)}):"disable"===e&&(t.disabled=!0,t.headerDom.setAttribute("disabled",""),t.children?i.removeEventListener(this.options.trigger,this.triggerShow,!1):t.headerDom.onclick=null),this.save()}getDisabled(){return this.flatData.filter(t=>t.disabled)}getExpanded(){return this.flatData.filter(t=>t.expanded)}getActive(){return this.flatData.filter(t=>t.expanded||t.selected)}getSelected(){return this.flatData.find(t=>t.selected)}collapseAll(t){if(this.destroyed)return this;this.flatData.filter(t=>t.expanded).forEach(t=>{this.collapse(t)}),"collapseAll"in this.handlers&&this.emit("collapseAll",""),this.options.onCollapseAll&&this.options.onCollapseAll.call(this),t&&t.call(this)}expandAll(t){if(this.destroyed||!this.options.multiple)return this;this.flatData.forEach(t=>{this.expand(t)}),"expandAll"in this.handlers&&this.emit("expandAll",""),this.options.onExpandAll&&this.options.onExpandAll.call(this),t&&t.call(this)}disable(t,e){if(this.destroyed)return this;if(0!==t&&axIsEmpty(t))return!1;let i=t=>{let e=axFindItem(t,this.flatData);e&&this.workToggle(e,"disable")};Array.isArray(t)?t.forEach(t=>{i(t)}):i(t),this.save();let s=this.flatData.filter(t=>t.disabled);"disable"in this.handlers&&this.emit("disable",s),this.options.onDisable&&this.options.onDisable.call(this,s),e&&e.call(this,s)}disableAll(t){this.disable(this.flatData),"disableAll"in this.handlers&&this.emit("disableAll",""),this.options.onDisableAll&&this.options.onDisableAll.call(this),t&&t.call(this)}enable(t,e){if(this.destroyed)return this;if(0!==t&&axIsEmpty(t))return!1;let i=t=>{let e=axFindItem(t,this.flatData);e&&this.workToggle(e,"enable")};Array.isArray(t)?t.forEach(t=>{i(t)}):i(t),this.save();let s=this.flatData.filter(t=>!t.disabled);"enable"in this.handlers&&this.emit("enable",s),this.options.onEnable&&this.options.onEnable.call(this,s),e&&e.call(this,s)}enableAll(t){this.enable(this.flatData),"enableAll"in this.handlers&&this.emit("enableAll",""),this.options.onEnableAll&&this.options.onEnableAll.call(this),t&&t.call(this)}toggle(t){let e=axFindItem(t,this.flatData)||axFindItem(t,this.flatData,{header:"arrowDom"});e.expanded?this.collapse(e):this.expand(e)}collapse(t,e){let i="Object"===axType(t)?t:axFindItem(t,this.flatData);if(!i||!i.children)return!1;"collapse"in this.handlers&&this.emit("collapse",i),this.options.onCollapse&&this.options.onCollapse.call(this,i),delete i.expanded,i.wrapperDom.removeAttribute("expanded"),axSlideUp(i.bodyDom,()=>{"collapsed"in this.handlers&&this.emit("collapsed",i),this.options.onCollapsed&&this.options.onCollapsed.call(this,i),e&&e.call(this,i)}),this.save()}expand(t,e){if(this.destroyed)return this;let i,s=axFindItem(t,this.flatData);!axIsEmpty(s)&&s.children&&("expand"in this.handlers&&this.emit("expand",s),this.options.onExpand&&this.options.onExpand.call(this,s),s.expanded=!0,s.wrapperDom.setAttribute("expanded",""),axSlideDown(s.bodyDom,()=>{"expanded"in this.handlers&&this.emit("expanded",s),this.options.onExpanded&&this.options.onExpanded.call(this,s),e&&e.call(this,s)}),this.options.multiple||(i=this.flatData.filter(t=>t!==s&&t.expanded&&t.floor===s.floor&&t.children),i.forEach(t=>{this.collapse(t)})),this.save())}active(t,e){if(this.destroyed)return this;let i=[],s=[],a=t=>{let e=axFindItem(t,this.flatData);if(e){e.path.split(">").map(t=>parseInt(t)).forEach(t=>{this.expand(t)}),e.children||this.triggerSelected(e)}};i=Array.isArray(t)?this.options.multiple?t:t.slice(0,1):[t],s=i.map(t=>axFindItem(t,this.flatData)).filter(Boolean),i.forEach(t=>{a(t)}),"active"in this.handlers&&this.emit("active",s),this.options.onActive&&this.options.onActive.call(this,s),e&&e.call(this,s),this.save()}add(t,e,i=!1,s=!1,a){if(this.destroyed)return this;if(this.flatData.length>=this.options.max&&0!==this.options.max)return console.warn("The number of children exceeds the maximum!"),!1;let o=axType(t),n=[],r=(t,e,i,s)=>{let a;t.hasOwnProperty("pId")&&t.pId!==this.options.firstFloor?(a=axFindItem(t.pId,this.flatData),i=!0):void 0===e||"end"===e?a=this.flatData.filter(t=>1===t.floor).slice(-1)[0]:"start"===e?(a=this.flatData.filter(t=>1===t.floor)[0],s=!0):a=axFindItem(e,this.flatData);let o=axTreeMethod.createData(t,a,this.flatData,i);if(this.createHeaderDom(o),i)a.children?axTreeMethod.existChildPush(o,a):axTreeMethod.noExistChildPush(o,a,()=>this.childToParent(a));else{let t=this.flatData.find(t=>t.id==a.pId),e=t?t.children:this.treeData,i=e.indexOf(a);s?(0==i?e.unshift(o):e.splice(i,0,o),a.wrapperDom.insertAdjacentElement("beforeBegin",o.wrapperDom)):(e.splice(i+1,0,o),a.wrapperDom.insertAdjacentElement("afterEnd",o.wrapperDom))}this.flatData.push(o),n.push(o)};if("Array"===o&&t.length>0?t.forEach(t=>{r(t,e,i,s)}):r(t,e,i,s),n.length>0){if(this.options.addToActive)if(this.options.multiple)n.forEach(t=>{t.children&&this.expand(t)});else{let t=n[n.length-1];t.children&&this.expand(t)}this.renderFinish()}return"add"in this.handlers&&this.emit("add",n),this.options.onAdd&&this.options.onAdd.call(this,n),a&&a.call(this,n),this}remove(t,e){if(this.destroyed)return this;if(axIsEmpty(t))return!1;if(0===this.flatData.length)return console.warn("The data is already empty!"),!1;let i=t=>{let e,i=axFindItem(t,this.flatData);i&&(e=axTreeMethod.remove(i,this.flatData,this.treeData),this.flatData=e.flat,this.treeData=e.tree)};return Array.isArray(t)?t.forEach(t=>{i(t)}):i(t),this.save(),"remove"in this.handlers&&this.emit("remove",""),this.options.onRemove&&this.options.onRemove.call(this),e&&e.call(this),this}save(t,e){return this.destroyed?this:!!this.options.storageName&&void setTimeout(()=>{let i=[...this.flatData.filter(t=>t.selected),...this.flatData.filter(t=>t.expanded)].filter(Boolean).map(t=>t.id),s=this.flatData.filter(t=>t.disabled).map(t=>t.id);t?(!t.hasOwnProperty("active")&&(t.active=i),!t.hasOwnProperty("disabled")&&(t.disabled=s),!t.hasOwnProperty("content")&&(t.content=this.flatData),axLocalStorage.set(this.options.storageName,t)):axLocalStorage.set(this.options.storageName,{active:i,disabled:s,content:this.flatData});let a=axLocalStorage.get(this.options.storageName);return"save"in this.handlers&&this.emit("save",a),this.options.onSave&&this.options.onSave.call(this,a),e&&e.call(this,a),this},0)}destroy(t){return this.flatData.forEach(t=>{(t.url&&t.arrowDom?t.arrowDom:t.headerDom).removeEventListener(this.options.trigger,this.triggerShow),t.headerDom.onclick=null}),this.destroyed=!0,this.options.storageName&&axLocalStorage.set(this.options.storageName,{}),"destroy"in this.handlers&&this.emit("destroy",""),this.options.onDestroy&&this.options.onDestroy.call(this),t&&t.call(this),this}updateContent(t,e,i){if(this.destroyed)return this;let s=axFindItem(t,this.flatData);return s&&("String"===axType(e)?(s.label=e,s.labelDom.innerHTML=e):"Object"===axType(e)&&(e.label&&(s.label=e.label,s.labelDom.innerHTML=e.label),e.url&&s.url&&(s.url=e.url,s.labelDom.href=e.url),e.target&&s.url&&(s.target=e.target,s.labelDom.target=e.target)),"updateContent"in this.handlers&&this.emit("updateContent",s),this.options.onUpdateContent&&this.options.onUpdateContent.call(this,s),i&&i.call(this,s),this.save()),this}update(t,e){return this.destroyed?this:(this.options=axExtend(this.options,t),this.options.storageName&&axLocalStorage.set(this.options.storageName,{}),this.targetDom.innerHTML=this.rawHTML?this.rawHTML:"",this.init(),"update"in this.handlers&&this.emit("update",""),this.options.onUpdate&&this.options.onUpdate.call(this),e&&e.call(this),this)}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axMenu]").forEach(t=>{new axMenu(t)});
/*!
* 插件：黏住顶部或盒子；使用方法：new axStick('#id',{参数})
*/
const axSticks=[];class axStick{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({refer:"body",space:"0px",width:"",zIndex:""},e,this.targetDom,"axStick");this.handlers={},this.height=this.targetDom.offsetHeight,this.width=this.targetDom.offsetWidth,this.left=axOffset(this.targetDom).left,this.top=axOffset(this.targetDom).top,this.bottom=axOffset(this.targetDom).top+this.height,this.style=this.targetDom.getAttribute("style"),this.placeholder=axAddElem("DIV",{style:`width:${this.width}px;height:${this.height}px;display:none;`}),this.targetDom.insertAdjacentElement("beforebegin",this.placeholder),this.targetDom.getAttribute("axStick")?this.referName=this.targetDom.getAttribute("axStick"):this.referName="",this.init()}init(){this.refer=this.targetDom.closest(this.options.refer),this.referHeight=this.refer.offsetHeight,this.referWidth=this.refer.offsetWidth,this.referLeft=axOffset(this.refer).left,this.referTop=axOffset(this.refer).top,this.referBottom=axOffset(this.refer).top+this.referHeight,"body"===this.options.refer||"fixed"===getComputedStyle(this.refer).position&&"absolute"===getComputedStyle(this.refer).position||(this.refer.style.position="relative"),this.options.zIndex&&(this.targetDom.style.zIndex=this.options.zIndex),"none"!==getComputedStyle(this.targetDom).float&&(this.placeholder.style.float=getComputedStyle(this.targetDom).float);let t=this;window.addEventListener("scroll",()=>{t.height>window.innerHeight?t.bottom<document.documentElement.scrollTop+window.innerHeight&&t.referBottom>document.documentElement.scrollTop+window.innerHeight?(t.targetDom.style.cssText+=`width:${t.targetDom.offsetWidth}px;`,t.targetDom.style.cssText+=`left:${axOffset(t.targetDom).left}px;`,t.targetDom.style.cssText+=`position:fixed;bottom:${t.options.space};margin:0;`,t.placeholder.style.display="block","sticked"in t.handlers&&t.emit("sticked","fixed")):t.referBottom<document.documentElement.scrollTop+window.innerHeight?(t.targetDom.style.position="absolute",t.targetDom.style.left=t.left-t.referLeft+"px",t.targetDom.style.cssText+=`position:absolute;bottom:${t.options.space};margin:0;`,t.placeholder.style.display="none","sticked"in t.handlers&&t.emit("sticked","absolute")):axOffset(t.refer).top>document.documentElement.scrollTop&&(t.targetDom.setAttribute("style",t.style),t.placeholder.style.display="none","unsticked"in t.handlers&&t.emit("unsticked","")):t.top<document.documentElement.scrollTop?(t.options.width?(t.targetDom.style.cssText+=`width:${t.options.width};`,t.targetDom.style.cssText+=`left:calc(50% - ${t.options.width}/2);`):(t.targetDom.style.cssText+=`width:${t.targetDom.offsetWidth}px;`,t.targetDom.style.cssText+=`left:${t.left}px;`),t.targetDom.style.cssText+=`position:fixed;top:${t.options.space};bottom:auto;margin:0;`,t.placeholder.style.display="block","sticked"in t.handlers&&t.emit("sticked","fixed"),t.height>t.referBottom-document.documentElement.scrollTop&&(t.targetDom.style.position="absolute",t.targetDom.style.left=t.left-t.referLeft+"px",t.targetDom.style.top="auto",t.targetDom.style.bottom=0,"sticked"in t.handlers&&t.emit("sticked","absolute"))):(t.targetDom.setAttribute("style",t.style),t.placeholder.style.display="none","unsticked"in t.handlers&&t.emit("unsticked",""))},!1),this.referName&&(axIsEmpty(axSticks)?axSticks.push({name:this.referName,instance:this}):axSticks.some(t=>t.name==this.referName)||axSticks.push({name:this.referName,instance:this}))}destroy(t){this.targetDom.lastChild.removeEventListener("click",this.event,!1),this.targetDom.innerHTML=this.html,t&&t.call(this)}update(t,e){return this.targetDom.style=this.style,this.options=axExtend(this.options,t),this.init(),"updated"in this.handlers&&this.emit("updated",""),e&&e.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axStick]").forEach(t=>{new axStick(t)});
/*!
* 插件：轮滑选择；改造自mobile-select 20201110更新 https://github.com/onlyhom/mobile-select；使用方法：new axScrollSelect('#id',{参数})
*/
const axScrollSelects=[];(()=>{const t=(t,e)=>t.getElementsByClassName(e),e=(t,e,i,s)=>("mousewheel"===e&&void 0!==document.mozFullScreen&&(e="DOMMouseScroll"),void t.addEventListener(e,(function(t){i.call(this,function(t){let e=t.type;return"DOMMouseScroll"!=e&&"mousewheel"!=e||(t.delta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t.srcElement&&!t.target&&(t.target=t.srcElement),axPreventDefault(t),t}(t))}),s||!1));class i{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({wheels:[],title:"",position:[],final:!1,connector:" ",confirmText:"确认",cancelText:"取消",className:"",type:"actionbar",labels:"",keyMap:{id:"id",name:"name",value:"value",children:"children"},triggerDisplayData:!0,callback:function(){},transitionEnd:function(){},cancel:function(){},onShow:function(){},onHide:function(){}},e,this.targetDom,"axScrollSelect"),this.jsonType=!1,this.cascadeJsonData=[],this.displayJson=[],this.curValue=null,this.curIndexArr=[],this.cascade=!1,this.startY,this.moveEndY,this.moveY,this.oldMoveY,this.offset=0,this.offsetSum=0,this.oversizeBorder,this.curDistance=[],this.clickStatus=!1,this.init(),this.targetDom.setAttribute("autocomplete","off"),this.targetDom.setAttribute("readonly","true")}init(){let t=this;if("string"==typeof t.options.wheels&&-1!=t.options.wheels.indexOf("#"))"UL"==document.querySelector(t.options.wheels).nodeName?t.options.wheels=[{data:axUlToArr(t.options.wheels)}]:"SELECT"==document.querySelector(t.options.wheels).nodeName&&(t.options.wheels=[{data:axSelectToArr(t.options.wheels)}]);else if(0==t.options.wheels.indexOf("date")){let e=t.options.wheels.split("-"),i=e[1],s=e[2],a=e[3];t.options.wheels=t.getDate(i,s,a)}if(t.checkDataType(),t.renderWheels(t.options.wheels,this.options.cancelText,this.options.confirmText),!t.targetDom)return console.error("SwiperSelect instance has been created , but there is no trigger is found on page."),!1;t.targetDom.style.cursor="pointer",t.checkCascade(),t.addListenerAll(),t.cascade&&t.initCascade();let e="";for(let i=0;i<t.wheel.length;i++)axIsEmpty(t.options.labels)||(e+="<li>"+t.options.labels[i]+"</li>");if(t.group.innerHTML=e,t.options.position.length<t.slider.length){let e=t.slider.length-t.options.position.length;for(let i=0;i<e;i++)t.options.position.push(0)}t.setCurDistance(t.options.position),t.cancelBtn.addEventListener("click",(function(e){t.hide(),t.popup&&t.popup.hide()})),t.ensureBtn.addEventListener("click",(function(e){t.hide(),t.popup&&t.popup.hide(),t.liHeight||(t.liHeight=t.mobileSelect.querySelector("li").offsetHeight),t.setValue(),t.curIndexArr=t.getIndexArr(),t.curValue=t.getCurValue(),t.options.callback.call(t,t.curIndexArr,t.curValue)})),t.targetDom.addEventListener("click",(function(e){t.show()})),t.grayLayer&&t.grayLayer.addEventListener("click",(function(e){t.hide()})),t.wrapper.addEventListener("click",(function(t){t.stopPropagation()})),t.fixRowStyle()}setValue(t){let e=this,i="";if(e.options.final)i=e.getCurValue()[e.getCurValue().length-1].value;else for(let t=0;t<e.wheel.length;t++)t==e.wheel.length-1?i+=e.getInnerHtml(t):i+=e.getInnerHtml(t)+e.options.connector;e.options.triggerDisplayData&&("INPUT"==e.targetDom.nodeName?e.targetDom.value=t||i:e.targetDom.innerHTML=t||i)}getDate(t,e,i){let s=t,a=e,o=[],n=new Date;"auto"==s&&"auto"==a?(t=n.getFullYear()-20,e=n.getFullYear(),n.getDate(),o.push(0,n.getMonth())):a>s&&o.push(0,0);let r=[{data:[]}];for(let d=e;d>=t;d--){if(0==d)return;let t={id:d,name:d+"年",value:d,children:[]};for(let e=1;e<=12;e++)if("YMD"==i.toUpperCase()){let i=[],r=(l=d,[1,3,5,7,8,10,12].includes(h=e)?31:2==h?l%4==0&&l%100!=0?29:l%400==0?29:28:30);for(let t=1;t<=r;t++)i.push({id:t,name:t+"日",value:t});t.children.push({id:e,name:e+"月",value:e,children:i}),"auto"==s&&"auto"==a?o.push(n.getDate()-1):a>s&&o.push(0)}else"YM"==i.toUpperCase()&&t.children.push({id:e,name:e+"月",value:e});r[0].data.push(t)}var l,h;return axIsEmpty(this.options.position)&&(this.options.position=o),this.options.connector="-",r}show(){this.mobileSelect.classList.add("ax-show"),"function"==typeof this.options.onShow&&this.options.onShow(this)}hide(){this.mobileSelect.classList.remove("ax-show"),"function"==typeof this.options.onHide&&this.options.onHide(this)}renderWheels(e){let i=this,s="";for(let t=0;t<e.length;t++){if(s+='<div class="ax-wheel"><ul class="ax-item-list">',i.jsonType)for(let a=0;a<e[t].data.length;a++)s+='<li data-id="'+e[t].data[a][i.options.keyMap.id]+'">'+e[t].data[a][i.options.keyMap.name]+"</li>";else for(let i=0;i<e[t].data.length;i++)s+="<li>"+e[t].data[i]+"</li>";s+="</ul></div>"}this.options.title||("INPUT"==this.targetDom.nodeName?this.targetDom.getAttribute("placeholder")?this.options.title=this.targetDom.getAttribute("placeholder"):this.targetDom.getAttribute("value")?this.options.title=this.targetDom.getAttribute("value"):this.options.title="":this.options.title=this.targetDom.textContent.trim().replace(/<[^>]+>/g,"").replace(/ +/g," ")),this.template=axTplEngine(`\n            <div class="ax-scrollSelect<# if(this.className){ #> <# this.className #><# } #>" data-type="<# this.type #>" id="scrollSelect${(new Date).getTime()}">\n            <# if(this.type == 'actionbar'){ #><div class="ax-scrollSelect-overlay"></div><# } #>\n            <div class="ax-scrollSelect-wrapper">\n                <div class="ax-scrollSelect-header">\n                    <div class="ax-inner">\n                        <a href="###" class="ax-cancel"><# this.cancelText #></a>\n                        <div class="ax-title"><# this.title #></div>\n                        <a href="###" class="ax-confirm"><# this.confirmText #></a>\n                    </div>\n                </div>\n                <div class="ax-group"></div>\n                <div class="ax-scrollSelect-body">\n                    <div class="ax-inner">\n                        <div class="ax-wheels"></div>\n                        <div class="ax-line"></div>\n                        <div class="ax-mask"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n          `,this.options),i.mobileSelect=axStrToDom(this.template),i.wheels=i.mobileSelect.querySelector(".ax-wheels"),i.wheels.innerHTML=s,"actionbar"==i.options.type?document.body.appendChild(i.mobileSelect):"popup"==i.options.type?i.popup=new axPopup(this.targetDom,{content:i.mobileSelect,padding:!1,placement:"bottom-start",close:!1,footerShow:!1}):"inline"==i.options.type&&(i.targetDom.insertAdjacentElement("afterEnd",i.mobileSelect),i.header=i.mobileSelect.querySelector(".ax-scrollSelect-header"),i.header.style.display="none"),i.wheel=t(i.mobileSelect,"ax-wheel"),i.slider=t(i.mobileSelect,"ax-item-list"),i.wheels=i.mobileSelect.querySelector(".ax-wheels"),i.liHeight=i.mobileSelect.querySelector("li").offsetHeight,i.ensureBtn=i.mobileSelect.querySelector(".ax-confirm"),i.cancelBtn=i.mobileSelect.querySelector(".ax-cancel"),i.grayLayer=i.mobileSelect.querySelector(".ax-scrollSelect-overlay"),i.wrapper=i.mobileSelect.querySelector(".ax-scrollSelect-wrapper"),i.body=i.mobileSelect.querySelector(".ax-scrollSelect-body"),i.group=i.mobileSelect.querySelector(".ax-group"),i.title=i.mobileSelect.querySelector(".ax-title"),axPreventScroll(i.wrapper)}addListenerAll(){let t=this;for(let e=0;e<t.slider.length;e++)!function(e){t.addListenerWheel(t.wheel[e],e)}(e)}addListenerWheel(t,i){let s=this;t.addEventListener("touchstart",(function(t){s.touch(t,this.firstChild,i)}),!1),t.addEventListener("touchend",(function(t){s.touch(t,this.firstChild,i)}),!1),t.addEventListener("touchmove",(function(t){s.touch(t,this.firstChild,i)}),!1),axIsMobi()||(t.addEventListener("mousedown",(function(t){s.dragClick(t,this.firstChild,i)}),!1),t.addEventListener("mousemove",(function(t){s.dragClick(t,this.firstChild,i)}),!1),t.addEventListener("mouseup",(function(t){s.dragClick(t,this.firstChild,i)}),!0),e(t,"mousewheel",(function(t){t.delta<0?t.direction="wheelUp":t.delta>0&&(t.direction="wheelDown"),s.dragClick(t,this.firstChild,i)})))}checkDataType(){let t=this;"object"==typeof t.options.wheels[0].data[0]&&(t.jsonType=!0)}checkCascade(){let t=this;if(t.jsonType){let e=t.options.wheels[0].data;for(let i=0;i<e.length;i++)if(t.options.keyMap.children in e[i]&&e[i][t.options.keyMap.children].length>0){t.cascade=!0,t.cascadeJsonData=t.options.wheels[0].data;break}}else t.cascade=!1}generateArrData(t){let e=[],i=this.options.keyMap.id,s=this.options.keyMap.value,a=this.options.keyMap.name;for(let o=0;o<t.length;o++){let n={};n[i]=t[o][this.options.keyMap.id],n[s]=t[o][this.options.keyMap.value],n[a]=t[o][this.options.keyMap.name],e.push(n)}return e}initCascade(){let t=this;t.displayJson.push(t.generateArrData(t.cascadeJsonData)),t.options.position.length>0?(t.initDeepCount=0,t.initCheckArrDeep(t.cascadeJsonData[t.options.position[0]])):t.checkArrDeep(t.cascadeJsonData[0]),t.reRenderWheels()}initCheckArrDeep(t){let e=this;if(t&&e.options.keyMap.children in t&&t[e.options.keyMap.children].length>0){e.displayJson.push(e.generateArrData(t[e.options.keyMap.children])),e.initDeepCount++;let i=t[e.options.keyMap.children][e.options.position[e.initDeepCount]];i?e.initCheckArrDeep(i):e.checkArrDeep(t[e.options.keyMap.children][0])}}checkArrDeep(t){let e=this;t&&e.options.keyMap.children in t&&t[e.options.keyMap.children].length>0&&(e.displayJson.push(e.generateArrData(t[e.options.keyMap.children])),e.checkArrDeep(t[e.options.keyMap.children][0]))}checkRange(t,e){let i,s=this,a=s.displayJson.length-1-t;for(let t=0;t<a;t++)s.displayJson.pop();for(let a=0;a<=t;a++)i=0==a?s.cascadeJsonData[e[0]]:i[s.options.keyMap.children][e[a]];s.checkArrDeep(i),s.reRenderWheels(),s.fixRowStyle(),s.setCurDistance(s.resetPosition(t,e))}resetPosition(t,e){let i,s=this,a=e;if(s.slider.length>e.length){i=s.slider.length-e.length;for(let t=0;t<i;t++)a.push(0)}else if(s.slider.length<e.length){i=e.length-s.slider.length;for(let t=0;t<i;t++)a.pop()}for(let e=t+1;e<a.length;e++)a[e]=0;return a}reRenderWheels(){let t=this;if(t.wheel.length>t.displayJson.length){let e=t.wheel.length-t.displayJson.length;for(let i=0;i<e;i++)t.wheels.removeChild(t.wheel[t.wheel.length-1])}for(let e=0;e<t.displayJson.length;e++)!function(e){let i="";if(t.wheel[e]){for(let s=0;s<t.displayJson[e].length;s++){let a=t.displayJson[e][s][t.options.keyMap.name]?t.displayJson[e][s][t.options.keyMap.name]:t.displayJson[e][s][t.options.keyMap.value];i+='<li data-id="'+t.displayJson[e][s][t.options.keyMap.id]+'" data-value="'+t.displayJson[e][s][t.options.keyMap.value]+'" >'+a+"</li>"}t.slider[e].innerHTML=i}else{let s=document.createElement("div");s.className="ax-wheel",i='<ul class="ax-item-list">';for(let s=0;s<t.displayJson[e].length;s++){let a=t.displayJson[e][s][t.options.keyMap.name]?t.displayJson[e][s][t.options.keyMap.name]:t.displayJson[e][s][t.options.keyMap.value];i+='<li data-id="'+t.displayJson[e][s][t.options.keyMap.id]+'" data-value="'+t.displayJson[e][s][t.options.keyMap.value]+'">'+a+"</li>"}i+="</ul>",s.innerHTML=i,t.addListenerWheel(s,e),t.wheels.appendChild(s)}}(e);let e="";for(let i=0;i<t.wheel.length;i++)axIsEmpty(t.options.labels)||(e+="<li>"+t.options.labels[i]+"</li>");t.group.innerHTML=e}updateWheels(t){let e=this;if(e.cascade){if(e.cascadeJsonData=t,e.displayJson=[],e.initCascade(),e.options.position.length<e.slider.length){let t=e.slider.length-e.options.position.length;for(let i=0;i<t;i++)e.options.position.push(0)}e.setCurDistance(e.options.position),e.fixRowStyle()}}updateWheel(t,e){let i=this,s="";if(i.cascade)return console.error("级联格式不支持updateWheel(),请使用updateWheels()更新整个数据源"),!1;if(i.jsonType){for(let t=0;t<e.length;t++){let a=e[t][i.options.keyMap.name]?e[t][i.options.keyMap.name]:e[t][i.options.keyMap.value];s+='<li data-id="'+e[t][i.options.keyMap.id]+'" data-value="'+e[t][i.options.keyMap.value]+'">'+a+"</li>"}i.options.wheels[t]={data:e}}else{for(let t=0;t<e.length;t++)s+="<li>"+e[t]+"</li>";i.options.wheels[t]=e}i.slider[t].innerHTML=s}fixRowStyle(){let t=this,e=(100/t.wheel.length).toFixed(2);for(let i=0;i<t.wheel.length;i++)t.wheel[i].style.width=e+"%"}getIndex(t){return Math.round((2*this.liHeight-t)/this.liHeight)}getIndexArr(){let t=this,e=[];for(let i=0;i<t.curDistance.length;i++)e.push(t.getIndex(t.curDistance[i]));return e}getCurValue(){let t=this,e=[],i=t.getIndexArr();if(t.cascade)for(let s=0;s<t.wheel.length;s++)e.push(t.displayJson[s][i[s]]);else if(t.jsonType)for(let i=0;i<t.curDistance.length;i++)e.push(t.options.wheels[i].data[t.getIndex(t.curDistance[i])]);else for(let i=0;i<t.curDistance.length;i++)e.push(t.getInnerHtml(i));return e}getValue(){return this.curValue}calcDistance(t){return 2*this.liHeight-t*this.liHeight}setCurDistance(t){let e=this,i=[];for(let s=0;s<e.slider.length;s++)i.push(e.calcDistance(t[s])),e.movePosition(e.slider[s],i[s]);e.curDistance=i}fixPosition(t){return-(this.getIndex(t)-2)*this.liHeight}movePosition(t,e){t.style.webkitTransform="translate3d(0,"+e+"px, 0)",t.style.transform="translate3d(0,"+e+"px, 0)"}locatePosition(t,e){let i=this;this.curDistance[t]=this.calcDistance(e),this.movePosition(this.slider[t],this.curDistance[t]),i.cascade&&i.checkRange(t,i.getIndexArr())}updateCurDistance(t,e){t.style.transform?this.curDistance[e]=parseInt(t.style.transform.split(",")[1]):this.curDistance[e]=parseInt(t.style.webkitTransform.split(",")[1])}getDistance(t){return t.style.transform?parseInt(t.style.transform.split(",")[1]):parseInt(t.style.webkitTransform.split(",")[1])}getInnerHtml(t){let e=this,i=e.slider[t].getElementsByTagName("li").length,s=e.getIndex(e.curDistance[t]);return s>=i?s=i-1:s<0&&(s=0),e.slider[t].getElementsByTagName("li")[s].getAttribute("data-value")?e.slider[t].getElementsByTagName("li")[s].getAttribute("data-value"):e.slider[t].getElementsByTagName("li")[s].textContent}setActive(){let t=this;setTimeout((function(){if(!axIsEmpty(t.getIndexArr()))for(let e=0;e<t.getIndexArr().length;e++){let i=[...t.wheel][e].firstChild.children;for(let t=0;t<i.length;t++)i[t].classList.remove("ax-active");i[t.getIndexArr()[e]].classList.add("ax-active")}}),100)}setTitle(){let t="";this.getCurValue().forEach(e=>{e.name?t+=e.name:e.value?t+=e.value:t+=e}),this.title.innerHTML=t}touch(t,e,i){let s=this;switch((t=t||window.event).type){case"touchstart":s.startY=t.touches[0].clientY,s.startY=parseInt(s.startY),s.oldMoveY=s.startY;break;case"touchend":if(s.moveEndY=parseInt(t.changedTouches[0].clientY),s.offsetSum=s.moveEndY-s.startY,s.oversizeBorder=-(e.getElementsByTagName("li").length-3)*s.liHeight,0==s.offsetSum){let t=parseInt((document.documentElement.clientHeight-s.moveEndY)/40);if(2!=t){let a=t-2,o=s.curDistance[i]+a*s.liHeight;o<=2*s.liHeight&&o>=s.oversizeBorder&&(s.curDistance[i]=o,s.movePosition(e,s.curDistance[i]),s.options.transitionEnd.call(s,s.getIndexArr(),s.getCurValue()))}"inline"==s.options.type&&s.setValue(),s.setTitle(),s.setActive()}else s.updateCurDistance(e,i),s.curDistance[i]=s.fixPosition(s.curDistance[i]),s.movePosition(e,s.curDistance[i]),s.curDistance[i]+s.offsetSum>2*s.liHeight?(s.curDistance[i]=2*s.liHeight,setTimeout((function(){s.movePosition(e,s.curDistance[i])}),100)):s.curDistance[i]+s.offsetSum<s.oversizeBorder&&(s.curDistance[i]=s.oversizeBorder,setTimeout((function(){s.movePosition(e,s.curDistance[i])}),100)),s.options.transitionEnd(s.getIndexArr(),s.getCurValue());s.cascade&&s.checkRange(i,s.getIndexArr());break;case"touchmove":axPreventDefault(t),s.moveY=t.touches[0].clientY,s.offset=s.moveY-s.oldMoveY,s.updateCurDistance(e,i),s.curDistance[i]=s.curDistance[i]+s.offset,s.movePosition(e,s.curDistance[i]),s.oldMoveY=s.moveY}}dragClick(t,e,i){let s=this;switch(t=t||window.event,s.oversizeBorder=-(e.getElementsByTagName("li").length-3)*s.liHeight,t.type){case"mousedown":s.startY=t.clientY,s.oldMoveY=s.startY,s.clickStatus=!0;break;case"mouseup":if(s.moveEndY=t.clientY,s.offsetSum=s.moveEndY-s.startY,0==s.offsetSum){let t=parseInt((document.documentElement.clientHeight-s.moveEndY)/40);if(2!=t){let a=t-2,o=s.curDistance[i]+a*s.liHeight;o<=2*s.liHeight&&o>=s.oversizeBorder&&(s.curDistance[i]=o,s.movePosition(e,s.curDistance[i]),s.options.transitionEnd.call(s,s.getIndexArr(),s.getCurValue()))}}else s.updateCurDistance(e,i),s.curDistance[i]=s.fixPosition(s.curDistance[i]),s.movePosition(e,s.curDistance[i]),s.curDistance[i]+s.offsetSum>2*s.liHeight?(s.curDistance[i]=2*s.liHeight,setTimeout((function(){s.movePosition(e,s.curDistance[i])}),100)):s.curDistance[i]+s.offsetSum<s.oversizeBorder&&(s.curDistance[i]=s.oversizeBorder,setTimeout((function(){s.movePosition(e,s.curDistance[i])}),100)),s.options.transitionEnd(s.getIndexArr(),s.getCurValue());s.clickStatus=!1,s.cascade&&s.checkRange(i,s.getIndexArr()),"inline"==s.options.type&&s.setValue(),s.setTitle(),s.setActive();break;case"mousemove":axPreventDefault(t),s.clickStatus&&(s.moveY=t.clientY,s.offset=s.moveY-s.oldMoveY,s.liHeight&&s.updateCurDistance(e,i),s.curDistance[i]=s.curDistance[i]+s.offset,s.movePosition(e,s.curDistance[i]),s.oldMoveY=s.moveY)}"wheelUp"==t.direction?(s.curDistance[i]=s.curDistance[i]-s.liHeight,s.movePosition(e,s.curDistance[i]),s.curDistance[i]+s.offsetSum<s.oversizeBorder&&(s.curDistance[i]=s.oversizeBorder,setTimeout((function(){s.movePosition(e,s.curDistance[i])}),100)),s.clickStatus=!1,s.cascade&&s.checkRange(i,s.getIndexArr()),"inline"==s.options.type&&s.setValue(),s.setTitle(),s.setActive(),s.options.transitionEnd.call(s,s.getIndexArr(),s.getCurValue())):"wheelDown"==t.direction&&(s.curDistance[i]=s.curDistance[i]+s.liHeight,s.movePosition(e,s.curDistance[i]),s.curDistance[i]+s.offsetSum>2*s.liHeight&&(s.curDistance[i]=2*s.liHeight,setTimeout((function(){s.movePosition(e,s.curDistance[i])}),100)),s.clickStatus=!1,s.cascade&&s.checkRange(i,s.getIndexArr()),"inline"==s.options.type&&s.setValue(),s.setTitle(),s.setActive(),s.options.transitionEnd.call(s,s.getIndexArr(),s.getCurValue()))}}window.axScrollSelect=i,document.querySelectorAll("[axScrollSelect]").forEach(t=>{new i(t)})})(),
/*!
* 插件：下拉选择（单选和多选）；改造自Choices v10.1.0 https://github.com/Choices-js/Choices；使用方法：new axSelect('#id',{参数})
*/
function(t){let e=window||e||self;"function"==typeof define&&define.amd?define(t):e.axSelect=t(),document.querySelectorAll("[axSelect]").forEach(t=>{new axSelect(t)})}((function(){"use strict";const t="showDropdown",e="hideDropdown",i="change",s="choice",a="search",o="addItem",n="removeItem",r="highlightItem",l="highlightChoice",h="ADD_CHOICE",d="FILTER_CHOICES",c="ACTIVATE_CHOICES",p="CLEAR_CHOICES",u="ADD_GROUP",m="ADD_ITEM",f="REMOVE_ITEM",g="HIGHLIGHT_ITEM",x="CLEAR_ALL",v="RESET_TO",y="SET_IS_LOADING",b={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},w=(t=!0)=>({type:c,active:t}),D=({value:t,id:e,active:i,disabled:s})=>({type:u,value:t,id:e,active:i,disabled:s}),T=(t,e)=>({type:g,id:t,highlighted:e}),E=t=>({type:y,isLoading:t});class M{constructor({element:t,type:e,classNames:i}){this.element=t,this.classNames=i,this.type=e,this.isActive=!1}get distanceFromTopWindow(){return this.element.getBoundingClientRect().bottom}getChild(t){return this.element.querySelector(t)}show(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this}hide(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this}}const S=(()=>{const t=document.createElement("div");return e=>{const i=e.trim();t.innerHTML=i;const s=t.children[0];for(;t.firstChild;)t.removeChild(t.firstChild);return s}})(),A=(t,e)=>{const{score:i=0}=t,{score:s=0}=e;return i-s};class C{constructor({element:t,type:e,classNames:i,position:s}){this.element=t,this.classNames=i,this.type=e,this.position=s,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}addEventListeners(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)}removeEventListeners(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)}shouldFlip(t){if("number"!=typeof t)return!1;let e=!1;return"auto"===this.position?e=!window.matchMedia(`(min-height: ${t+1}px)`).matches:"top"===this.position&&(e=!0),e}setActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t)}removeActiveDescendant(){this.element.removeAttribute("aria-activedescendant")}open(t){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(t)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)}close(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)}focus(){this.isFocussed||this.element.focus()}addFocusState(){this.element.classList.add(this.classNames.focusState)}removeFocusState(){this.element.classList.remove(this.classNames.focusState)}enable(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),"select-one"===this.type&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1}disable(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),"select-one"===this.type&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0}wrap(t){axAddWrap(t,this.element)}unwrap(t){this.element.parentNode&&(this.element.parentNode.insertBefore(t,this.element),this.element.parentNode.removeChild(this.element))}addLoadingState(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0}removeLoadingState(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1}_onFocus(){this.isFocussed=!0}_onBlur(){this.isFocussed=!1}}class L{constructor({element:t,type:e,classNames:i,preventPaste:s}){this.element=t,this.type=e,this.classNames=i,this.preventPaste=s,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}set placeholder(t){this.element.placeholder=t}get value(){return axCleanString(this.element.value)}set value(t){this.element.value=t}get rawValue(){return this.element.value}addEventListeners(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})}removeEventListeners(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)}enable(){this.element.removeAttribute("disabled"),this.isDisabled=!1}disable(){this.element.setAttribute("disabled",""),this.isDisabled=!0}focus(){this.isFocussed||this.element.focus()}blur(){this.isFocussed&&this.element.blur()}clear(t=!0){return this.element.value&&(this.element.value=""),t&&this.setWidth(),this}setWidth(){const{style:t,value:e,placeholder:i}=this.element;t.minWidth=i.length+1+"em",t.width=e.length+1+"em"}setActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t)}removeActiveDescendant(){this.element.removeAttribute("aria-activedescendant")}_onInput(){"select-one"!==this.type&&this.setWidth()}_onPaste(t){this.preventPaste&&axPreventDefault(t)}_onFocus(){this.isFocussed=!0}_onBlur(){this.isFocussed=!1}}class I{constructor({element:t}){this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}clear(){this.element.innerHTML=""}append(t){this.element.appendChild(t)}getChild(t){return this.element.querySelector(t)}hasChildren(){return this.element.hasChildNodes()}scrollToTop(){this.element.scrollTop=0}scrollToChildElement(t,e){if(!t)return;const i=this.element.offsetHeight,s=this.element.scrollTop+i,a=t.offsetHeight,o=t.offsetTop+a,n=e>0?this.element.scrollTop+o-s:t.offsetTop;requestAnimationFrame(()=>{this._animateScroll(n,e)})}_scrollDown(t,e,i){const s=(i-t)/e,a=s>1?s:1;this.element.scrollTop=t+a}_scrollUp(t,e,i){const s=(t-i)/e,a=s>1?s:1;this.element.scrollTop=t-a}_animateScroll(t,e){const i=this.element.scrollTop;let s=!1;e>0?(this._scrollDown(i,4,t),i<t&&(s=!0)):(this._scrollUp(i,4,t),i>t&&(s=!0)),s&&requestAnimationFrame(()=>{this._animateScroll(t,e)})}}class k{constructor({element:t,classNames:e}){if(this.element=t,this.classNames=e,!(t instanceof HTMLInputElement||t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}get isActive(){return"active"===this.element.dataset.choice}get dir(){return this.element.dir}get value(){return this.element.value}set value(t){this.element.value=t}conceal(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;const t=this.element.getAttribute("style");t&&this.element.setAttribute("data-choice-orig-style",t),this.element.setAttribute("data-choice","active")}reveal(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");const t=this.element.getAttribute("data-choice-orig-style");t?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",t)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value}enable(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1}disable(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0}triggerEvent(t,e){((t,e,i=null)=>{const s=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0});t.dispatchEvent(s)})(this.element,t,e)}}class _ extends k{constructor({element:t,classNames:e,delimiter:i}){super({element:t,classNames:e}),this.delimiter=i}get value(){return this.element.value}set value(t){this.element.setAttribute("value",t),this.element.value=t}}class N extends k{constructor({element:t,classNames:e,template:i}){super({element:t,classNames:e}),this.template=i}get placeholderOption(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")}get optionGroups(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}get options(){return Array.from(this.element.options)}set options(t){const e=document.createDocumentFragment(),i=t=>{const i=this.template(t);e.appendChild(i)};t.forEach(t=>i(t)),this.appendDocFragment(e)}appendDocFragment(t){this.element.innerHTML="",this.element.appendChild(t)}}const j={disabled:!1,size:"",width:"",items:[],choices:[],silent:!1,renderChoiceLimit:-1,className:"",maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!1,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:({value:t,label:e=t},{value:i,label:s=i})=>e.localeCompare(s,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0}),placeholder:!0,placeholderValue:"请输入关键字...",searchPlaceholderValue:"请输入关键字...",prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"加载中...",noResultsText:"没有检索结果",noChoicesText:"没有符合条件的选项",itemSelectText:"点击选择",uniqueItemText:"只能添加唯一值",customAddItemText:"只可添加条件匹配的选项",addItemText:t=>`按回车键添加 <b>"${axCleanString(t)}"</b> 选项`,maxItemText:t=>`只能添加 ${t} 项`,valueComparer:(t,e)=>t===e,fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:"ax-select",containerInner:"ax-select-inner",input:"ax-select-input",inputCloned:"ax-input",list:"ax-select-list",listItems:"ax-label-multiple",listSingle:"ax-label-single",listDropdown:"ax-select-dropdown",dropdownList:"ax-item-list",item:"ax-item",itemSelectable:"ax-item-selectable",itemDisabled:"ax-item-disabled",itemChoice:"ax-item-done",placeholder:"ax-select-placeholder",group:"ax-item-group",groupHeading:"ax-group-name",button:"ax-close",activeState:"ax-active",focusState:"ax-focuse",openState:"ax-open",disabledState:"ax-disabled",highlightedState:"ax-highlight",selectedState:"ax-selected",flippedState:"ax-flipped",loadingState:"ax-buffer",noResults:"ax-no-results",noChoices:"ax-no-select"}},O=[];const $=[];const P=[];const z={groups:[],items:[],choices:[],loading:!1},Y=Redux.combineReducers({items:function(t=O,e={}){switch(e.type){case"ADD_ITEM":{const i=e;return[...t,{id:i.id,choiceId:i.choiceId,groupId:i.groupId,value:i.value,label:i.label,active:!0,highlighted:!1,customProperties:i.customProperties,placeholder:i.placeholder||!1,keyCode:null}].map(t=>{const e=t;return e.highlighted=!1,e})}case"REMOVE_ITEM":return t.map(t=>{const i=t;return i.id===e.id&&(i.active=!1),i});case"HIGHLIGHT_ITEM":{const i=e;return t.map(t=>{const e=t;return e.id===i.id&&(e.highlighted=i.highlighted),e})}default:return t}},groups:function(t=$,e={}){switch(e.type){case"ADD_GROUP":{const i=e;return[...t,{id:i.id,value:i.value,active:i.active,disabled:i.disabled}]}case"CLEAR_CHOICES":return[];default:return t}},choices:function(t=P,e={}){switch(e.type){case"ADD_CHOICE":{const i=e,s={id:i.id,elementId:i.elementId,groupId:i.groupId,value:i.value,label:i.label||i.value,disabled:i.disabled||!1,selected:!1,active:!0,score:9999,customProperties:i.customProperties,placeholder:i.placeholder||!1};return[...t,s]}case"ADD_ITEM":{const i=e;return i.choiceId>-1?t.map(t=>{const e=t;return e.id===parseInt(`${i.choiceId}`,10)&&(e.selected=!0),e}):t}case"REMOVE_ITEM":{const i=e;return i.choiceId&&i.choiceId>-1?t.map(t=>{const e=t;return e.id===parseInt(`${i.choiceId}`,10)&&(e.selected=!1),e}):t}case"FILTER_CHOICES":{const i=e;return t.map(t=>{const e=t;return e.active=i.results.some(({item:t,score:i})=>t.id===e.id&&(e.score=i,!0)),e})}case"ACTIVATE_CHOICES":{const i=e;return t.map(t=>{const e=t;return e.active=i.active,e})}case"CLEAR_CHOICES":return P;default:return t}},loading:(t=!1,e={})=>{switch(e.type){case"SET_IS_LOADING":return e.isLoading;default:return t}}}),H=(t,e)=>{let i=t;if("CLEAR_ALL"===e.type)i=z;else if("RESET_TO"===e.type)return s=e.state,JSON.parse(JSON.stringify(s));var s;return Y(i,e)};class B{constructor(){this._store=Redux.createStore(H,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}subscribe(t){this._store.subscribe(t)}dispatch(t){this._store.dispatch(t)}get state(){return this._store.getState()}get items(){return this.state.items}get activeItems(){return this.items.filter(t=>!0===t.active)}get highlightedActiveItems(){return this.items.filter(t=>t.active&&t.highlighted)}get choices(){return this.state.choices}get activeChoices(){return this.choices.filter(t=>!0===t.active)}get selectableChoices(){return this.choices.filter(t=>!0!==t.disabled)}get searchableChoices(){return this.selectableChoices.filter(t=>!0!==t.placeholder)}get placeholderChoice(){return[...this.choices].reverse().find(t=>!0===t.placeholder)}get groups(){return this.state.groups}get activeGroups(){const{groups:t,choices:e}=this;return t.filter(t=>{const i=!0===t.active&&!1===t.disabled,s=e.some(t=>!0===t.active&&!1===t.disabled);return i&&s},[])}isLoading(){return this.state.loading}getChoiceById(t){return this.activeChoices.find(e=>e.id===parseInt(t,10))}getGroupById(t){return this.groups.find(e=>e.id===t)}}const q={containerOuter({classNames:{containerOuter:t}},e,i,s,a,o,n){const r=Object.assign(document.createElement("div"),{className:t});return r.dataset.type=o,e&&(r.dir=e),s&&(r.tabIndex=0),i&&(r.setAttribute("role",a?"combobox":"listbox"),a&&r.setAttribute("aria-autocomplete","list")),r.setAttribute("aria-haspopup","true"),r.setAttribute("aria-expanded","false"),this.config.className&&r.classList.add(this.config.className),this.config.size&&r.setAttribute("data-size",this.config.size),n&&r.setAttribute("aria-labeledby",n),r},containerInner:({classNames:{containerInner:t}})=>Object.assign(document.createElement("div"),{className:t}),itemList:({classNames:{list:t,listSingle:e,listItems:i}},s)=>Object.assign(document.createElement("span"),{className:`${s?e:i}`}),placeholder:({allowHTML:t,classNames:{placeholder:e}},i)=>Object.assign(document.createElement("div"),{className:e,[t?"innerHTML":"innerText"]:i}),item({allowHTML:t,classNames:{item:e,button:i,highlightedState:s,itemSelectable:a,placeholder:o}},{id:n,value:r,label:l,customProperties:h,active:d,disabled:c,highlighted:p,placeholder:u},m){const f=Object.assign(document.createElement("span"),{className:e,[t?"innerHTML":"innerText"]:l});if(Object.assign(f.dataset,{item:"",id:n,value:r,customProperties:h}),d&&f.setAttribute("aria-selected","true"),c&&f.setAttribute("aria-disabled","true"),u&&f.classList.add(o),f.classList.add(p?s:a),m){c&&f.classList.remove(a),f.dataset.deletable="";const e="",s=Object.assign(document.createElement("i"),{type:"button",className:i,[t?"innerHTML":"innerText"]:e});s.setAttribute("aria-label",`${e}: '${r}'`),s.dataset.button="",f.appendChild(s)}return f},choiceList({classNames:{dropdownList:t}},e){const i=Object.assign(document.createElement("div"),{className:t});return e||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup({allowHTML:t,classNames:{group:e,groupHeading:i,itemDisabled:s}},{id:a,value:o,disabled:n}){const r=Object.assign(document.createElement("div"),{className:`${e} ${n?s:""}`});return r.setAttribute("role","group"),Object.assign(r.dataset,{group:"",id:a,value:o}),n&&r.setAttribute("aria-disabled","true"),r.appendChild(Object.assign(document.createElement("div"),{className:i,[t?"innerHTML":"innerText"]:o})),r},choice({allowHTML:t,classNames:{item:e,itemChoice:i,itemSelectable:s,selectedState:a,itemDisabled:o,placeholder:n}},{id:r,value:l,label:h,groupId:d,elementId:c,disabled:p,selected:u,placeholder:m},f){const g=Object.assign(document.createElement("div"),{id:c,[t?"innerHTML":"innerText"]:h,className:`${e} ${i}`});return u&&g.classList.add(a),m&&g.classList.add(n),g.setAttribute("role",d&&d>0?"treeitem":"option"),Object.assign(g.dataset,{choice:"",id:r,value:l,selectText:f}),p?(g.classList.add(o),g.dataset.choiceDisabled="",g.setAttribute("aria-disabled","true")):(g.classList.add(s),g.dataset.choiceSelectable=""),g},input({classNames:{input:t,inputCloned:e}},i){const s=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:`${t} ${e}`,autocomplete:"off",autocapitalize:"off",spellcheck:!1});return s.setAttribute("role","textbox"),s.setAttribute("aria-autocomplete","list"),s.setAttribute("aria-label",i),s},dropdown({classNames:{list:t,listDropdown:e}}){const i=document.createElement("div");return i.classList.add(e),i.setAttribute("aria-expanded","false"),i},notice({allowHTML:t,classNames:{item:e,itemChoice:i,noResults:s,noChoices:a}},o,n=""){const r=[e,i];return"no-choices"===n?r.push(a):"no-results"===n&&r.push(s),Object.assign(document.createElement("div"),{[t?"innerHTML":"innerText"]:o,className:r.join(" ")})},option({label:t,value:e,customProperties:i,active:s,disabled:a}){const o=new Option(t,e,!1,s);return i&&(o.dataset.customProperties=`${i}`),o.disabled=!!a,o}},F="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,R={};class V{constructor(t="[data-choice]",e={}){e.allowHTML,this.config=axClone(axMerge(axMerge(j,V.defaults.options,{attrAppend:!0,clone:!0}),e,{attrAppend:!0,clone:!0})),this.origElem=t,this.config=axMerge(this.config,axAttrToJson(t,"axSelect"));const i=((t,e)=>{const i=Object.keys(t).sort(),s=Object.keys(e).sort();return i.filter(t=>s.indexOf(t)<0)})(this.config,j);i.length&&console.warn("Unknown config option(s) passed",i.join(", "));const s="string"==typeof t?document.querySelector(t):t;if(!(s instanceof HTMLInputElement||s instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement="text"===s.type,this._isSelectOneElement="select-one"===s.type,this._isSelectMultipleElement="select-multiple"===s.type,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes(`${this.config.renderSelectedChoices}`)||(this.config.renderSelectedChoices="auto"),e.addItemFilter&&"function"!=typeof e.addItemFilter){const t=e.addItemFilter instanceof RegExp?e.addItemFilter:new RegExp(e.addItemFilter);this.config.addItemFilter=t.test.bind(t)}if(this._isTextElement?this.passedElement=new _({element:s,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new N({element:s,classNames:this.config.classNames,template:t=>this._templates.option(t)}),this.initialised=!1,this._store=new B,this._initialState=z,this._currentState=z,this._prevState=z,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=axCreateId("choices-","",this.passedElement.element),this._direction=this.passedElement.dir,!this._direction){const{direction:t}=window.getComputedStyle(this.passedElement.element),{direction:e}=window.getComputedStyle(document.documentElement);t!==e&&(this._direction=t)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){const t=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(t)}if(this.passedElement.options&&this.passedElement.options.forEach(t=>{this._presetChoices.push({value:t.value,label:t.innerHTML,selected:!!t.selected,disabled:t.disabled||t.parentNode.disabled,placeholder:""===t.value||t.hasAttribute("placeholder"),customProperties:t.dataset["custom-properties"]})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),void(this.initialised=!0);t&&t.hasOwnProperty("axSelect")&&t.getAttribute("axSelect")?this.referName=t.getAttribute("axSelect"):this.referName="",this.init(),this.config.disabled&&this.disable()}static get defaults(){return Object.preventExtensions({get options(){return R},get templates(){return q}})}init(t){if(this.initialised)return;this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;const{callbackOnInit:e}=this.config;if(e&&"function"==typeof e&&e.call(this),t&&t.call(this),this.referName)if(axIsEmpty(axSelects))axSelects.push({name:this.referName,instance:this});else for(let t=0;t<axSelects.length;t++){if(axSelects[t].name==this.referName){axSelects[t].instance=this;break}axSelects.push({name:this.referName,instance:this})}}destroy(t){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=q,this.initialised=!1,t&&t.call(this))}enable(t){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),t&&t.call(this),this}disable(t){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),t&&t.call(this),this}highlightItem(t,e=!0,i){if(!t||!t.id)return this;const{id:s,groupId:a=-1,value:o="",label:n=""}=t,l=a>=0?this._store.getGroupById(a):null;return this._store.dispatch(T(s,!0)),e&&this.passedElement.triggerEvent(r,{id:s,value:o,label:n,groupValue:l&&l.value?l.value:null}),i&&i.call(this),this}unhighlightItem(t,e){if(!t||!t.id)return this;const{id:i,groupId:s=-1,value:a="",label:o=""}=t,n=s>=0?this._store.getGroupById(s):null;return this._store.dispatch(T(i,!1)),this.passedElement.triggerEvent(r,{id:i,value:a,label:o,groupValue:n&&n.value?n.value:null}),e&&e.call(this),this}highlightAll(t){return this._store.items.forEach(t=>this.highlightItem(t)),t&&t.call(this),this}unhighlightAll(t){return this._store.items.forEach(t=>this.unhighlightItem(t)),t&&t.call(this),this}removeActiveItemsByValue(t,e){return this._store.activeItems.filter(e=>e.value===t).forEach(t=>this._removeItem(t)),e&&e.call(this),this}removeActiveItems(t,e){return this._store.activeItems.filter(({id:e})=>e!==t).forEach(t=>this._removeItem(t)),e&&e.call(this),this}removeHighlightedItems(t=!1,e){return this._store.highlightedActiveItems.forEach(e=>{this._removeItem(e),t&&this._triggerChange(e.value)}),e&&e.call(this),this}showDropdown(e,i){return this.dropdown.isActive?this:(requestAnimationFrame(()=>{this.dropdown.show(),this.containerOuter.open(this.dropdown.distanceFromTopWindow),!e&&this._canSearch&&this.input.focus(),this.passedElement.triggerEvent(t,{})}),i&&i.call(this),this)}hideDropdown(t,i){return this.dropdown.isActive?(requestAnimationFrame(()=>{this.dropdown.hide(),this.containerOuter.close(),!t&&this._canSearch&&(this.input.removeActiveDescendant(),this.input.blur()),this.passedElement.triggerEvent(e,{})}),i&&i.call(this),this):(i&&i.call(this),this)}getValue(t=!1,e){const i=this._store.activeItems.reduce((e,i)=>{const s=t?i.value:i;return e.push(s),e},[]);return e&&e.call(this),this._isSelectOneElement?i[0]:i}setValue(t,e){return this.initialised?(t.forEach(t=>this._setChoiceOrItem(t)),e&&e.call(this),this):this}setChoiceByValue(t,e){if(!this.initialised||this._isTextElement)return this;return(Array.isArray(t)?t:[t]).forEach(t=>this._findAndSelectChoiceByValue(t)),e&&e.call(this),this}setChoices(t=[],e="value",i="label",s=!1,a){if(!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof e||!e)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(s&&this.clearChoices(),"function"==typeof t){const a=t(this);if("function"==typeof Promise&&a instanceof Promise)return new Promise(t=>requestAnimationFrame(t)).then(()=>this._handleLoadingState(!0)).then(()=>a).then(t=>this.setChoices(t,e,i,s)).catch(t=>{this.config.silent||console.error(t)}).then(()=>this._handleLoadingState(!1)).then(()=>this);if(!Array.isArray(a))throw new TypeError(`.setChoices first argument function must return either array of choices or Promise, got: ${typeof a}`);return this.setChoices(a,e,i,!1)}if(!Array.isArray(t))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),t.forEach(t=>{if(t.choices)this._addGroup({id:t.id?parseInt(`${t.id}`,10):null,group:t,valueKey:e,labelKey:i});else{const s=t;this._addChoice({value:s[e],label:s[i],isSelected:!!s.selected,isDisabled:!!s.disabled,placeholder:!!s.placeholder,customProperties:s.customProperties})}}),this._stopLoading(),a&&a.call(this),this}clearChoices(t){return this._store.dispatch({type:p}),t&&t.call(this),this}clearStore(t){return this._store.dispatch({type:x}),t&&t.call(this),this}clearInput(t){const e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch(w(!0))),t&&t.call(this),this}_render(t){if(this._store.isLoading())return;this._currentState=this._store.state;const e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,i=this._isSelectElement,s=this._currentState.items!==this._prevState.items;e&&(i&&this._renderChoices(),s&&this._renderItems(),this._prevState=this._currentState,t&&t.call(this))}_renderChoices(){const{activeGroups:t,activeChoices:e}=this._store;let i=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(()=>this.choiceList.scrollToTop()),t.length>=1&&!this._isSearching){const s=e.filter(t=>!0===t.placeholder&&-1===t.groupId);s.length>=1&&(i=this._createChoicesFragment(s,i)),i=this._createGroupsFragment(t,e,i)}else e.length>=1&&(i=this._createChoicesFragment(e,i));if(i.childNodes&&i.childNodes.length>0){const{activeItems:t}=this._store,e=this._canAddItem(t,this.input.value);if(e.response)this.choiceList.append(i),this._highlightChoice();else{const t=this._getTemplate("notice",e.notice);this.choiceList.append(t)}}else{let t,e;this._isSearching?(e="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,t=this._getTemplate("notice",e,"no-results")):(e="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,t=this._getTemplate("notice",e,"no-choices")),this.choiceList.append(t)}}_renderItems(){const t=this._store.activeItems||[];this.itemList.clear();const e=this._createItemsFragment(t);e.childNodes&&this.itemList.append(e)}_createGroupsFragment(t,e,i=document.createDocumentFragment()){const s=t=>e.filter(e=>this._isSelectOneElement?e.groupId===t.id:e.groupId===t.id&&("always"===this.config.renderSelectedChoices||!e.selected));return this.config.shouldSort&&t.sort(this.config.sorter),t.forEach(t=>{const e=s(t);if(e.length>=1){const s=this._getTemplate("choiceGroup",t);i.appendChild(s),this._createChoicesFragment(e,i,!0)}}),i}_createChoicesFragment(t,e=document.createDocumentFragment(),i=!1){const{renderSelectedChoices:s,searchResultLimit:a,renderChoiceLimit:o}=this.config,n=this._isSearching?A:this.config.sorter,r=t=>{if("auto"!==s||(this._isSelectOneElement||!t.selected)){const i=this._getTemplate("choice",t,this.config.itemSelectText);e.appendChild(i)}};let l=t;"auto"!==s||this._isSelectOneElement||(l=t.filter(t=>!t.selected));const{placeholderChoices:h,normalChoices:d}=l.reduce((t,e)=>(e.placeholder?t.placeholderChoices.push(e):t.normalChoices.push(e),t),{placeholderChoices:[],normalChoices:[]});(this.config.shouldSort||this._isSearching)&&d.sort(n);let c=l.length;const p=this._isSelectOneElement?[...h,...d]:d;this._isSearching?c=a:o&&o>0&&!i&&(c=o);for(let t=0;t<c;t+=1)p[t]&&r(p[t]);return e}_createItemsFragment(t,e=document.createDocumentFragment()){const{shouldSortItems:i,sorter:s,removeItemButton:a}=this.config;i&&!this._isSelectOneElement&&t.sort(s),this._isTextElement?this.passedElement.value=t.map(({value:t})=>t).join(this.config.delimiter):this.passedElement.options=t;return t.forEach(t=>{const i=this._getTemplate("item",t,a);e.appendChild(i)}),e}_triggerChange(t){null!=t&&this.passedElement.triggerEvent(i,{value:t})}_selectPlaceholderChoice(t){this._addItem({value:t.value,label:t.label,choiceId:t.id,groupId:t.groupId,placeholder:t.placeholder}),this._triggerChange(t.value)}_handleButtonAction(t,e){if(!(t&&e&&this.config.removeItems&&this.config.removeItemButton))return;const i=e.parentNode&&e.parentNode.dataset.id,s=i&&t.find(t=>t.id===parseInt(i,10));s&&(this._removeItem(s),this._triggerChange(s.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}_handleItemAction(t,e,i=!1){if(!t||!e||!this.config.removeItems||this._isSelectOneElement)return;const s=e.dataset.id;t.forEach(t=>{t.id!==parseInt(`${s}`,10)||t.highlighted?!i&&t.highlighted&&this.unhighlightItem(t):this.highlightItem(t)}),this.input.focus()}_handleChoiceAction(t,e){if(!t||!e)return;const{id:i}=e.dataset,a=i&&this._store.getChoiceById(i);if(!a)return;const o=t[0]&&t[0].keyCode?t[0].keyCode:void 0,n=this.dropdown.isActive;if(a.keyCode=o,this.passedElement.triggerEvent(s,{choice:a}),!a.selected&&!a.disabled){this._canAddItem(t,a.value).response&&(this._addItem({value:a.value,label:a.label,choiceId:a.id,groupId:a.groupId,customProperties:a.customProperties,placeholder:a.placeholder,keyCode:a.keyCode}),this._triggerChange(a.value))}this.clearInput(),n&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}_handleBackspace(t){if(!this.config.removeItems||!t)return;const e=t[t.length-1],i=t.some(t=>t.highlighted);this.config.editItems&&!i&&e?(this.input.value=e.value,this.input.setWidth(),this._removeItem(e),this._triggerChange(e.value)):(i||this.highlightItem(e,!1),this.removeHighlightedItems(!0))}_startLoading(){this._store.dispatch(E(!0))}_stopLoading(){this._store.dispatch(E(!1))}_handleLoadingState(t=!0){let e=this.itemList.getChild(`.${this.config.classNames.placeholder}`);t?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?e?e.innerHTML=this.config.loadingText:(e=this._getTemplate("placeholder",this.config.loadingText),e&&this.itemList.append(e)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?e&&(e.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")}_handleSearch(t){if(!this.input.isFocussed)return;const{choices:e}=this._store,{searchFloor:i,searchChoices:s}=this.config,o=e.some(t=>!t.active);if(null!=t&&t.length>=i){const e=s?this._searchChoices(t):0;this.passedElement.triggerEvent(a,{value:t,resultCount:e})}else o&&(this._isSearching=!1,this._store.dispatch(w(!0)))}_canAddItem(t,e){let i=!0,s="function"==typeof this.config.addItemText?this.config.addItemText(e):this.config.addItemText;if(!this._isSelectOneElement){const a=((t,e,i="value")=>t.some(t=>"string"==typeof e?t[i]===e.trim():t[i]===e))(t,e);this.config.maxItemCount>0&&this.config.maxItemCount<=t.length&&(i=!1,s="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&a&&i&&(i=!1,s="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(e):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&i&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(e)&&(i=!1,s="function"==typeof this.config.customAddItemText?this.config.customAddItemText(e):this.config.customAddItemText)}return{response:i,notice:s}}_searchChoices(t){const e="string"==typeof t?t.trim():t,i="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(e.length<1&&e===`${i} `)return 0;const s=this._store.searchableChoices,a=e,o=Object.assign(this.config.fuseOptions,{keys:[...this.config.searchFields],includeMatches:!0}),n=new Fuse(s,o).search(a);return this._currentValue=e,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((t=>({type:d,results:t}))(n)),n.length}_addEventListeners(){const{documentElement:t}=document;t.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("click",this._onClick,{passive:!0}),t.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()}_removeEventListeners(){const{documentElement:t}=document;t.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("click",this._onClick),t.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()}_onKeyDown(t){const{keyCode:e}=t,{activeItems:i}=this._store,s=this.input.isFocussed,a=this.dropdown.isActive,o=this.itemList.hasChildren(),n=String.fromCharCode(e),r=/[a-zA-Z0-9-_ ]/.test(n),{BACK_KEY:l,DELETE_KEY:h,ENTER_KEY:d,A_KEY:c,ESC_KEY:p,UP_KEY:u,DOWN_KEY:m,PAGE_UP_KEY:f,PAGE_DOWN_KEY:g}=b;switch(this._isTextElement||a||!r||(this.showDropdown(),this.input.isFocussed||(this.input.value+=n.toLowerCase())),e){case c:return this._onSelectKey(t,o);case d:return this._onEnterKey(t,i,a);case p:return this._onEscapeKey(a);case u:case f:case m:case g:return this._onDirectionKey(t,a);case h:case l:return this._onDeleteKey(t,i,s)}}_onKeyUp({target:t,keyCode:e}){const{value:i}=this.input,{activeItems:s}=this._store,a=this._canAddItem(s,i),{BACK_KEY:o,DELETE_KEY:n}=b;if(this._isTextElement){if(a.notice&&i){const t=this._getTemplate("notice",a.notice);this.dropdown.element.innerHTML=t.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{const i=(e===o||e===n)&&t&&!t.value,s=!this._isTextElement&&this._isSearching,r=this._canSearch&&a.response;i&&s?(this._isSearching=!1,this._store.dispatch(w(!0))):r&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled}_onSelectKey(t,e){const{ctrlKey:i,metaKey:s}=t;if((i||s)&&e){this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll()}}_onEnterKey(t,e,i){const{target:s}=t,{ENTER_KEY:a}=b,o=s&&s.hasAttribute("data-button");if(this._isTextElement&&s&&s.value){const{value:t}=this.input;this._canAddItem(e,t).response&&(this.hideDropdown(!0),this._addItem({value:t}),this._triggerChange(t),this.clearInput())}if(o&&(this._handleButtonAction(e,s),axPreventDefault(t)),i){const i=this.dropdown.getChild(`.${this.config.classNames.highlightedState}`);i&&(e[0]&&(e[0].keyCode=a),this._handleChoiceAction(e,i)),axPreventDefault(t)}else this._isSelectOneElement&&(this.showDropdown(),axPreventDefault(t))}_onEscapeKey(t){t&&(this.hideDropdown(!0),this.containerOuter.focus())}_onDirectionKey(t,e){const{keyCode:i,metaKey:s}=t,{DOWN_KEY:a,PAGE_UP_KEY:o,PAGE_DOWN_KEY:n}=b;if(e||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;const e=i===a||i===n?1:-1,r="[data-choice-selectable]";let l;if(s||i===n||i===o)l=e>0?this.dropdown.element.querySelector(`${r}:last-of-type`):this.dropdown.element.querySelector(r);else{const t=this.dropdown.element.querySelector(`.${this.config.classNames.highlightedState}`);l=t?((t,e,i=1)=>{const s=`${i>0?"next":"previous"}ElementSibling`;let a=t[s];for(;a;){if(a.matches(e))return a;a=a[s]}return a})(t,r,e):this.dropdown.element.querySelector(r)}l&&(((t,e,i=1)=>{if(!t)return!1;let s;return s=i>0?e.scrollTop+e.offsetHeight>=t.offsetTop+t.offsetHeight:t.offsetTop>=e.scrollTop,s})(l,this.choiceList.element,e)||this.choiceList.scrollToChildElement(l,e),this._highlightChoice(l)),axPreventDefault(t)}}_onDeleteKey(t,e,i){const{target:s}=t;this._isSelectOneElement||s.value||!i||(this._handleBackspace(e),axPreventDefault(t))}_onTouchMove(){this._wasTap&&(this._wasTap=!1)}_onTouchEnd(t){const{target:e}=t||t.touches[0];if(this._wasTap&&this.containerOuter.element.contains(e)){(e===this.containerOuter.element||e===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),t.stopPropagation()}this._wasTap=!0}_onMouseDown(t){const{target:e}=t;if(!(e instanceof HTMLElement))return;if(F&&this.choiceList.element.contains(e)){const e=this.choiceList.element.firstElementChild,i="ltr"===this._direction?t.offsetX>=e.offsetWidth:t.offsetX<e.offsetLeft;this._isScrollingOnIe=i}if(e===this.input.element)return;const i=e.closest("[data-button],[data-item],[data-choice]");if(i instanceof HTMLElement){const e=t.shiftKey,{activeItems:s}=this._store,{dataset:a}=i;"button"in a?this._handleButtonAction(s,i):"item"in a?this._handleItemAction(s,i,e):"choice"in a&&this._handleChoiceAction(s,i)}axPreventDefault(t)}_onMouseOver({target:t}){t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)}_onClick({target:t}){if(this.containerOuter.element.contains(t))this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus());else{this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}}_onFocus({target:t}){t&&this.containerOuter.element.contains(t)&&{text:()=>{t===this.input.element&&this.containerOuter.addFocusState()},"select-one":()=>{this.containerOuter.addFocusState(),t===this.input.element&&this.showDropdown(!0)},"select-multiple":()=>{t===this.input.element&&(this.showDropdown(!0),this.containerOuter.addFocusState())}}[this.passedElement.element.type]()}_onBlur({target:t}){if(t&&this.containerOuter.element.contains(t)&&!this._isScrollingOnIe){const{activeItems:e}=this._store,i=e.some(t=>t.highlighted);({text:()=>{t===this.input.element&&(this.containerOuter.removeFocusState(),i&&this.unhighlightAll(),this.hideDropdown(!0))},"select-one":()=>{this.containerOuter.removeFocusState(),(t===this.input.element||t===this.containerOuter.element&&!this._canSearch)&&this.hideDropdown(!0)},"select-multiple":()=>{t===this.input.element&&(this.containerOuter.removeFocusState(),this.hideDropdown(!0),i&&this.unhighlightAll())}})[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()}_onFormReset(){var t;this._store.dispatch((t=this._initialState,{type:v,state:t}))}_highlightChoice(t=null){const e=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(!e.length)return;let i=t;Array.from(this.dropdown.element.querySelectorAll(`.${this.config.classNames.highlightedState}`)).forEach(t=>{t.classList.remove(this.config.classNames.highlightedState),t.setAttribute("aria-selected","false")}),i?this._highlightPosition=e.indexOf(i):(i=e.length>this._highlightPosition?e[this._highlightPosition]:e[e.length-1],i||(i=e[0])),i.classList.add(this.config.classNames.highlightedState),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(l,{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}_addItem({value:t,label:e=null,choiceId:i=-1,groupId:s=-1,customProperties:a={},placeholder:n=!1,keyCode:r=-1}){let l="string"==typeof t?t.trim():t;const{items:h}=this._store,d=e||l,c=i||-1,p=s>=0?this._store.getGroupById(s):null,u=h?h.length+1:1;this.config.prependValue&&(l=this.config.prependValue+l.toString()),this.config.appendValue&&(l+=this.config.appendValue.toString()),this._store.dispatch((({value:t,label:e,id:i,choiceId:s,groupId:a,customProperties:o,placeholder:n,keyCode:r})=>({type:m,value:t,label:e,id:i,choiceId:s,groupId:a,customProperties:o,placeholder:n,keyCode:r}))({value:l,label:d,id:u,choiceId:c,groupId:s,customProperties:a,placeholder:n,keyCode:r})),this._isSelectOneElement&&this.removeActiveItems(u),this.passedElement.triggerEvent(o,{id:u,value:l,label:d,customProperties:a,groupValue:p&&p.value?p.value:null,keyCode:r})}_removeItem(t){const{id:e,value:i,label:s,customProperties:a,choiceId:o,groupId:r}=t,l=r&&r>=0?this._store.getGroupById(r):null;e&&o&&(this._store.dispatch(((t,e)=>({type:f,id:t,choiceId:e}))(e,o)),this.passedElement.triggerEvent(n,{id:e,value:i,label:s,customProperties:a,groupValue:l&&l.value?l.value:null}))}_addChoice({value:t,label:e=null,isSelected:i=!1,isDisabled:s=!1,groupId:a=-1,customProperties:o={},placeholder:n=!1,keyCode:r=-1}){if(null==t)return;const{choices:l}=this._store,d=e||t,c=l?l.length+1:1,p=`${this._baseId}-${this._idNames.itemChoice}-${c}`;this._store.dispatch((({value:t,label:e,id:i,groupId:s,disabled:a,elementId:o,customProperties:n,placeholder:r,keyCode:l})=>({type:h,value:t,label:e,id:i,groupId:s,disabled:a,elementId:o,customProperties:n,placeholder:r,keyCode:l}))({id:c,groupId:a,elementId:p,value:t,label:d,disabled:s,customProperties:o,placeholder:n,keyCode:r})),i&&this._addItem({value:t,label:d,choiceId:c,customProperties:o,placeholder:n,keyCode:r})}_addGroup({group:t,id:e,valueKey:i="value",labelKey:s="label"}){const a=axTypeIs("Object",t)?t.choices:Array.from(t.getElementsByTagName("OPTION")),o=e||Math.floor((new Date).valueOf()*Math.random()),n=!!t.disabled&&t.disabled;if(a){this._store.dispatch(D({value:t.label,id:o,active:!0,disabled:n}));const e=t=>{const e=t.disabled||t.parentNode&&t.parentNode.disabled;this._addChoice({value:t[i],label:axTypeIs("Object",t)?t[s]:t.innerHTML,isSelected:t.selected,isDisabled:e,groupId:o,customProperties:t.customProperties,placeholder:t.placeholder})};a.forEach(e)}else this._store.dispatch(D({value:t.label,id:t.id,active:!1,disabled:t.disabled}))}_getTemplate(t,...e){return this._templates[t].call(this,this.config,...e)}_createTemplates(){const{callbackOnCreateTemplates:t}=this.config;let e={};t&&"function"==typeof t&&(e=t.call(this,S)),this._templates=axMerge(q,e,{arrAppend:!0,attrAppend:!0,clone:!0})}_createElements(){this.containerOuter=new C({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new C({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new L({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new I({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new I({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new M({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})}_createStructure(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this.config.width?this.containerOuter.element.style.width=this.config.width:this.origElem.style&&this.origElem.style.width&&(this.containerOuter.element.style.width=this.origElem.style.width),this._isTextElement&&this._addPredefinedItems(this._presetItems),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element)}_addPredefinedGroups(t){const e=this.passedElement.placeholderOption;e&&e.parentNode&&"SELECT"===e.parentNode.tagName&&this._addChoice({value:e.value,label:e.innerHTML,isSelected:e.selected,isDisabled:e.disabled,placeholder:!0}),t.forEach(t=>this._addGroup({group:t,id:t.id||null}))}_addPredefinedChoices(t){this.config.shouldSort&&t.sort(this.config.sorter);const e=t.some(t=>t.selected),i=t.findIndex(t=>void 0===t.disabled||!t.disabled);t.forEach((t,s)=>{const{value:a="",label:o,customProperties:n,placeholder:r}=t;if(this._isSelectElement)if(t.choices)this._addGroup({group:t,id:t.id||null});else{const l=!!(this._isSelectOneElement&&!e&&s===i)||t.selected,h=t.disabled;this._addChoice({value:a,label:o,isSelected:!!l,isDisabled:!!h,placeholder:!!r,customProperties:n})}else this._addChoice({value:a,label:o,isSelected:!!t.selected,isDisabled:!!t.disabled,placeholder:!!t.placeholder,customProperties:n})})}_addPredefinedItems(t){t.forEach(t=>{"object"==typeof t&&t.value&&this._addItem({value:t.value,label:t.label,choiceId:t.id,customProperties:t.customProperties,placeholder:t.placeholder}),"string"==typeof t&&this._addItem({value:t})})}_setChoiceOrItem(t){({object:()=>{t.value&&(this._isTextElement?this._addItem({value:t.value,label:t.label,choiceId:t.id,customProperties:t.customProperties,placeholder:t.placeholder}):this._addChoice({value:t.value,label:t.label,isSelected:!0,isDisabled:!1,customProperties:t.customProperties,placeholder:t.placeholder}))},string:()=>{this._isTextElement?this._addItem({value:t}):this._addChoice({value:t,label:t,isSelected:!0,isDisabled:!1})}})[axType(t).toLowerCase()]()}_findAndSelectChoiceByValue(t){const{choices:e}=this._store,i=e.find(e=>this.config.valueComparer(e.value,t));i&&!i.selected&&this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode})}_generatePlaceholderValue(){if(this._isSelectElement&&this.passedElement.placeholderOption){const{placeholderOption:t}=this.passedElement;return t?t.text:null}const{placeholder:t,placeholderValue:e}=this.config,{element:{dataset:i}}=this.passedElement;if(t){if(e)return e;if(i.placeholder)return i.placeholder}return null}}return V}));
/*!
 * 插件：查看更多；使用方法：new axDropdown('#id',{参数})
 */
class axDropdown{constructor(t,e){return this.targetDom=axIdToDom(t),this.options=axExtend({type:"list",content:"",node:"a",nowrap:!0,breakShow:!0,arrowShow:!0,grid:{enable:!1,columns:0,fenceShow:!1},onInit:"",onBeforeSet:"",onAfterSet:"",onConfirm:"",onUpdate:"",onUpdateContent:"",plugin:{value:""},popup:{in:"slideDown",out:"slideUp",size:"sm",placement:"bottom-start",close:!1}},e,this.targetDom,this.constructor.name),this.handlers={},this.init(),this}init(){let t=this;if(this.plugin=null,this.popup=null,this.value="",this.valueArr=[],this.list=[],this.options.plugin.value?this.initValue=this.options.plugin.value:this.initValue="","INPUT"!=this.targetDom.nodeName&&"TEXTAREA"!=this.targetDom.nodeName||(this.targetDom.setAttribute("readonly",""),this.targetDom.value?(this.options.plugin.value=this.targetDom.value,this.initValue=this.targetDom.value):this.initValue&&(this.targetDom.value=this.initValue)),"checkbox"===this.options.type||"radio"===this.options.type)axIsEmpty(this.options.content)||(this.options.plugin.children=this.options.content),this.options.plugin.type=this.options.type,this.options.grid.enable?(this.options.plugin.display="grid",this.options.grid.columns&&(this.options.plugin.columns=this.options.grid.columns),this.options.grid.fenceShow&&(this.options.plugin.parentClass="ax-fence",this.options.plugin.childClass="ax-padding-left",this.options.popup.padding=!1)):this.options.plugin.display="block",this.plugin=new axCheckbox("",this.options.plugin),this.popup=new axPopup(this.targetDom,Object.assign(this.options.popup,{content:this.plugin.parent,cancel:"",diy:{text:"重置",callback:function(){t.plugin.reset()}},confirm:{type:"prevent",callback:function(){t.value=t.plugin.getValues("string"),t.valueArr=t.plugin.getValues("array"),t.options.onBeforeSet?t.options.onBeforeSet.call(t,t.value):t.setToHide(t.value),t.options.onConfirm&&t.options.onConfirm.call(t,t.value),"confirm"in t.handlers&&t.emit("confirm",t.value)}}})),this.popup.on("show",()=>{"INPUT"!==this.targetDom.nodeName&&"TEXTAREA"!==this.targetDom.nodeName||!this.targetDom.value||this.targetDom.value!=this.plugin.getValues("string")&&this.updateValues(this.targetDom.value)});else if("list"===this.options.type){this.popup=new axPopup(this.targetDom,Object.assign(this.options.popup,{footerShow:!1,padding:!1}));let t=null;"String"===axType(this.options.content)?axStrType(this.options.content)?(t=axIdToDom(this.options.content),this.popup.content.innerHTML=axIdToDom(this.options.content).innerHTML):this.popup.content.innerHTML=this.options.content:axType(this.options.content).includes("HTML")?this.popup.content.innerHTML=this.options.content.innerHTML:"Array"===axType(this.options.content)&&(t=axAddElem("div",{class:"ax-list-wrapper"}),this.renderList(this.options.content,t),this.popup.content.innerHTML="",this.popup.content.appendChild(t))}else if("button"===this.options.type){this.popup=new axPopup(this.targetDom,Object.assign(this.options.popup,{footerShow:!1,padding:!1}));let e=axAddElem("div",{class:"ax-list-wrapper"});this.renderList(this.options.content,e),this.list.forEach(e=>{e.props.disabled||(e.dom.onclick=function(i){axPreventDefault(i),t.value=e.props.value,t.valueArr=[e.props.value],this.classList.add("ax-confirm"),t.list.filter(t=>t.dom!=this).forEach(t=>{t.dom.classList.remove("ax-confirm")}),t.options.onBeforeSet?t.options.onBeforeSet.call(t,e.props.value):t.setToHide(e.props.value)})}),this.popup.content.innerHTML="",this.popup.content.appendChild(e),this.initValue&&this.updateValues(this.initValue),this.popup.on("show",()=>{"INPUT"!==this.targetDom.nodeName&&"TEXTAREA"!==this.targetDom.nodeName||!this.targetDom.value||this.updateValues(this.targetDom.value)})}else"text"===this.options.type||"textarea"===this.options.type?(this.options.plugin.type=this.options.type,this.options.content&&(this.options.plugin.value=this.options.content),this.plugin=new axInput("",this.options.plugin),this.popup=new axPopup(this.targetDom,Object.assign(this.options.popup,{content:this.plugin.parent,cancel:"",diy:{text:"重置",callback:function(){t.plugin.set(t.initValue)}},confirm:{type:"prevent",callback:function(){t.value=t.plugin.getValues("string"),t.valueArr=t.plugin.getValues("array"),t.options.onBeforeSet?t.options.onBeforeSet.call(t,t.value):t.setToHide(t.value),t.options.onConfirm&&t.options.onConfirm.call(t,t.value),"confirm"in t.handlers&&t.emit("confirm",t.value)}}})),this.popup.on("show",()=>{"INPUT"!==this.targetDom.nodeName&&"TEXTAREA"!==this.targetDom.nodeName||!this.targetDom.value||this.targetDom.value!=this.plugin.getValues()&&this.updateValues(this.targetDom.value),setTimeout(()=>{let t=this.plugin.field.value;this.plugin.field.value="",this.plugin.field.focus(),this.plugin.field.value=t},100)}),"text"===this.options.type&&(this.plugin.field.onkeyup=function(e){"Enter"===e.code&&t.popup.options.confirm.callback()})):"number"===this.options.type?(this.options.plugin.width="100%",this.plugin=new axAmount("",this.options.plugin),this.popup=new axPopup(this.targetDom,Object.assign(this.options.popup,{content:this.plugin.parent,cancel:"",diy:{text:"重置",callback:function(){t.plugin.reset()}},confirm:{type:"prevent",callback:function(){t.value=t.plugin.value,t.valueArr.push(t.plugin.value),t.options.onBeforeSet?t.options.onBeforeSet.call(t,t.value):t.setToHide(t.value),t.options.onConfirm&&t.options.onConfirm.call(t,t.value),"confirm"in t.handlers&&t.emit("confirm",t.value)}}})),this.popup.on("show",()=>{"INPUT"!==this.targetDom.nodeName&&"TEXTAREA"!==this.targetDom.nodeName||!this.targetDom.value||this.targetDom.value!=this.plugin.value&&this.updateValues(this.targetDom.value)}),setTimeout(()=>{let t=this.plugin.field.value;this.plugin.field.value="",this.plugin.field.focus(),this.plugin.field.value=t},100),this.plugin.field.onkeyup=function(e){"Enter"===e.code&&t.popup.options.confirm.callback()}):"switch"===this.options.type||"html"===this.options.type&&(this.popup=new axPopup(this.targetDom,Object.assign(this.options.popup,{footerShow:!1,content:this.options.content})));this.setAttribute(),this.options.onInit&&this.options.onInit.call(this)}setAttribute(){if(this.options.arrowShow&&this.targetDom&&!this.targetDom.querySelector(".ax-at-right")){let t=axAddElem("i",{class:"ax-dropdown-arrow"});this.targetDom.appendChild(t)}this.popup.targetDom.classList.add("ax-dropdown")}setToHide(t,e){t=t||this.value,"INPUT"===this.targetDom.nodeName&&(this.targetDom.value=t),this.options.onAfterSet&&this.options.onAfterSet.call(this,t),"set"in this.handlers&&this.emit("set",t),e&&e.call(this,t),this.popup.hide()}updateToShow(t){this.popup.show(),setTimeout(()=>{this.updateValues(t)},100)}updateValues(t){if(["checkbox","radio","text","textarea","number"].includes(this.options.type))this.plugin.set(t);else if("button"===this.options.type){let e="";e=Array.isArray(t)?t[0]:t,this.list.forEach(t=>{t.props.value===e?t.dom.classList.add("ax-confirm"):t.dom.classList.remove("ax-confirm")})}}getValues(t="string"){return"string"===t?this.value:"array"===t?this.valueArr:void 0}renderList(t,e){if(this.options.grid.enable){let t="ax-grid";this.options.grid.columns&&(t+=` ax-grid-${this.options.grid.columns}`),this.options.grid.fenceShow&&(t+=" ax-fence"),axClass.add(e,t)}t.forEach((t,i)=>{let s=axAddElem(this.options.node,{class:`ax-info-block${t.disabled?" ax-disabled":""}`,...t.props},'<div class="ax-row"><div class="ax-col"></div></div>'),a=s.querySelector(".ax-col"),o=null;"a"===this.options.node&&("list"===this.options.type?(s.target=t.target?t.target:"_blank",s.href=t.url?t.url:"###"):s.href="###"),this.options.nowrap?("a"!=this.options.node&&t.url?(o=axAddElem("a",{class:"ax-ell"},t.label),"list"===this.options.type?(o.target=t.target?t.target:"_blank",o.href=t.url?t.url:"###"):o.href="###"):o=axAddElem("span",{class:"ax-ell"},t.label),a.appendChild(o)):a.textContent=t.label,axIsEmpty(t.prefix)||("icon"===t.prefix.type?a.insertAdjacentElement("beforebegin",axAddElem("i",{class:"ax-icon ax-iconfont "+t.prefix.data})):"head"===t.prefix.type?a.insertAdjacentElement("beforebegin",axAddElem("i",{class:"ax-head",style:"background-image:url("+t.prefix.data+"),var(--load-gif);"})):"image"===t.prefix.type&&a.insertAdjacentElement("beforebegin",axAddElem("i",{class:"ax-image"},'<img src="'+t.prefix.data+'"/>'))),t.suffix&&a.insertAdjacentElement("afterend",axAddElem("span",{class:"ax-arrow"},t.suffix)),e.appendChild(s),!this.options.grid.enable&&this.options.breakShow&&i+1!=this.options.content.length&&e.insertAdjacentHTML("beforeend",'<div class="ax-break-line"></div>'),this.list.push({props:t,dom:s}),t.disabled||t.callback&&t.callback(s,t)})}update(t,e){return this.popup.targetDom.remove(),this.popup.destroy(),this.options.content=axExtend(this.options.content,t),this.init(),this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update"),e&&e.call(this),this}updateContent(t,e){return this.popup.targetDom.remove(),this.popup.destroy(),this.options.content=t,this.init(),this.options.onUpdateContent&&this.options.onUpdateContent.call(this),"updateContent"in this.handlers&&this.emit("updateContent"),e&&e.call(this),this}show(t){return this.popup.show(),t&&t.call(this),this}hide(t){return this.popup.hide(),t&&t.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axDropdown]").forEach(t=>{new axDropdown(t)});
/*!
* 插件：表单数量步进增减；使用方法：new axAmount('#id',{参数})
*/
const axAmounts=[];class axAmount{constructor(t,e){this.targetDom=t?axIdToDom(t):"",this.options=axExtend({width:"",placeholder:"输入数量",value:"",min:"",max:"",step:1,precision:0,rule:"",disabled:!1,increase:!0,decrease:!0,cookie:"",onInit:"",onMined:"",onMaxed:"",onUpdated:"",onChanged:""},e,this.targetDom,this.constructor.name),this.handlers={},this.value="",this.activeIn=!0,this.activeDe=!0,this.init()}init(){if(""!==this.options.min&&""!==this.options.mam&&this.options.min>this.options.mam)return console.error("The minimum value is greater than the maximum value!"),!1;this.createSkeleton(),this.ruleToSet(),this.initValue(),this.getCookie(),this.rawValue=this.value,this.setAttribute();let t=t=>{"ArrowUp"===t.code||"ArrowRight"===t.code?(t.preventDefault(),e()):"ArrowLeft"!==t.code&&"ArrowDown"!==t.code||(t.preventDefault(),i())},e=()=>{this.activeDe||(this.options.decrease=!0,this.decrease.removeAttribute("disabled"));let t=Number(this.field.value),e=Number(this.field.value);""===this.options.max?t+=this.options.step:""!==this.options.max&&t<this.options.max&&(t+=this.options.step),""!==this.options.max&&t+this.options.step>this.options.max&&(this.options.increae=!1,this.increase.setAttribute("disabled","true"),this.activeIn=!1,this.options.onMaxed&&this.options.onMaxed.call(this),"maxed"in this.handlers&&this.emit("maxed","")),this.field.value=t.toFixed(this.options.precision),this.value=this.field.value,this.setCookie(),this.field.value>e&&(this.options.onChanged&&this.options.onChanged.call(this,e,this.field.value),"changed"in this.handlers&&this.emit("changed",e,this.field.value))},i=()=>{this.activeIn||(this.options.increae=!0,this.increase.removeAttribute("disabled"));let t=Number(this.field.value),e=Number(this.field.value);""===this.options.min?t-=this.options.step:""!==this.options.min&&t>this.options.min&&(t-=this.options.step),""!==this.options.min&&t-this.options.step<this.options.min&&(this.options.decreae=!1,this.decrease.setAttribute("disabled","true"),this.activeDe=!1,this.options.onMined&&this.options.onMined.call(this),"mined"in this.handlers&&this.emit("mined","")),this.field.value=t.toFixed(this.options.precision),this.value=this.field.value,this.setCookie(),this.field.value<e&&(this.options.onChanged&&this.options.onChanged.call(this,e,this.field.value),"changed"in this.handlers&&this.emit("changed",e,this.field.value))};return this.options.disabled||this.field.hasAttribute("disabled")?(this.increase.removeEventListener("click",e,!1),this.decrease.removeEventListener("click",i,!1),this.field.setAttribute("disabled","")):(!this.options.increase||this.increase.hasAttribute("disabled")?(this.increase.removeEventListener("click",e,!1),this.increase.setAttribute("disabled","")):(this.increase.addEventListener("click",e,!1),this.field.addEventListener("keydown",t,!1)),!this.options.decrease||this.decrease.hasAttribute("disabled")?(this.decrease.removeEventListener("click",i,!1),this.decrease.setAttribute("disabled","")):(this.decrease.addEventListener("click",i,!1),this.field.addEventListener("keydown",t,!1)),this.field.onblur=()=>{this.value=this.correctValue(Number(this.field.value)),this.field.value=this.value,this.setCookie()},this.field.addEventListener("keyup",t=>{"Enter"===t.code&&this.field.blur()},!1)),this.options.onInit&&this.options.onInit.call(this),this}ruleToSet(){switch(this.options.rule){case"currency":this.options.min=0,this.options.max="",this.options.step=.01,this.options.precision=2;break;case"quantity":this.options.min=1,this.options.max=999,this.options.step=1,this.options.precision=0;break;case"percent":this.options.min=0,this.options.max=100,this.options.step=1,this.options.precision=0;break;case"month":this.options.min=1,this.options.max=12,this.options.step=1,this.options.precision=0;break;case"day":this.options.min=1,this.options.max=31,this.options.step=1,this.options.precision=0;break;case"hour":this.options.min=0,this.options.max=24,this.options.step=1,this.options.precision=0;break;case"minute":case"second":this.options.min=0,this.options.max=59,this.options.step=1,this.options.precision=0}}initValue(){""!==this.options.value?(""!==this.options.min&&this.options.value<this.options.min?this.value=this.options.min:""!==this.options.max&&this.options.value>this.options.max?this.value=this.options.max:this.value=this.options.value,this.field.value=this.value):this.field.value&&(""!==this.options.min&&this.options.min>Number(this.field.value)&&(this.field.value=this.options.min),""!==this.options.max&&this.options.max<Number(this.field.value)&&(this.field.value=this.options.max),this.value=this.field.value)}getCookie(){let t=axCookie.get(this.options.cookie);this.options.cookie&&t&&(this.value=t,this.field.value=t)}setCookie(){this.options.cookie&&axCookie.set(this.options.cookie,Number(this.field.value))}setAttribute(){this.options.disabled&&(this.field.setAttribute("disabled","true"),this.increase.setAttribute("diabled","true"),this.decrease.setAttribute("diabled","true")),this.options.increase||this.increase.setAttribute("diabled","true"),this.options.decrease||this.decrease.setAttribute("diabled","true"),!this.field.getAttribute("placeholder")&&this.field.setAttribute("placeholder",this.options.placeholder),this.options.width&&(this.parent.style.width=this.options.width)}createSkeleton(){this.targetDom&&"INPUT"!==this.targetDom.nodeName?(this.parent=this.targetDom,this.field=this.parent.querySelector("input"),this.increase=this.parent.querySelector("[increase]"),this.decrease=this.parent.querySelector("[decrease]")):(this.parent=axAddElem("div",{class:"ax-amount"}),this.field=this.targetDom?this.targetDom:axAddElem("input",{type:"text"}),this.decrease=axAddElem("a",{href:"###",decrease:""},'<i class="ax-iconfont ax-icon-minus"></i>'),this.increase=axAddElem("a",{href:"###",increase:""},'<i class="ax-iconfont ax-icon-plus"></i>'),this.field.insertAdjacentElement("beforeBegin",this.parent),this.parent.appendChild(this.field),this.parent.appendChild(this.decrease),this.parent.appendChild(this.increase))}correctValue(t){return""!==this.options.min&&t<this.options.min?t=this.options.min:""!==this.options.max&&t>this.options.max&&(t=this.options.max),t}set(t,e){return t=this.correctValue(t),this.field.value=t,this.value=t,this.options.cookie&&(this.value=axCookie.set(this.options.cookie,t)),e&&e.call(this,t),this}reset(t){return this.set(this.rawValue),t&&t.call(this,this.rawValue),this.options.cookie&&(this.value=axCookie.set(this.options.cookie,this.rawValue)),this}update(t,e){return this.options=axExtend(this.options,t),this.options.onUpdated&&this.options.onUpdated.call(this),"updated"in this.handlers&&this.emit("updated",""),e&&e.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axAmount]").forEach(t=>{new axAmount(t)});
/*!
* 插件：页面社交分享；使用方法：new axShare('#id',{参数})
*/
class axShare{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({source:"",title:"",des:"",url:window.location.href,image:"",key:"",origin:window.location.origin,qrTitle:"<p>在微信里点击“发现”，再点击“扫一扫，”<br />便可将本文分享至朋友圈。</p>",qrSize:180,newPage:!0,dialogText:"确定分享本页面？",onShare:""},e,this.targetDom,"axShare");this.handlers={},this.options.source||(this.options.source=document.querySelector('meta[name="site"]')||document.title),this.options.title||(this.options.title=document.querySelector('meta[name="title"]')||document.title),this.options.des||(this.options.des=document.querySelector('meta[name="description"]')||""),this.options.image||(this.options.image=(document.images[0]||0).src||""),this.init()}init(){this.shareUrl={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+this.options.url+"&title="+this.options.title+"&desc="+this.options.des+"&summary="+this.options.summary+"&site="+this.options.source+"&pics="+this.options.image,youdao:"http://note.youdao.com/memory/?title="+this.options.title+"&pic="+this.options.image+"&summary="+this.options.des+"&url="+this.options.url,qq:"http://connect.qq.com/widget/shareqq/index.html?url="+this.options.url+"&title="+this.options.title+"&source="+this.options.source+"&desc="+this.options.des+"&pics="+this.options.image+"&summary="+this.options.summary,weibo:"https://service.weibo.com/share/share.php?url="+this.options.url+"&title="+this.options.title+"&pic="+this.options.image+"&appkey="+this.options.key,daoban:"http://shuo.douban.com/!service/share?href="+this.options.url+"&name="+this.options.title+"&text="+this.options.des+"&image="+this.options.image+"&starid=0&aid=0&style=11",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title="+this.options.title+"&url="+this.options.url+"&summary="+this.options.summary+"&source="+this.options.source+"&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u="+this.options.url,twitter:"https://twitter.com/intent/tweet?text="+this.options.title+"&url="+this.options.url+"&via="+this.options.origin,google:"https://plus.google.com/share?url="+this.options.url,pinterest:"https://www.pinterest.com/pin/create/button/?url="+this.options.url+"&description="+this.options.des+"&media="+this.options.image,tumblr:"https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&url="+this.options.url+"&title="+this.options.title};for(let t in this.shareUrl)this.changeHref(t);if(this.targetDom.querySelector('[share="wechat"]')){if("undefined"==typeof QRCode)return console.error("Please import the QRCode plugin first!"),!1;this.createQrcode()}}changeHref(t){let e=this,i=this.targetDom.querySelector("[share="+t+"]");i&&(i.hasAttribute("confirm")?i.addEventListener("click",(function(i){axPreventDefault(i),new axDialog({content:e.options.dialogText,footerType:"right",confirm:{callback:function(){e.options.newPage?(window.open(e.shareUrl[t]),this.hide()):window.location.href=e.shareUrl[t],e.options.onShare&&e.options.onShare.call(e,t)}}}).show()}),!1):(this.options.newPage?i.setAttribute("target","_blank"):i.removeAttribute("target"),i.setAttribute("href",this.shareUrl[t]),i.addEventListener("click",i=>{e.options.onShare&&e.options.onShare.call(e,t)},!1)))}createQrcode(){let t=this.targetDom.querySelector('[share="wechat"]');if(0===t.length)return!1;let e=axAddElem("div",{class:"ax-qrcode"}),i=axAddElem("div",{class:"ax-qrcode-body"}),s=axAddElem("div",{class:"ax-qrcode-title"},this.options.qrTitle);new QRCode(i,{text:this.options.url,width:this.options.qrSize,height:this.options.qrSize}),e.appendChild(i),e.appendChild(s),new axPopup(t,{content:e,padding:!0,placement:"bottom",close:!1,footerShow:!1})}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axShare]").forEach(t=>{new axShare(t)});
/*!
* 插件：自动完成插件；使用方法：new axComplete('#id',{参数})
*/
class axComplete{constructor(t,e){this.options=axExtend({list:"",keys:["name"],threshold:.6,isCaseSensitive:!1,hasMatches:!0,minLength:1,findAll:!1,template:"",className:"",break:!0,tips:"inside",highlight:!0,rel:"",fill:"name",idStart:1},e,t,"axComplete"),this.input=axIdToDom(t),this.handlers={},this.rel=this.options.rel?axIdToDom(this.options.rel):"",this.outerDom=axAddElem("div",this.options.className?{class:this.options.className}:{class:"ax-complete"}),this.popup=this.createPopup(),this.popup.content.appendChild(this.outerDom),this.innerDom=axAddElem("div",{class:"ax-complete-list"}),this.outerDom.appendChild(this.innerDom),this.tipsDom=axAddElem("div",{class:"ax-complete-tips"}),this.options.tips?"inline"==this.options.tips?this.input.insertAdjacentElement("afterend",this.tipsDom):"#"==this.options.tips.substr(0,1)?axIdToDom(this.options.tips).appendChild(this.tipsDom):this.outerDom.insertAdjacentElement("afterbegin",this.tipsDom):this.tipsDom.remove(),this.data=[],this.init()}init(){let t=this;if(this.getData(),axIsEmpty(this.data))return console.error("There is no valid data!"),!1;this.fuseOpt={includeScore:!0},this.fuseOpt.threshold=this.options.threshold,this.fuseOpt.includeMatches=this.options.hasMatches,this.fuseOpt.minMatchCharLength=this.options.minLength,this.fuseOpt.findAllMatches=this.options.findAll,axIsEmpty(this.options.keys)?this.fuseOpt.keys=["name"]:this.fuseOpt.keys=this.options.keys,this.initList(),this.fuse=new Fuse(this.data,this.fuseOpt),this.input.addEventListener("input",(function(){t.results=t.fuse.search(this.value.trim()),t.innerDom.innerHTML=t.renderDom(),t.options.tips&&(t.tipsDom.innerHTML=`共有${t.results.length}个结果符合要求`),t.options.highlight&&t.results.forEach((e,i)=>{let s=t.innerDom.querySelectorAll('[role="item"]')[i],a=s.querySelector('[role="name"]').innerHTML;e.matches[0].indices.forEach(t=>{let e=a.substring(t[0],t[1]+1),i=a.split(e).join('<i class="ax-mark">'+e+"</i>");s.querySelector('[role="name"]').innerHTML=i}),s.onclick=function(){t.options.fill&&Object.keys(e.item).indexOf(t.options.fill)>-1?(t.input.value=e.item[t.options.fill],"selected"in t.handlers&&t.emit("selected",e.item)):(t.input.value=e.item.name,"selected"in t.handlers&&t.emit("selected",e.item)),t.popup.hide()}}),this.value||(t.tipsDom.innerHTML="",axDebounce(t.initList()))}),!1)}getData(){if("string"==typeof this.options.list)if("#"==this.options.list.substr(0,1))this.data=axListToArr(this.options.list,this.options.idStart);else{let t=this.options.list.split(","),e=[];t.forEach((t,i)=>{let s={};s.id=this.options.idStart+i,s.name=t,s.value=t,e.push(s)}),this.data=e}else if(this.options.list instanceof Array)if("object"==typeof this.options.list[0])this.options.list.forEach((t,e)=>{!t.id&&(t.id=this.options.idStart+e),!t.value&&(t.value=t.name)}),this.data=this.options.list;else if("string"==typeof this.options.list[0]){let t=[];this.options.list.forEach((e,i)=>{let s={};s.id=this.options.idStart+i,s.name=e,s.value=e,t.push(s)}),this.data=t}return this.data}createPopup(){return new axPopup(this.input,{content:this.outerDom,trigger:"input",padding:!1,placement:"bottom-start",close:!1,footerShow:!1})}renderDom(){let t="";return axIsEmpty(this.results)?this.innerDom.innerHTML="":(this.results.forEach((e,i)=>{t+=axTplEngine(this.createTemplate(),e),this.options.break&&i+1<this.results.length&&(t+='<div class="ax-break-line"></div>')}),this.innerDom.innerHTML=t),this.innerDom.innerHTML}initList(){let t=this;this.innerDom.innerHTML=this.initDom(),this.options.rel&&(this.rel.onclick=function(){if(t.popup.targetDom.classList.contains("ax-show"))t.input.blur(),t.popup.hide();else{let e=t.input.value;t.input.value="",t.input.focus(),t.input.value=e,t.popup.show()}}),this.innerDom.querySelectorAll('[role="item"]').forEach((e,i)=>{e.onclick=function(){t.options.fill&&Object.keys(t.data[i]).indexOf(t.options.fill)>-1?t.input.value=t.data[i][t.options.fill]:t.input.value=t.data[i].name,t.popup.hide()}})}initDom(){let t=[];this.data.forEach(e=>{let i={};i.item=e,t.push(i)});let e="";return axIsEmpty(this.data)?this.innerDom.innerHTML="":(t.forEach((i,s)=>{e+=axTplEngine(this.createTemplate(),i),this.options.break&&s+1<t.length&&(e+='<div class="ax-break-line"></div>')}),this.innerDom.innerHTML=e),this.innerDom.innerHTML}createTemplate(){return this.options.template?this.options.template:'<a href="###" class="ax-info-block ax-hover" role="item">\n                <div class="ax-row">\n                  <div class="ax-col"><span class="ax-ell" role="name"><# this.item.name #></span></div>\n                </div>\n              </a>\n      '}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axComplete]").forEach(t=>{new axComplete(t)});
/*!
 * jeDate v6.5.0 from https://github.com/singod/jeDate | AXUI做了深度修改
 */
const axDate=(()=>{var jet={},regymdzz="YYYY|MM|DD|hh|mm|ss|zz",$Q=function(t,e){return e=e||document,t.nodeType?t:e.querySelector(t)},jeDate=function(t,e){return new jeDatePick(t,"function"==typeof e?e():e)};function DateTime(t,e){var i=new Date,s=["FullYear","Month","Date","Hours","Minutes","Seconds"],a=jet.extend({YYYY:null,MM:null,DD:null,hh:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds()},e),o=null==e?i:new Date(a.YYYY,a.MM,a.DD,a.hh,a.mm,a.ss);(t||[]).length>0&&jet.each(t,(function(t,e){o["set"+s[t]]("Month"==s[t]?parseInt(e)-1:parseInt(e))})),this.reDate=function(){return new DateTime},this.GetValue=function(){return o},this.GetYear=function(){return o.getFullYear()},this.GetMonth=function(){return o.getMonth()+1},this.GetDate=function(){return o.getDate()},this.GetHours=function(){return o.getHours()},this.GetMinutes=function(){return o.getMinutes()},this.GetSeconds=function(){return o.getSeconds()}}function jeDatePick(t,e){var i=axExtend({language:{name:"cn",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["日","一","二","三","四","五","六"],times:["小时","分钟","秒数"],timetxt:["时间选择","开始时间","结束时间"],backtxt:"返回日期",clear:"清空",close:"关闭",today:"现在",yes:"确定"},format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59",mode:"popup",isShow:!0,multiPane:!0,onClose:!0,range:!1,trigger:"click",position:[],valiDate:[],isinitVal:!1,initDate:{},rel:"",isTime:!0,isClear:!1,clearFun:function(){},isClose:!0,closeFun:function(){},isToday:!0,isYes:!0,festival:!1,fixed:!0,zIndex:2099,nowClose:!1,method:{},theme:{},shortcut:[],donefun:null,before:null,succeed:null},e,t,"axDate");this.$opts=jet.extend(i,e||{}),this.valCell=$Q(t),this.format=this.$opts.format,null!=this.valCell?this.init():alert(t+"  ID或类名不存在!"),jet.extend(this,this.$opts.method),delete this.$opts.method}jeDate.extend=jet.extend=function(){var t,e,i,s=arguments[0],a=1,o=arguments.length;for("boolean"==typeof s&&(s,s=arguments[1]||{},a=2),"object"!=typeof s&&"function"!=typeof s&&(s={}),o===a&&(s=this,--a);a<o;a++)if(null!=(t=arguments[a]))for(e in t)s[e],s!==(i=t[e])&&void 0!==i&&(s[e]=i);return s},jeDate.nowDate=function(t,e){return e=e||"YYYY-MM-DD hh:mm:ss",isNaN(t)||(t={DD:t}),jet.parse(jet.getDateTime(t),e)},jeDate.convert=function(t){t.format=t.format||"YYYY-MM-DD hh:mm:ss",t.addval=t.addval||[];var e=jet.reMatch(t.format),i={};jet.each(jet.reMatch(t.val),(function(t,s){i[e[t]]=parseInt(s)}));var s=new DateTime(t.addval,i);return{YYYY:s.GetYear(),MM:s.GetMonth(),DD:s.GetDate(),hh:s.GetHours(),mm:s.GetMinutes(),ss:s.GetSeconds()}},jeDate.valText=function(t,e){return jet.valText(t,e)},jeDate.timeStampDate=function(t,e){e=e||"YYYY-MM-DD hh:mm:ss";var i=/^(-)?\d{1,10}$/.test(t)||/^(-)?\d{1,13}$/.test(t);if(/^[1-9]*[1-9][0-9]*$/.test(t)&&i){var s=parseInt(t);if(/^(-)?\d{1,10}$/.test(s))s*=1e3;else if(/^(-)?\d{1,13}$/.test(s))s*=1e3;else{if(!/^(-)?\d{1,14}$/.test(s))return void alert("时间戳格式不正确");s*=100}var a=new Date(s);return jet.parse({YYYY:a.getFullYear(),MM:jet.digit(a.getMonth()+1),DD:jet.digit(a.getDate()),hh:jet.digit(a.getHours()),mm:jet.digit(a.getMinutes()),ss:jet.digit(a.getSeconds())},e)}var o=jet.reMatch(t),n=new Date(o[0],o[1]-1,o[2],o[3]||0,o[4]||0,o[5]||0);return Math.round(n.getTime()/1e3)},jeDate.getLunar=function(t){var e=jeLunar(t.YYYY,parseInt(t.MM)-1,t.DD);return{nM:e.lnongMonth,nD:e.lnongDate,cY:parseInt(e.solarYear),cM:parseInt(e.solarMonth),cD:parseInt(e.solarDate),cW:e.inWeekDays,nW:e.solarWeekDay}},jeDate.parse=jet.parse=function(t,e){return e.replace(new RegExp(regymdzz,"g"),(function(e,i){return"zz"==e?"00":jet.digit(t[e])}))},jet.extend(jet,{isType:function(t,e){return Object.prototype.toString.call(t)=="[object "+e.toLowerCase().replace(/\b(\w)|\s(\w)/g,(function(t){return t.toUpperCase()}))+"]"},each:function(t,e,i){var s,a=0,o=t.length;if(void 0===o||"function"===t){for(s in t)if(!1===e.call(t[s],s,t[s]))break}else for(;a<o&&!1!==e.call(t[a],a,t[a++]););return t},on:function(t,e,i){return t.addEventListener?(t.addEventListener(e,i,!1),!0):t.attachEvent?t.attachEvent("on"+e,i):void(t["on"+e]=i)},isObj:function(t){for(var e in t)return!0;return!1},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},reMatch:function(t){var e=[],i="",s=/(^\w{4}|\w{2}\B)/g;return i=jet.isNum(t)?t.replace(s,"$1-"):/^[A-Za-z]+$/.test(t)?t.replace(s,"$1-"):t,jet.each(i.match(/\w+|d+/g),(function(t,i){e.push(jet.isNum(i)?parseInt(i):i)})),e},equals:function(t,e){if(!e)return!1;if(t.length!=e.length)return!1;for(var i=0,s=t.length;i<s;i++)if(t[i]instanceof Array&&e[i]instanceof Array){if(!t[i].equals(e[i]))return!1}else if(t[i]!=e[i])return!1;return!0},docScroll:function(t){return t=t?"scrollLeft":"scrollTop",document.body[t]|document.documentElement[t]},docArea:function(t){return document.documentElement[t?"clientWidth":"clientHeight"]},digit:function(t){return t<10?"0"+(0|t):t},isNum:function(t){return!!/^[+-]?\d*\.?\d*$/.test(t)},getDaysNum:function(t,e){var i=31,s=t%100!=0&&t%4==0||t%400==0;switch(parseInt(e)){case 2:i=s?29:28;break;case 4:case 6:case 9:case 11:i=30}return i},getYM:function(t,e,i){var s=new Date(t,e-1);return s.setMonth(e-1+i),{y:s.getFullYear(),m:s.getMonth()+1}},prevMonth:function(t,e,i){return jet.getYM(t,e,0-(i||1))},nextMonth:function(t,e,i){return jet.getYM(t,e,i||1)},setCss:function(t,e){for(var i in e)t.style[i]=e[i]},html:function(t,e){return void 0===e?t&&1===t.nodeType?t.innerHTML:void 0:void 0!==e&&1==e?t&&1===t.nodeType?t.outerHTML:void 0:t.innerHTML=e},text:function(t,e){var i=document.all?"innerText":"textContent";return void 0===e?t&&1===t.nodeType?t[i]:void 0:t[i]=e},val:function(t,e){if(void 0===e)return t&&1===t.nodeType&&void 0!==t.value?t.value:void 0;e=null==e?"":e+"",t.value=e},attr:function(t,e){return t.getAttribute(e)},hasClass:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},stopPropagation:function(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0},template:function(t,e){var i=/[^\w\-\.:]/.test(t)?t:document.getElementById(t).innerHTML;return function(t,e){var i="var $out='"+t.replace(/[\r\n]/g,"").replace(/^(.+?)\{\%|\%\}(.+?)\{\%|\%\}(.+?)$/g,(function(t){return t.replace(/(['"])/g,"\\$1")})).replace(/\{\%\s*=\s*(.+?)\%\}/g,"';$out+=$1;$out+='").replace(/\{\%(.+?)\%\}/g,"';$1;$out+='")+"';return new String($out);",s=function(t){var e="";for(var i in t)e+="var "+i+'= $D["'+i+'"];';return e}(e);return new new Function("$D",s+i)(e)+""}(i,e)},isValDiv:function(t){return/textarea|input/.test(t.tagName.toLocaleLowerCase())},valText:function(t,e){var i=$Q(t),s=jet.isValDiv(i)?"val":"text";if(null==e)return jet[s](i);jet[s](i,e)},isBool:function(t){return null==t||1==t},getDateTime:function(t){var e=new DateTime,i=jet.extend({YYYY:null,MM:null,DD:null,hh:0,mm:0,ss:0},t),s={YYYY:"FullYear",MM:"Month",DD:"Date",hh:"Hours",mm:"Minutes",ss:"Seconds"};return jet.each(["ss","mm","hh","DD","MM","YYYY"],(function(t,a){if(!jet.isNum(parseInt(i[a])))return null;var o=e.GetValue();(parseInt(i[a])||0==parseInt(i[a]))&&o["set"+s[a]](e["Get"+s[a]]()+("MM"==a?-1:0)+parseInt(i[a]))})),{YYYY:e.GetYear(),MM:e.GetMonth(),DD:e.GetDate(),hh:e.GetHours(),mm:e.GetMinutes(),ss:e.GetSeconds()}}});var searandom=function(){for(var t="",e=[1,2,3,4,5,6,7,8,9,0],i=0;i<8;i++)t+=e[Math.round(Math.random()*(e.length-1))];return t},ymdzArr=jet.reMatch(regymdzz),elx="#ax-date";function jeLunar(t,e,i){var s=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],a=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],o=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],n=["正","二","三","四","五","六","七","八","九","十","十一","腊"],r={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节",1001:"*3国庆节",1201:"艾滋病日",1224:"平安夜",1225:"圣诞节"},l={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节",1015:"下元节",1208:"腊八节",1223:"小年"};return new function(t){var e=function(t,e){return new Date(31556925974.7*(t-1900)+6e4*a[e]+Date.UTC(1900,0,6,2,5)).getUTCDate()},i=function(t){var e,i=348;for(e=32768;e>8;e>>=1)i+=s[t-1900]&e?1:0;return i+d(t)},h=function(t){return"甲乙丙丁戊己庚辛壬癸".charAt(t%10)+"子丑寅卯辰巳午未申酉戌亥".charAt(t%12)},d=function(t){return c(t)?65536&s[t-1900]?30:29:0},c=function(t){return 15&s[t-1900]},p=function(t,e){return s[t-1900]&65536>>e?30:29},u=function(t){return t<10?"0"+(0|t):t},m=function(t,e){var i=t;return e.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,(function(t){switch(t){case"yyyy":var e="000"+i.getFullYear();return e.substring(e.length-4);case"dd":return u(i.getDate());case"d":return i.getDate().toString();case"MM":return u(i.getMonth()+1);case"M":return i.getMonth()+1}}))};this.isToday=!1,this.isRestDay=!1,this.solarYear=m(t,"yyyy"),this.solarMonth=m(t,"M"),this.solarDate=m(t,"d"),this.solarWeekDay=t.getDay(),this.inWeekDays="星期"+"日一二三四五六七八九十".charAt(this.solarWeekDay);var f=new function(t){var e,s,a=0,o=(t-new Date(1900,0,31))/864e5;for(this.dayCyl=o+40,this.monCyl=14,e=1900;e<2050&&o>0;e++)o-=a=i(e),this.monCyl+=12;for(o<0&&(o+=a,e--,this.monCyl-=12),this.year=e,this.yearCyl=e-1864,s=c(e),this.isLeap=!1,e=1;e<13&&o>0;e++)s>0&&e==s+1&&0==this.isLeap?(--e,this.isLeap=!0,a=d(this.year)):a=p(this.year,e),1==this.isLeap&&e==s+1&&(this.isLeap=!1),o-=a,0==this.isLeap&&this.monCyl++;0==o&&s>0&&e==s+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--e,--this.monCyl)),o<0&&(o+=a,--e,--this.monCyl),this.month=e,this.day=o+1}(t);this.lunarYear=f.year,this.shengxiao="鼠牛虎兔龙蛇马羊猴鸡狗猪".charAt((this.lunarYear-4)%12),this.lunarMonth=f.month,this.lunarIsLeapMonth=f.isLeap,this.lnongMonth=this.lunarIsLeapMonth?"闰"+n[f.month-1]:n[f.month-1],this.lunarDate=f.day,this.showInLunar=this.lnongDate=function(t,e){var i;switch(e){case 10:i="初十";break;case 20:i="二十";break;case 30:i="三十";break;default:i="初十廿卅".charAt(Math.floor(e/10)),i+="日一二三四五六七八九十".charAt(e%10)}return i}(this.lunarMonth,this.lunarDate),1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"月"),this.ganzhiYear=h(f.yearCyl),this.ganzhiMonth=h(f.monCyl),this.ganzhiDate=h(f.dayCyl++),this.jieqi="",this.restDays=0,e(this.solarYear,2*(this.solarMonth-1))==m(t,"d")&&(this.showInLunar=this.jieqi=o[2*(this.solarMonth-1)]),e(this.solarYear,2*(this.solarMonth-1)+1)==m(t,"d")&&(this.showInLunar=this.jieqi=o[2*(this.solarMonth-1)+1]),"清明"==this.showInLunar&&(this.showInLunar="清明节",this.restDays=1),this.solarFestival=r[m(t,"MM")+m(t,"dd")],void 0===this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=parseInt(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,"")),this.showInLunar=""==this.solarFestival?this.showInLunar:this.solarFestival,this.lunarFestival=l[this.lunarIsLeapMonth?"00":u(this.lunarMonth)+u(this.lunarDate)],void 0===this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>parseInt(RegExp.$1)?this.restDays:parseInt(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")),12==this.lunarMonth&&this.lunarDate==p(this.lunarYear,12)&&(this.lunarFestival=l["0100"],this.restDays=1),this.showInLunar=""==this.lunarFestival?this.showInLunar:this.lunarFestival}(new Date(t,e,i))}return jet.extend(jeDatePick.prototype,{init:function(){var t,e=this,i=e.$opts,s=i.trigger,a=i.initDate||[],o=i.range,n=jet.isBool(i.isShow),r=null!=i.isinitVal&&0!=i.isinitVal;if(e.shortIndex="",e.shortMenu=axAddElem("div",{class:"ax-date-menu"}),e.setDatas(),i.before&&i.before(e.valCell),r&&s&&n){if(a[1]){var l=jet.getDateTime(a[0]);t=[{YYYY:l.YYYY,MM:jet.digit(l.MM),DD:jet.digit(l.DD),hh:jet.digit(l.hh),mm:jet.digit(l.mm),ss:jet.digit(l.ss)}]}else t=e.getValue(jet.isObj(a[0])?a[0]:{});o||e.setValue([t[0]],i.format,!0)}var h=function(){var t=jet.reMatch(e.format),i=""!=e.getValue(),s=[],a=7==e.dlen?"hh:mm:ss":"YYYY-MM"+(e.dlen<=2?"":"-DD"),r=e.valCell.value;if(r){r=r.substr(0,11);var l=[jet.parse(jet.getDateTime({}),a)];l=l[0];var h=new Date(r).setHours("0"),d=new Date(l).setHours("0"),c={DD:parseInt((h-d)/1e3/3600/24)};e.selectValue=[jet.parse(jet.getDateTime(c),a)]}else e.selectValue=[jet.parse(jet.getDateTime({}),a)];if(i&&n){var p=e.getValue().split(o);jet.each(new Array(o?2:1),(function(e){s[e]={},jet.each(jet.reMatch(p[e]),(function(i,a){s[e][t[i]]=parseInt(a)}))})),o&&(e.selectValue=p)}else{var u=e.getValue({})[0],m=jet.nextMonth(u.YYYY,u.MM||jet.getDateTime({}).MM);e.dlen>2&&e.dlen<=6&&(m.y,m.m);s=[u]}return e.selectDate=s,s},d=[];if(e.minDate="",e.maxDate="",n&&s||(d=h()),n&&s){if(s){if(document.querySelectorAll(elx).length>0)return;var c=h();e.minDate=jet.isType(i.minDate,"function")?i.minDate(e):i.minDate,e.maxDate=jet.isType(i.maxDate,"function")?i.maxDate(e):i.maxDate,e.storeData(c[0],c[1]),e.renderDate(),"inline"==i.mode?(e.valCell.insertAdjacentElement("afterend",e.dateCell),e.valCell.setAttribute("readonly","")):"dialog"==i.mode?(e.dialog=new axDialog({size:"",padding:!1,footerShow:!1,content:e.dateCell}),e.valCell.addEventListener("click",(function(){e.dialog.show()}),!1)):e.popup=new axPopup(e.valCell,{size:"",padding:!1,rel:i.rel,placement:"bottom-start",close:!1,footerShow:!1,content:e.dateCell})}}else e.minDate=jet.isType(i.minDate,"function")?i.minDate(e):i.minDate,e.maxDate=jet.isType(i.maxDate,"function")?i.maxDate(e):i.maxDate,e.storeData(d[0],d[1]),e.renderDate(),i.succeed&&i.succeed(e.dateCell)},setDatas:function(){var t=this,e=t.$opts,i=e.range,s=[],a=jet.isBool(e.isShow),o=e.multiPane;t.$data=jet.extend({year:!1,month:!1,day:!0,time:!1,timebtn:!1},{shortcut:[],lang:e.language,yaerlist:[],monthlist:[[],[]],ymlist:[[],[]],daylist:[[],[]],clear:e.isClear,close:e.isClose,today:!i&&e.isToday,yes:e.isYes,pane:o?1:2}),e.shortcut.length>0&&(jet.each(e.shortcut,(function(t,e){var i=[],a=jet.isType(e.val,"function")?e.val():e.val;if(jet.isType(a,"object")){for(var o in a)i.push(o+":"+a[o]);s.push(jet.extend({},{name:e.name,val:"{"+i.join("#")+"}"}))}})),t.$data.shortcut=s),t.dlen=function(){var e=jet.reMatch(t.format),i=[];jet.each(ymdzArr,(function(t,s){jet.each(e,(function(t,e){s==e&&i.push(e)}))}));var s=i.length;return"hh"==i[0]&&s<=3?7:s}(),t.$data.dlen=t.dlen,t.timeInspect=!1,1==t.dlen?jet.extend(t.$data,{year:!0,day:!1}):2==t.dlen?jet.extend(t.$data,{month:!0,day:!1}):t.dlen>3&&t.dlen<=6?t.$data.timebtn=!0:7==t.dlen&&jet.extend(t.$data,{day:!1,time:!0}),a||(t.$data.clear=!1,t.$data.yes=!1)},renderDate:function(){var t=this,e=t.$opts,i=jet.isBool(e.isShow),s=elx+searandom();if(null==t.dateCell&&(t.dateCell=document.createElement("div"),t.dateCell.id=s.replace(/\#/g,""),t.dateCell.className=elx.replace(/\#/g,"")+" "+(e.festival?" ax-with-calendar":""),t.wrapper=axAddElem("div",{class:"ax-date-wrapper"}),t.dateCell.appendChild(t.wrapper)),jet.html(t.wrapper,jet.template(t.dateTemplate(),t.$data)),jet.isObj(e.theme)){var a=document.createElement("style"),o=".ax-date"+searandom(),n=e.theme,r="background-color:"+n.bgcolor,l="color:"+(null==n.color?"#FFFFFF":n.color),h=null==n.pnColor?"":"color:"+n.pnColor+";";t.dateCell.className=t.dateCell.className+" "+o.replace(/^./g,""),a.setAttribute("type","text/css"),a.innerHTML=o+" .ax-date-menu p:hover{"+r+";"+l+";}"+o+" .ax-date-header em{"+l+";}"+o+" .ax-date-body .ytable td.ax-selected span,"+o+" .ax-date-body .ax-mtable td.ax-selected span,"+o+" .ax-date-body .ytable td.ax-selected span:hover,"+o+" .ax-date-body .ax-mtable td.ax-selected span:hover{"+r+";border:1px "+n.bgcolor+" solid;"+l+";}"+o+" .ax-date-body .ax-dtable td.ax-selected,"+o+" .ax-date-body .ax-dtable td.ax-selected:hover,"+o+" .ax-date-body .ax-dtable td.ax-selected .lunar,"+o+" .ax-date-header,"+o+" .ax-date-time .ax-date-header,"+o+" .ax-date-time .ax-time-list ul li.ax-selected,"+o+" .ax-date-time .ax-time-list ul li.ax-selected:hover,"+o+" .ax-date-time .ax-time-list ul li.ax-disabled.ax-selected,"+o+" .ax-date-footbtn .timecon,"+o+" .ax-date-footbtn .btnscon span{"+r+";"+l+";}"+o+" .ax-date-body .ax-dtable td.ax-other,"+o+" .ax-date-body .ax-dtable td.ax-other .ax-unit,"+o+" .ax-date-body .ax-dtable td.ax-other .lunar{"+h+"}"+o+" .ax-date-body .ax-dtable td.contain,"+o+" .ax-date-body .ax-dtable td.contain:hover{background-"+h+"}",t.dateCell.appendChild(a)}if(t.compileBindNode(t.dateCell),document.querySelectorAll(s).length>0&&document.body.removeChild($Q(s)),!i&&t.valCell.appendChild(t.dateCell),t.methodEventBind(),(7==t.dlen||t.dlen>3&&t.dlen<=6)&&t.locateScroll(),e.festival&&"cn"==e.language.name&&t.showFestival(),i&&(t.dateOrien(t.dateCell,t.valCell),t.blankArea()),e.shortcut.length>0){t.shortMenu.innerHTML="";for(var d=0;d<e.shortcut.length;d++)t.shortMenu.innerHTML+='<a href="###">'+e.shortcut[d].name+"</a>";t.wrapper.insertAdjacentElement("afterbegin",t.shortMenu),t.shortMenu.querySelectorAll("a").forEach((i,s)=>{i.onclick=function(){t.shortIndex=s,t.shortClick(JSON.stringify(e.shortcut[s].val))}}),""!==t.shortIndex&&t.shortMenu.querySelectorAll("a")[t.shortIndex].classList.add("ax-selected")}},setValue:function(t,e,i){var s,a=this.valCell;if(e=e||this.format,"string"==typeof t&&""!=t){var o=t.split(this.$opts.range),n=[];jet.each(o,(function(t,i){var s=jet.reMatch(i),a={};jet.each(jet.reMatch(e),(function(t,e){a[e]=s[t]})),n.push(a)})),s=n}else s=t;var r=this.parseValue(s,e);return 0!=i&&jet.valText(a,r),r},getValue:function(t){var e,i=this.valCell,s=this.$opts,a=(new DateTime).reDate(),o=a.GetYear(),n=a.GetMonth(),r=a.GetDate(),l=a.GetHours(),h=a.GetMinutes(),d=a.GetSeconds();if(null==t&&jet.isBool(s.isShow))e=jet.valText(i);else{var c=jet.isBool(s.isShow)?""==jet.valText(i):!jet.isBool(s.isShow),p=jet.extend({YYYY:null,MM:null,DD:null},t||{}),u=[],m=new Array(2),f=function(t){return[null==p[t]||null==p[t],p[t]]},g=[{YYYY:o,MM:n,DD:r,hh:l,mm:h,ss:d,zz:""},{YYYY:o,MM:n,DD:r,hh:l,mm:h,ss:d,zz:""}];if(c)jet.each(m,(function(t){var e={};jet.each(ymdzArr,(function(i,s){e[s]=parseInt(f(s)[0]?g[t][s]:f(s)[1])})),u.push(jet.extend(g[t],e))}));else{var x=0!=s.range,v=this.getValue(),y=v.split(s.range),b=jet.reMatch(this.format);jet.each(m,(function(e){var i={},s=x?jet.reMatch(y[e]):jet.reMatch(v);jet.each(b,(function(t,e){i[e]=s[t]}));var a=jet.extend(i,t||{});u.push(jet.extend(g[e],a))}))}e=u}return e},storeData:function(t,e){e=e||{};var i,s=this.$opts,a=s.multiPane,o=this.valCell,n=(new Date).getDate(),r=jet.isObj(e),l={yearlist:[],monthlist:[[],[]],daylist:[],daytit:[],timelist:[]},h=null==t.DD?n:t.DD,d=null==e.DD?n:e.DD,c={hh:t.hh,mm:t.mm,ss:t.ss},p={hh:e.hh||0,mm:e.mm||0,ss:e.ss||0};if(l.yearlist.push(this.eachYear(parseInt(t.YYYY),1)),0==a){var u=r?e.YYYY:t.YYYY;l.yearlist.push(this.eachYear(parseInt(u),2))}if(l.monthlist[0]=this.eachMonth(t.YYYY,0),0==a&&(l.monthlist[1]=this.eachMonth(t.YYYY+1,1)),l.daylist.push(this.eachDays(t.YYYY,t.MM,h,0)),l.daytit.push({YYYY:t.YYYY,MM:t.MM}),0==a){var m=jet.nextMonth(t.YYYY,t.MM);l.daylist.push(this.eachDays(m.y,m.m,d,1)),l.daytit.push({YYYY:m.y,MM:m.m})}this.selectTime=[c,p],l.timelist.push(this.eachTime(c,1)),0==a&&(i=7==this.dlen&&s.range&&!r?c:p,7==this.dlen&&s.range&&""==jet.valText(o)&&(this.selectTime[1]=jet.extend(p,c)),l.timelist.push(this.eachTime(i,2))),jet.extend(this.$data,l)},dateTemplate:function(){var t,e,i,s,a=this,o=a.$opts,n=o.multiPane,r="",l="",h=o.language,d="cn"==h.name?"年":"",c="cn"==h.name?"月":"",p=(t=[],e=n?"11":"23",1==a.dlen?t=["{%=yearlist[i][0].y-"+e+"%}","{%=yearlist[i][yearlist[i].length-1].y%}"]:2==a.dlen?t=n?["{%=yearlist[0][0].y-1%}","{%=yearlist[0][0].y+1%}"]:["{%=yearlist[i][0].y-"+e+"%}","{%=yearlist[i][yearlist[i].length-1].y%}"]:a.dlen>2&&a.dlen<=6&&(t=["{%=yearlist[0][0].y-1%}","{%=yearlist[0][0].y+1%}"]),t),u='<a href="###" class="ax-yprev ax-iconfont ax-icon-left-double" @on="yearBtn(lprev,'+p[0]+')"></a>',m='<a href="###" class="ax-ynext ax-iconfont ax-icon-right-double" @on="yearBtn(rnext,'+p[1]+')"></a>',f='{% if(dlen>2){ %}<a href="###" class="ax-mprev ax-iconfont ax-icon-left" @on="monthBtn(mprev,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})"></a>{% } %}',g='{% if(dlen>2){ %}<a href="###" class="ax-mnext ax-iconfont ax-icon-right" @on="monthBtn(mnext,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})"></a>{% } %}',x='<table class="ax-ytable year{%= i==0 ? "left":"right"%}" style="display:{%=year ? "table":"none"%};"><tbody><tr>{% for(var y=0;y<=11;y++){ %}<td class="{%=yearlist[i][y].style%}" @on="yearClick({%=yearlist[i][y].y%})"><span>{%=yearlist[i][y].y%}'+d+"</span></td>{% if((y+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>",v='<table class="ax-mtable month{%= i==0 ? "left":"right"%}" style="display:{%=month ? "table":"none"%};"><tbody><tr>{% for(var m=0;m<=11;m++){ %}<td class="{%=monthlist[i][m].style%}" ym="{%=monthlist[i][m].y%}-{%=monthlist[i][m].m%}" @on="monthClick({%=monthlist[i][m].y%}-{%=monthlist[i][m].m%})"><span>{%=monthlist[i][m].m%}'+c+"</span></td>{% if((m+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>",y='<table class="ax-dtable days{%= i==0 ? "left":"right"%}" style="display:{%=day ? "table":"none"%};"><thead><tr>{% for(var w=0;w<lang.weeks.length;w++){ %} <th><i>{%=lang.weeks[w]%}</i></th> {% } %}</tr></thead><tbody><tr>{% for(var d=0;d<=41;d++){ %}<td class="{%=daylist[i][d].style%}" ymd="{%=daylist[i][d].ymd%}" @on="daysClick({%=daylist[i][d].ymd%})">{%=daylist[i][d].day%}</td>{% if((d+1)%7==0){ %} </tr>{% } %} {% } %} </tbody></table>',b='<div class="ax-date-time">{% for(var h=0;h<timelist.length;h++){ %}<div class="ax-date-panel"><div class="ax-date-header">{%= timelist.length == 1 ? lang.timetxt[0]:lang.timetxt[h+1]%}</div><div class="ax-date-body"><div class="ax-time-title"><div class="ax-time-item">{%=lang.times[0]%}</div><div class="ax-time-item">{%=lang.times[1]%}</div><div class="ax-time-item">{%=lang.times[2]%}</div></div><div class="ax-time-list">{% for(var t=0;t<3;t++){ %}<div class="ax-time-item"><ul>{% for(var s=0;s<timelist[h][t].length;s++){ %}<li class="{%=timelist[h][t][s].style%}" @on="hmsClick({%= h %},{%= h>0?3+t:t %})"><span>{%= timelist[h][t][s].hms < 10 ? "0" + timelist[h][t][s].hms :timelist[h][t][s].hms %}</span></li>{% } %}</ul></div>{% } %}</div></div></div>{% } %}</div>',w=(o.shortcut.length,i="",1==a.dlen?i='<a href="###" class="ax-ym">{%=yearlist[i][0].y%}'+d+" ~ {%=yearlist[i][yearlist[i].length-1].y%}"+d+"</a>":2==a.dlen?i='<a href="###" class="ax-ym" @on="yearShow({%=yearlist[0][i].y%})">{%=yearlist[0][i].y%}'+d+"</a>":a.dlen>2&&a.dlen<=6&&(i='<a href="###" class="ax-ym" @on="monthShow({%=daytit[i].MM%})">{%=daytit[i].MM%}'+c+'</a><a href="###" class="ax-ym" @on="yearShow({%=daytit[i].YYYY%})">{%=daytit[i].YYYY%}'+d+"</a>"),i),D=(s="",1==a.dlen?s=n?[u+m]:[u,m]:2==a.dlen?s=n?[u+m]:[u,m]:a.dlen>2&&a.dlen<=6?s=n?[u+f+g+m]:[u+f,g+m]:7==a.dlen&&(s=""),s);1==a.dlen?r=x:2==a.dlen?r=x+v:3==a.dlen?r=x+v+y:a.dlen>3&&a.dlen<=6?(r=x+v+y,l=b):7==a.dlen&&(l=b);var T='{% for(var i=0;i<pane;i++){ %}<div class="ax-date-panel"><div class="ax-date-header">{% if(i==0){ %}'+D[0]+"{% }else{ %}"+D[1]+"{% } %}"+w+'</div><div class="ax-date-body{%= i==1?" bordge":"" %}">'+r+"</div></div>{% } %}";"inline"==o.mode&&(o.isClose=!1,a.dateCell.setAttribute("data-mode","inline"));let E="";if(o.isShow&&"inline"!=o.mode||(o.isClose=!1),E=o.isClear?'<a href="###" class="ax-btn ax-text clear" @on="clearBtn">'+o.language.clear+"</a>":o.isClose?'<a href="###" class="ax-btn ax-text clear" @on="closeBtn">'+o.language.close+"</a>":"",o.multiPane)var M='<div class="ax-date-footer" line>{% if(timebtn){%}<a href="###" class="ax-btn ax-text timecon" @on="timeBtn">{%=lang.timetxt[0]%}</a>{% } %}'+E+'{% if(today){ %}<a href="###" class="ax-btn ax-text today" @on="nowBtn">{%=lang.today%}</a>{% } %}{% if(yes){ %}<a href="###" class="ax-btn ax-text setok" @on="sureBtn">{%=lang.yes%}</a>{% } %}</div></div>';else M='<div class="ax-date-footer"><div class="ax-footer-left">{% if(timebtn){%}<a href="###" class="ax-btn ax-text timecon" @on="timeBtn">{%=lang.timetxt[0]%}</a>{% } %}</div><div class="ax-footer-right">'+E+'{% if(today){ %}<a href="###" class="ax-btn ax-text today" @on="nowBtn">{%=lang.today%}</a>{% } %}{% if(yes){ %}<a href="###" class="ax-btn setok" @on="sureBtn">{%=lang.yes%}</a>{% } %}</div></div>';return'<div class="ax-date-main"><div class="ax-date-ymd">'+T+"</div>"+l+M+"</div>"},compileBindNode:function(t){var e=this;jet.each(t.childNodes,(function(t,i){if(1===i.nodeType){e.$opts.festival||i.removeAttribute("ymd"),e.compileBindNode(i);var s=i.getAttribute("@on");if(null!=s){var a=((n=/\(.*\)/.exec(o=s))?(n=n[0],o=o.replace(n,""),n=n.replace(/[\(\)\'\"]/g,"").split(",")):n=[],[o,n]);jet.on(i,"click",(function(){e[a[0]]&&e[a[0]].apply(i,a[1])})),i.removeAttribute("@on")}}var o,n}))},methodEventBind:function(){var that=this,opts=that.$opts,multi=opts.multiPane,DTS=that.$data,result=(new DateTime).reDate(),dateY=result.GetYear(),dateM=result.GetMonth(),dateD=result.GetDate(),range=opts.range,elCell=that.dateCell;jet.extend(that,{yearBtn:function(t,e){var i=e.split("#"),s=(jet.reMatch(i[0]),that.selectTime);exarr=[jet.extend({YYYY:parseInt(e),MM:dateM,DD:dateD},s[0]),{}];var a=that.parseValue([exarr[0]],that.format);that.storeData(exarr[0],exarr[1]),that.renderDate(),opts.toggle&&opts.toggle({elem:that.valCell,val:a,date:exarr[0]})},yearShow:function(t){DTS.year=!0,DTS.month=!1,that.dlen>2&&that.dlen<=6&&(DTS.day=!1),that.renderDate()},monthBtn:function(t,e){var i,s,a=jet.reMatch(e),o=that.selectTime,n=[],r=parseInt(a[0]),l=parseInt(a[1]);if(range)"mprev"==t?(i=jet.prevMonth(r,l),s=jet.nextMonth(i.y,i.m)):(s=jet.nextMonth(r,l),i=jet.prevMonth(s.y,s.m)),n=[jet.extend({YYYY:i.y,MM:i.m,DD:dateD},o[0]),{YYYY:s.y,MM:s.m,DD:dateD}];else{var h="mprev"==t?jet.prevMonth(r,l):jet.nextMonth(r,l);n=[jet.extend({YYYY:h.y,MM:h.m,DD:dateD},o[0]),{}]}var d=that.parseValue([n[0]],that.format);that.storeData(n[0],n[1]),that.renderDate(),opts.toggle&&opts.toggle({elem:that.valCell,val:d,date:n[0]})},monthShow:function(t){DTS.year=!1,DTS.month=!0,that.dlen>2&&that.dlen<=6&&(DTS.day=!1),that.renderDate()},shortClick:function(val){var reval=val.replace(/\#/g,","),evobj=eval("("+reval+")"),gval=jet.getDateTime(evobj),tmval=that.selectTime;if(that.selectValue=[jet.parse(gval,"YYYY-MM-DD")],that.selectDate=[{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD}],that.selectTime=[{hh:gval.hh,mm:gval.mm,ss:gval.ss}],tmval=that.selectTime,opts.onClose){var nYM=jet.nextMonth(gval.YYYY,gval.MM),ymarr=[{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD},{YYYY:nYM.y,MM:nYM.m,DD:null}];that.storeData(jet.extend(ymarr[0],tmval[0]),jet.extend(ymarr[1],tmval[1])),that.renderDate()}else that.setValue(gval,that.format),that.closeDate();that.lastClick="panel"},yearClick:function(t){if(!jet.hasClass(this,"ax-disabled")){var e="",i=that.dlen;if(range&&1==i){var s=that.selectValue.length;if(that.selectDate=2==s?[{YYYY:parseInt(t),MM:dateM}]:[{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(t),MM:dateM}],that.selectValue=2==s?[t+"-"+jet.digit(dateM)]:[that.selectValue[0],t+"-"+jet.digit(dateM)],2==that.selectValue.length){var a=[that.selectValue[0],that.selectValue[1]],o=[{},{}];a.sort((function(t,e){return t>e?1:-1})),that.selectValue=a,jet.each(a,(function(t,e){jet.each(jet.reMatch(e),(function(e,i){o[t][ymdzArr[e]]=i}))})),that.selectDate=o}}else i>1&&i<=6?e=parseInt(t):(that.selectValue=[t+"-"+jet.digit(dateM)],that.selectDate=[{YYYY:parseInt(t),MM:dateM}]);DTS.year=1==i,DTS.month=i<3,DTS.day=i>2&&i<=6;var n=i>1&&i<=6?e:parseInt(that.selectDate[0].YYYY);that.storeData(jet.extend({YYYY:n,MM:dateM,DD:dateD},that.selectTime[0]),{}),that.renderDate(),that.lastClick="panel"}},monthClick:function(t){if(!jet.hasClass(this,"ax-disabled")){var e=jet.reMatch(t),i=[{},{}],s=that.selectValue.length;if(range){if(that.selectDate=2==s?[{YYYY:e[0],MM:e[1]}]:[{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(t),MM:e[1]}],that.selectValue=2==s?[t]:[that.selectValue[0],t],2==that.selectValue.length){var a=[that.selectValue[0],that.selectValue[1]];a.sort((function(t,e){return t>e?1:-1})),that.selectValue=a,jet.each(a,(function(t,e){jet.each(jet.reMatch(e),(function(e,s){i[t][ymdzArr[e]]=s}))})),that.selectDate=i}}else that.selectValue=[t],that.selectDate=[{YYYY:e[0],MM:e[1]}];that.dlen>2&&(DTS.year=!1,DTS.month=!1),DTS.day=that.dlen>2&&that.dlen<=6,that.storeData(jet.extend({YYYY:parseInt(that.selectDate[0].YYYY),MM:parseInt(that.selectDate[0].MM),DD:dateD},that.selectTime[0]),{}),that.renderDate(),that.lastClick="panel"}},daysClick:function(t){if(!jet.hasClass(this,"ax-disabled")){var e,i,s=that.selectTime,a=jet.reMatch(t),o=that.selectValue.length,n="",r=[{},{}];if(range){if(1==o){var l=[that.selectValue[0],t];l.sort((function(t,e){return t>e?1:-1})),that.selectValue=l,jet.each(l,(function(t,e){jet.each(jet.reMatch(e),(function(e,i){r[t][ymdzArr[e]]=i}))})),that.selectDate=r}else that.selectValue=[t],r=[{YYYY:a[0],MM:a[1],DD:a[2]}],that.selectDate=[{YYYY:a[0],MM:a[1],DD:a[2]},{}];e=jet.nextMonth(r[0].YYYY,r[0].MM),i=[{YYYY:r[0].YYYY,MM:r[0].MM,DD:r[0].DD},{YYYY:e.y,MM:e.m,DD:null}],that.storeData(jet.extend(i[0],s[0]),jet.extend(i[1],s[1])),that.renderDate()}else that.selectValue=[t],that.selectDate=[{YYYY:a[0],MM:a[1],DD:a[2]},{YYYY:a[0],MM:a[1],DD:a[2]}],jet.each(new Array(0==range?1:2),(function(t){jet.each(a,(function(e,i){r[t][ymdzArr[e]]=i})),jet.extend(r[t],s[t])})),opts.onClose?(that.storeData(jet.extend(r[0],s[0]),jet.extend(r[1],s[1])),that.renderDate()):(n=that.setValue(r,that.format),that.closeDate(),opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:n,date:r}));that.lastClick="panel"}},hmsClick:function(t,e){var i=parseInt(e),s=parseInt(jet.text(this)),a=parseInt(t),o="ax-selected",n=["hh","mm","ss"],r=$Q(".ax-date-time",that.dateCell).querySelectorAll("ul")[i],l=that.$data.timelist[0].length;if(!jet.hasClass(this,"ax-disabled")){if(jet.each(r.childNodes,(function(t,e){var i=new RegExp("(^|\\s+)"+o+"(\\s+|$)","g");e.className=i.test(e.className)?e.className.replace(i,""):e.className})),that.selectTime[a][1==a?n[i-l]:n[i]]=s,this.className=this.className+o,7==that.dlen&&0==t&&range&&!multi){var h=that.getValue({}),d=jet.nextMonth(h[0].YYYY,h[0].MM),c=that.selectTime;that.storeData({YYYY:h[0].YYYY,MM:h[0].MM,DD:null,hh:c[0].hh,mm:c[0].mm,ss:c[0].ss},{YYYY:d.y,MM:d.m,DD:null,hh:c[1].hh,mm:c[1].mm,ss:c[1].ss}),that.renderDate()}that.lastClick="panel"}},timeBtn:function(){var t=$Q(".ax-date-time",elCell),e="none"==t.style.display;jet.text(this,e?opts.language.backtxt:opts.language.timetxt[0]),jet.setCss(t,{display:e?"":"none"}),that.lastClick="panel",t.querySelectorAll("ul").forEach(t=>{axPreventScroll(t)})},clearBtn:function(){jet.valText(that.valCell,""),that.selectDate=[jet.parse(jet.getDateTime({}),"YYYY-MM-DD hh:mm:ss")],opts.isShow&&that.closeDate(),opts.clearfun&&opts.clearfun.call(that)},closeBtn:function(){opts.isShow&&that.closeDate(),opts.closefun&&opts.closefun.call(that)},nowBtn:function(){var t,e=jet.getDateTime({}),i=jet.nextMonth(e.YYYY,e.MM);that.selectDate=[e],that.storeData(e,{YYYY:i.y,MM:i.m,DD:null,hh:0,mm:0,ss:0}),that.renderDate(),opts.nowClose?(t=opts.isShow?that.setValue([e],that.format,!0):jet.parse(e,that.format),that.closeDate()):"inline"==opts.mode&&that.setValue([e],that.format,!0),that.nowVal=that.selectDate,that.lastClick="now",opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:t,date:e})},sureBtn:function(){var t=that.selectValue.length>1?[{},{}]:[{}],e="",i=that.selectTime,s=function(t){var e=null==t.hh?0:t.hh,i=null==t.mm?0:t.mm,s=null==t.ss?0:t.ss;return parseInt(jet.digit(e)+""+jet.digit(i)+jet.digit(s))};if(range){if(that.selectValue.length>1){var a=that.selectValue;a.sort((function(t,e){return t>e?1:-1})),jet.each(a,(function(e,s){jet.each(jet.reMatch(s),(function(i,s){t[e][ymdzArr[i]]=s})),jet.extend(t[e],i[e])}))}else 7==that.dlen&&i.length>1&&(t=i);var o=s(i[0])>=s(i[1]),n=that.selectValue,r="";if(null!=n[1]&&(r=n[0].replace(/\-/g,"")==n[1].replace(/\-/g,"")),1==n.length&&that.dlen<7)return void that.tips("cn"==opts.language.name?"未选结束日期":"Please select the end date");if(7==that.dlen&&o||r&&o)return void that.tips("cn"==opts.language.name?"结束时间必须大于开始时间":"The end time must be greater than the start time")}else jet.each(new Array(0==range?1:2),(function(e){7!=that.dlen&&jet.each(jet.reMatch(that.selectValue[0]),(function(i,s){t[e][ymdzArr[i]]=s})),jet.extend(t[e],i[e])}));e="now"==that.lastClick?that.setValue(that.nowVal,that.format,!!opts.isShow):that.setValue(t,that.format,!!opts.isShow),that.closeDate(),opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:e,date:t})},blankArea:function(){}})},eachYear:function(t,e){var i,s=this.$opts,a=parseInt(t),o=[],n="",r=this.selectDate,l=jet.reMatch(this.minDate),h=jet.reMatch(this.maxDate);i=1==e?a:this.yindex,this.yindex=1==e?12+a:12+this.yindex;for(var d=null==r[1]?"":r[1].YYYY;i<this.yindex;i++)n=s.range&&i==r[0].YYYY?"ax-selected ax-start":s.range&&i==d?"ax-selected ax-end":i==r[0].YYYY||i==d?"ax-selected":i>r[0].YYYY&&i<d?"ax-contain":i<l[0]||i>h[0]?"ax-disabled":"",o.push({style:n,y:i});return o},eachMonth:function(t,e){var i=this.$opts,s=[],a=this.selectDate,o="",n=i.language.month,r=jet.reMatch(this.minDate),l=jet.reMatch(this.maxDate),h=parseInt(r[0]+""+jet.digit(r[1])),d=parseInt(l[0]+""+jet.digit(l[1])),c=parseInt(a[0].YYYY+""+jet.digit(a[0].MM)),p=a[1]?parseInt(a[1].YYYY+""+jet.digit(a[1].MM)):0;return jet.each(n,(function(e,a){var n=parseInt(t+""+jet.digit(a));o=i.range&&n==c?"ax-selected ax-start":i.range&&n==p?"ax-selected ax-end":n==c||n==p?"ax-selected":n>c&&n<p?"ax-contain":n<h||n>d?"ax-disabled":"",s.push({style:o,y:t,m:a})})),s},eachDays:function(t,e,i,s){for(var a=this,o=0,n=[],r=a.$opts,l=new Date(t,e-1,1).getDay()||7,h=jet.getDaysNum(t,e),d=a.selectDate,c=jet.prevMonth(t,e),p=jet.getDaysNum(t,c.m),u=jet.nextMonth(t,e),m=r.language,f=r.valiDate||[],g=jet.reMatch(a.minDate),x=parseInt(g[0]+""+jet.digit(g[1])+jet.digit(g[2])),v=jet.reMatch(a.maxDate),y=parseInt(v[0]+""+jet.digit(v[1])+jet.digit(v[2])),b=d[0]?parseInt(d[0].YYYY+""+jet.digit(d[0].MM)+jet.digit(d[0].DD)):"",w=d[1]?parseInt(d[1].YYYY+""+jet.digit(d[1].MM)+jet.digit(d[1].DD)):"",D=function(t,e,i){var s=r.marks;return jet.isType(s,"array")&&s.length>0&&function(t,e){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1}(s,t+"-"+jet.digit(e)+"-"+jet.digit(i))?'<i class="marks"></i>':""},T=function(t,e,i){var s="";if(1==r.festival&&"cn"==m.name){var a=jeLunar(t,e-1,i),o=a.solarFestival||a.lunarFestival;s='<div class="ax-with-lunar"><div class="ax-solar">'+i+'</div><div class="ax-lunar">'+(""!=(o&&a.jieqi)?o:a.jieqi||a.showInLunar)+"</div></div>"}else s='<span class="ax-unit">'+i+"</span>";return s},E=function(t,e,i,s){var a=parseInt(t+""+jet.digit(e)+jet.digit(i));if(s){if(a>=x&&a<=y)return!0}else if(x>a||y<a)return!0},M=function(t,e){if(f.length>0&&""!=f[0])if(/\%/g.test(f[0])){var i=f[0].replace(/\%/g,"").split(","),s=[];jet.each(i,(function(t,e){s.push(jet.digit(parseInt(e)))}));var o=0==function(t,e){for(var i in e)if(e[i]==t)return!0;return!1}(jet.digit(t),s);e=jet.isBool(f[1])?o?" ax-disabled":e:o?e:" ax-disabled"}else{var n=a.dateRegExp(f[0]).test(jet.digit(t));e=jet.isBool(f[1])?n?" ax-disabled":e:n?e:" ax-disabled"}return e},S=p-l+1;S<=p;S++,o++){var A=D(c.y,c.m,S),C=E(c.y,c.m,S,!1)?"ax-disabled":"ax-other";C=M(S,C),n.push({style:C,ymd:c.y+"-"+jet.digit(c.m)+"-"+jet.digit(S),day:T(c.y,c.m,S)+A})}for(var L=1;L<=h;L++,o++){var I=D(t,e,L),k="",_=parseInt(t+""+jet.digit(e)+jet.digit(L)),N=_>b,j=_<w;k=M(L,k=E(t,e,L,!0)?r.range&&_==b?" ax-selected ax-start":r.range&&_==w?" ax-selected ax-end":_==b||_==w?" ax-selected":N&&j?" ax-contain":"":" ax-disabled"),n.push({style:"ax-current"+k,ymd:t+"-"+jet.digit(e)+"-"+jet.digit(L),day:T(t,e,L)+I})}for(var O=1,$=42-o;O<=$;O++){var P=D(u.y,u.m,O),z=E(u.y,u.m,O,!1)?"ax-disabled":"ax-other";z=M(O,z),n.push({style:z,ymd:u.y+"-"+jet.digit(u.m)+"-"+jet.digit(O),day:T(u.y,u.m,O)+P})}return n},eachTime:function(t,e){var i=this,s=i.$opts,a=s.range,o=s.multiPane,n=[],r=[],l=["hh","mm","ss"],h=[],d="",c=i.format,p=jet.trim(i.minDate).replace(/\s+/g," "),u=jet.trim(i.maxDate).replace(/\s+/g," "),m=p.split(" "),f=u.split(" ");return i.dlen>3&&/\:/.test(m)&&/\:/.test(f)&&(n=jet.reMatch(/\s/.test(p)&&i.dlen>3?m[1]:p),r=jet.reMatch(/\s/.test(u)&&i.dlen>3?f[1]:u)),jet.each([24,60,60],(function(s,p){h[s]=[];var u=null==n[s]||0==n[s]?t[l[s]]:n[s],f=""==i.getValue()?u:t[l[s]];i.dlen>3&&/\:/.test(m)&&1==e&&(i.selectTime[0][l[s]]=f);for(var g=0;g<p;g++){var x=new RegExp(l[s],"g").test(c);d=g==f?x?"ax-selected":"ax-disabled":!x||!a&&o&&(g<n[s]||g>r[s])?"ax-disabled":o?"":1==e&&g<n[s]||2==e&&g>r[s]?"ax-disabled":"",h[s].push({style:d,hms:g})}})),h},closeDate:function(){"popup"==this.$opts.mode?this.popup.hide():"dialog"==this.$opts.mode&&this.dialog.hide()},parseValue:function(t,e){var i=[],s=this.$opts.range;return jet.each(t,(function(t,s){i.push(jet.parse(s,e))})),0==s?i[0]:i.join(s)},dateRegExp:function(valArr){var enval=valArr.split(",")||[],regs="",doExp=function(val){var arr,tmpEval,regs=/#?\{(.*?)\}/;for(val+="";null!=(arr=regs.exec(val));)arr.lastIndex=arr.index+arr[1].length+arr[0].length-arr[1].length-1,tmpEval=parseInt(eval(arr[1])),tmpEval<0&&(tmpEval="9700"+-tmpEval),val=val.substring(0,arr.index)+tmpEval+val.substring(arr.lastIndex+1);return val};if(enval&&enval.length>0){for(var i=0;i<enval.length;i++)regs+=doExp(enval[i]),i!=enval.length-1&&(regs+="|");regs=regs?new RegExp("(?:"+regs+")"):null}else regs=null;return regs},showFestival:function(){var t=this;t.$opts;jet.each(t.dateCell.querySelectorAll(".ax-dtable td"),(function(e,i){var s=jet.reMatch(jet.attr(i,"ymd")),a=document.createElement("div");i.removeAttribute("ymd"),new axHover(i,{enter:function(){var e=new jeLunar(s[0],s[1]-1,s[2]);if(!$Q("#jedatetipscon")){a.id=a.className="jedatetipscon";var o="<p>"+e.solarYear+"年"+e.solarMonth+"月"+e.solarDate+"日 "+e.inWeekDays+"</p><p>农历："+e.shengxiao+"年 "+e.lnongMonth+"月"+e.lnongDate+"</p><p>"+e.ganzhiYear+"年 "+e.ganzhiMonth+"月 "+e.ganzhiDate+"日</p>",n=""!=(e.solarFestival||e.lunarFestival)?'<p class="red">节日：'+e.solarFestival+e.lunarFestival+"</p>":"",r=""!=e.jieqi?"<p>"+(""!=e.jieqi?"节气："+e.jieqi:"")+"</p>":"",l=""!=(e.solarFestival||e.lunarFestival||e.jieqi)?n+r:"";jet.html(a,o+l),t.lunarPopup=new axPopup(i,{size:"",close:!1,placement:"bottom-start",footerShow:!1,content:a}).show()}},leave:function(){t.lunarPopup&&t.lunarPopup.targetDom.remove()}})})),1!==t.dateCell.nodeType||jet.hasClass(t.dateCell,"grid")||(t.dateCell.className=t.dateCell.className+" grid")},lunarOrien:function(t,e,i){var s,a,o=e.getBoundingClientRect(),n=t.offsetWidth,r=t.offsetHeight;return a=o.right+n/1.5>=jet.docArea(!0)?o.right-n:o.left+(i?0:jet.docScroll(!0)),s=o.bottom+r/1<=jet.docArea()?o.bottom-1:o.top>r/1.5?o.top-r-1:jet.docArea()-r,a+n>jet.docArea(!0)&&(a=o.left-(n-o.width)),{top:Math.max(s+(i?0:jet.docScroll())+1,1)+"px",left:a+"px"}},dateOrien:function(t,e,i){var s=this.$opts.fixed?e.getBoundingClientRect():t.getBoundingClientRect(),a=s.left,o=s.bottom;if(this.$opts.fixed){var n=t.offsetWidth,r=t.offsetHeight;a+n>jet.docArea(!0)&&(a-=n-s.width),o+r>jet.docArea()&&(o=s.top>r?s.top-r-2:jet.docArea()-r-1),Math.max(o+(i?0:jet.docScroll())+1,1)+"px",a+"px"}else"50%","50%",t.style.cssText="marginTop:"+-s.height/2+";marginLeft:"+-s.width/2},tips:function(t,e){new axMessage({content:t,iconShow:!0,result:"error"})},locateScroll:function(){var t=$Q(".ax-date-time",this.dateCell).querySelectorAll("ul");jet.each(t,(function(t,e){var i=e.querySelector(".ax-selected");e.scrollTop=i?i.offsetTop:0})),7!=this.dlen&&jet.setCss($Q(".ax-date-time",this.dateCell),{display:"none"})}}),jeDate})();document.querySelectorAll("[axDate]").forEach(t=>{new axDate(t)});
/*!
* 插件：轮滑选择；改造自ion.rangeSlider | https://github.com/IonDen/ion.rangeSlider；使用方法：new axRange('#id',{参数})
*/
const axRanges=[];class axRange{constructor(t,e){if(this.targetDom="string"==typeof t?document.querySelector(t):t,!(this instanceof axRange))return new axRange(t,e);let i=this;this.calcCount=0,this.updateTm=0,this.oldFrom=0,this.oldTo=0,this.oldMinInterval=null,this.rafId=null,this.dragging=!1,this.forceRedraw=!1,this.noDiapason=!1,this.hasTabIndex=!0,this.isKey=!1,this.isUpdate=!1,this.isStart=!0,this.isFinish=!1,this.isActive=!1,this.isResize=!1,this.isClick=!1,this.target="base",this.cache={win:window,body:document.body,targetDom:this.targetDom,cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0},"INPUT"!==this.targetDom.nodeName&&console&&console.warn&&console.warn("Base targetDom should be <input>!",input),this.config={className:"",type:"single",min:0,max:100,from:null,to:null,step:1,minInterval:0,maxInterval:0,dragInterval:!1,values:[],pValues:[],fromStick:!1,fromMin:null,fromMax:null,fromShadow:!1,toStick:!1,toMin:null,toMax:null,toShadow:!1,prettifyEnabled:!1,prettifySeparator:" ",prettify:null,forceEdges:!1,keyboard:!0,grid:!1,gridMargin:!0,gridNum:4,gridSnap:!1,hideLabelTrack:!1,hideLabelSlider:!1,prefix:"",postfix:"",maxPostfix:"",decorateBoth:!0,valuesSeparator:" — ",inputValuesSeparator:";",disabled:!1,block:!1,scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null};let s=this.targetDom.value;void 0!==s&&""!==s&&(s=e&&e.inputValuesSeparator?s.split(e.inputValuesSeparator):s.split(";"),s[0]&&s[0]==+s[0]&&(s[0]=+s[0]),s[1]&&s[1]==+s[1]&&(s[1]=+s[1]),e&&e.values&&e.values.length?(this.config.from=s[0]&&e.values.indexOf(s[0]),this.config.to=s[1]&&e.values.indexOf(s[1])):(this.config.from=s[0]&&+s[0],this.config.to=s[1]&&+s[1])),this.options=axExtend(this.config,e,this.targetDom,"axRange"),this.targetDom?this.referName=this.targetDom.getAttribute("axRange"):this.referName="",this.handlers={},this.update_check={},this.result={input:this.cache.targetDom,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.ready=function(t){this.noDiapason=!1,this.coords.p_step=P(this.options.step,!0),this.target="base",this.toggleInput(),a(),g(),t?(this.forceRedraw=!0,y(!0),$()):(this.forceRedraw=!0,y(!0),N()),C()};const a=function(){const t='<div class="ax-range '+i.options.className+'"></div>';i.cache.targetDom.insertAdjacentHTML("beforebegin",t),i.cache.targetDom.setAttribute("readonly","true"),i.cache.cont=i.cache.targetDom.previousElementSibling,i.result.slider=i.cache.cont,i.cache.cont.innerHTML='<div class="ax-range-label"><span class="ax-range-line" tabindex="0"></span><span class="ax-range-min">0</span><span class="ax-range-max">1</span><span class="ax-range-from">0</span><span class="ax-range-to">0</span><span class="ax-range-single">0</span></div><div class="ax-range-grid">1</div>',i.cache.label=i.cache.cont.querySelector(".ax-range-label"),i.cache.min=i.cache.cont.querySelector(".ax-range-min"),i.cache.max=i.cache.cont.querySelector(".ax-range-max"),i.cache.from=i.cache.cont.querySelector(".ax-range-from"),i.cache.to=i.cache.cont.querySelector(".ax-range-to"),i.cache.single=i.cache.cont.querySelector(".ax-range-single"),i.cache.line=i.cache.cont.querySelector(".ax-range-line"),i.cache.grid=i.cache.cont.querySelector(".ax-range-grid"),"single"===i.options.type?(i.cache.cont.insertAdjacentHTML("beforeend",'<div class="ax-range-bar ax-range-bar-single"></div><div class="ax-range-shadow ax-shadow-single"></div><span class="ax-range-handle ax-single"><i></i><i></i><i></i></span>'),i.cache.bar=i.cache.cont.querySelector(".ax-range-bar"),i.cache.edge=i.cache.cont.querySelector(".ax-range-bar-single"),i.cache.s_single=i.cache.cont.querySelector(".ax-single"),i.cache.from.style.visibility="hidden",i.cache.to.style.visibility="hidden",i.cache.shad_single=i.cache.cont.querySelector(".ax-shadow-single")):(i.cache.cont.insertAdjacentHTML("beforeend",'<div class="ax-range-bar"></div><div class="ax-range-shadow ax-shadow-from"></div><div class="ax-range-shadow ax-shadow-to"></div><span class="ax-range-handle ax-from"><i></i><i></i><i></i></span><span class="ax-range-handle ax-to"><i></i><i></i><i></i></span>'),i.cache.bar=i.cache.cont.querySelector(".ax-range-bar"),i.cache.s_from=i.cache.cont.querySelector(".ax-from"),i.cache.s_to=i.cache.cont.querySelector(".ax-to"),i.cache.shad_from=i.cache.cont.querySelector(".ax-shadow-from"),i.cache.shad_to=i.cache.cont.querySelector(".ax-shadow-to"),o()),i.options.hideLabelSlider&&(i.cache.from.style.display="none",i.cache.to.style.display="none",i.cache.single.style.display="none"),G(),i.options.disabled?(n(),i.cache.targetDom.disabled=!0):(i.cache.targetDom.disabled=!1,r(),l()),i.options.disabled||(i.options.block?n():r()),i.options.dragInterval&&(i.cache.bar.style.cursor="ew-resize")},o=function(){const t=i.options.min,e=i.options.max,s=i.options.from,a=i.options.to;s>t&&a===e?i.cache.s_from.classList.add("ax-last"):a<e&&i.cache.s_to.classList.add("ax-last")},n=function(){i.cache.cont.insertAdjacentHTML("beforeend",'<div class="ax-disabled-mask"></div>'),i.cache.cont.classList.add("ax-disabled")},r=function(){i.cache.cont.classList.remove(".ax-disabled-mask"),i.cache.cont.classList.remove("ax-disabled")};this.remove=function(){this.cache.cont.remove(),this.cache.cont=null,this.cache.win.removeEventListener("keydown",m.bind(this,"keyboard")),this.cache.body.removeEventListener("touchmove",d.bind(this)),this.cache.body.removeEventListener("mousemove",d.bind(this)),this.cache.win.removeEventListener("touchend",c.bind(this)),this.cache.win.removeEventListener("mouseup",c.bind(this)),this.cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.rafId)};const l=function(){i.noDiapason||(i.cache.body.addEventListener("touchmove",d.bind(this)),i.cache.body.addEventListener("mousemove",d.bind(this)),i.cache.win.addEventListener("touchend",c.bind(this)),i.cache.win.addEventListener("mouseup",c.bind(this)),i.cache.line.addEventListener("touchstart",u.bind(this,"click"),{passive:!0}),i.cache.line.addEventListener("mousedown",u.bind(this,"click")),i.cache.line.addEventListener("focus",h.bind(this)),i.options.dragInterval&&"double"===i.options.type?(i.cache.bar.addEventListener("touchstart",p.bind(this,"both"),{passive:!0}),i.cache.bar.addEventListener("mousedown",p.bind(this,"both"))):(i.cache.bar.addEventListener("touchstart",u.bind(this,"click"),{passive:!0}),i.cache.bar.addEventListener("mousedown",u.bind(this,"click"))),"single"===i.options.type?(i.cache.single.addEventListener("touchstart",p.bind(this,"single"),{passive:!0}),i.cache.s_single.addEventListener("touchstart",p.bind(this,"single"),{passive:!0}),i.cache.shad_single.addEventListener("touchstart",u.bind(this,"click"),{passive:!0}),i.cache.single.addEventListener("mousedown",p.bind(this,"single")),i.cache.s_single.addEventListener("mousedown",p.bind(this,"single")),i.cache.edge.addEventListener("mousedown",u.bind(this,"click")),i.cache.shad_single.addEventListener("touchstart",u.bind(this,"click"),{passive:!0})):(i.cache.single.addEventListener("touchstart",p.bind(this,null),{passive:!0}),i.cache.single.addEventListener("mousedown",p.bind(this,null)),i.cache.from.addEventListener("touchstart",p.bind(this,"from"),{passive:!0}),i.cache.s_from.addEventListener("touchstart",p.bind(this,"from"),{passive:!0}),i.cache.to.addEventListener("touchstart",p.bind(this,"to"),{passive:!0}),i.cache.s_to.addEventListener("touchstart",p.bind(this,"to"),{passive:!0}),i.cache.shad_from.addEventListener("touchstart",u.bind(this,"click"),{passive:!0}),i.cache.shad_to.addEventListener("touchstart",u.bind(this,"click"),{passive:!0}),i.cache.from.addEventListener("mousedown",p.bind(this,"from")),i.cache.s_from.addEventListener("mousedown",p.bind(this,"from")),i.cache.to.addEventListener("mousedown",p.bind(this,"to")),i.cache.s_to.addEventListener("mousedown",p.bind(this,"to")),i.cache.shad_from.addEventListener("mousedown",u.bind(this,"click")),i.cache.shad_to.addEventListener("mousedown",u.bind(this,"click"))),i.options.keyboard&&i.cache.line.addEventListener("keydown",m.bind(this,"keyboard")))},h=function(t){if(i.target)i.cache.line.focus();else{let t,e;e="single"===i.options.type?i.cache.single:i.cache.from,t=e.getBoundingClientRect().left,t+=e.getBoundingClientRect().width/2-1,u("single",{preventDefault:function(){},pageX:t})}},d=function(t){if(!i.dragging)return;const e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;i.coords.x_pointer=e-i.coords.x_gap,y()},c=function(t){if(!i.isActive)return;i.isActive=!1;const e=i.cache.cont.querySelector(".ax-hover");e&&e.classList.remove("ax-hover"),i.forceRedraw=!0,C(),v(),(i.cache.cont.contains(t.target)||i.dragging)&&O(),i.dragging=!1},p=function(t,e){axPreventDefault(e);const s=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&("both"===t&&x(),t||(t=i.target||"from"),i.target=t,i.isActive=!0,i.dragging=!0,i.coords.x_gap=i.cache.label.getBoundingClientRect().left,i.coords.x_pointer=s-i.coords.x_gap,b(),function(t){switch(i.target){case"single":i.coords.p_gap=F(i.coords.p_pointer-i.coords.p_single_fake),i.cache.s_single.classList.add("ax-hover");break;case"from":i.coords.p_gap=F(i.coords.p_pointer-i.coords.p_from_fake),i.cache.s_from.classList.add("ax-hover","ax-last"),i.cache.s_to.classList.remove("ax-last");break;case"to":i.coords.p_gap=F(i.coords.p_pointer-i.coords.p_to_fake),i.cache.s_to.classList.add("ax-hover","ax-last"),i.cache.s_from.classList.remove("ax-last");break;case"both":i.coords.p_gap_left=F(i.coords.p_pointer-i.coords.p_from_fake),i.coords.p_gap_right=F(i.coords.p_to_fake-i.coords.p_pointer),i.cache.s_to.classList.remove("ax-last"),i.cache.s_from.classList.remove("ax-last")}}(),i.cache.line.dispatchEvent(new Event("focus")),C())},u=function(t,e){axPreventDefault(e);const s=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(i.target=t,i.isClick=!0,i.coords.x_gap=i.cache.label.getBoundingClientRect().left,i.coords.x_pointer=+(s-i.coords.x_gap).toFixed(),i.forceRedraw=!0,y(),i.cache.line.dispatchEvent(new Event("focus")))},m=function(t,e){if(!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey))switch(e.which){case 83:case 65:case 40:case 37:axPreventDefault(e),f(!1);break;case 87:case 68:case 38:case 39:axPreventDefault(e),f(!0)}},f=function(t){let e=i.coords.p_pointer;const s=i.options.step/((i.options.max-i.options.min)/100);t?e+=s:e-=s,i.coords.x_pointer=F(i.coords.w_rs/100*e),i.isKey=!0,y()},g=function(){if(i.options){if(i.options.hideLabelTrack)return i.cache.min.style.display="none",void(i.cache.max.style.display="none");if(i.options.values.length)i.cache.min.innerHTML=W(i.options.pValues[i.options.min]),i.cache.max.innerHTML=W(i.options.pValues[i.options.max]);else{const t=R(i.options.min),e=R(i.options.max);i.result.min_pretty=t,i.result.max_pretty=e,i.cache.min.innerHTML=W(t,i.options.min),i.cache.max.innerHTML=W(e,i.options.max)}i.labels.w_min=i.cache.min.offsetWidth,i.labels.w_max=i.cache.max.offsetWidth}},x=function(){const t=i.result.to-i.result.from;null===i.oldMinInterval&&(i.oldMinInterval=i.options.minInterval),i.options.minInterval=t},v=function(){null!==i.oldMinInterval&&(i.options.minInterval=i.oldMinInterval,i.oldMinInterval=null)},y=function(t){if(!i.options)return;if(i.calcCount++,(10===i.calcCount||t)&&(i.calcCount=0,i.coords.w_rs=i.cache.label.offsetWidth,E()),!i.coords.w_rs)return;b();let e=T();switch("both"===i.target&&(i.coords.p_gap=0,e=T()),"click"===i.target&&(i.coords.p_gap=i.coords.p_handle/2,e=T(),i.options.dragInterval?i.target="both_one":i.target=M(e)),i.target){case"base":const t=(i.options.max-i.options.min)/100,s=(i.result.from-i.options.min)/t,a=(i.result.to-i.options.min)/t;i.coords.p_single_real=F(s),i.coords.p_from_real=F(s),i.coords.p_to_real=F(a),i.coords.p_single_real=q(i.coords.p_single_real,i.options.fromMin,i.options.fromMax),i.coords.p_from_real=q(i.coords.p_from_real,i.options.fromMin,i.options.fromMax),i.coords.p_to_real=q(i.coords.p_to_real,i.options.toMin,i.options.toMax),i.coords.p_single_fake=D(i.coords.p_single_real),i.coords.p_from_fake=D(i.coords.p_from_real),i.coords.p_to_fake=D(i.coords.p_to_real),i.target=null;break;case"single":if(i.options.fromStick)break;i.coords.p_single_real=w(e),i.coords.p_single_real=Y(i.coords.p_single_real),i.coords.p_single_real=q(i.coords.p_single_real,i.options.fromMin,i.options.fromMax),i.coords.p_single_fake=D(i.coords.p_single_real);break;case"from":if(i.options.fromStick)break;i.coords.p_from_real=w(e),i.coords.p_from_real=Y(i.coords.p_from_real),i.coords.p_from_real>i.coords.p_to_real&&(i.coords.p_from_real=i.coords.p_to_real),i.coords.p_from_real=q(i.coords.p_from_real,i.options.fromMin,i.options.fromMax),i.coords.p_from_real=H(i.coords.p_from_real,i.coords.p_to_real,"from"),i.coords.p_from_real=B(i.coords.p_from_real,i.coords.p_to_real,"from"),i.coords.p_from_fake=D(i.coords.p_from_real);break;case"to":if(i.options.toStick)break;i.coords.p_to_real=w(e),i.coords.p_to_real=Y(i.coords.p_to_real),i.coords.p_to_real<i.coords.p_from_real&&(i.coords.p_to_real=i.coords.p_from_real),i.coords.p_to_real=q(i.coords.p_to_real,i.options.toMin,i.options.toMax),i.coords.p_to_real=H(i.coords.p_to_real,i.coords.p_from_real,"to"),i.coords.p_to_real=B(i.coords.p_to_real,i.coords.p_from_real,"to"),i.coords.p_to_fake=D(i.coords.p_to_real);break;case"both":if(i.options.fromStick||i.options.toStick)break;e=F(e+.001*i.coords.p_handle),i.coords.p_from_real=w(e)-i.coords.p_gap_left,i.coords.p_from_real=Y(i.coords.p_from_real),i.coords.p_from_real=q(i.coords.p_from_real,i.options.fromMin,i.options.fromMax),i.coords.p_from_real=H(i.coords.p_from_real,i.coords.p_to_real,"from"),i.coords.p_from_fake=D(i.coords.p_from_real),i.coords.p_to_real=w(e)+i.coords.p_gap_right,i.coords.p_to_real=Y(i.coords.p_to_real),i.coords.p_to_real=q(i.coords.p_to_real,i.options.toMin,i.options.toMax),i.coords.p_to_real=H(i.coords.p_to_real,i.coords.p_from_real,"to"),i.coords.p_to_fake=D(i.coords.p_to_real);break;case"both_one":if(i.options.fromStick||i.options.toStick)break;const o=w(e),n=i.result.from_percent,r=i.result.to_percent-n,l=r/2;let h=o-l,d=o+l;h<0&&(h=0,d=h+r),d>100&&(d=100,h=d-r),i.coords.p_from_real=Y(h),i.coords.p_from_real=q(i.coords.p_from_real,i.options.fromMin,i.options.fromMax),i.coords.p_from_fake=D(i.coords.p_from_real),i.coords.p_to_real=Y(d),i.coords.p_to_real=q(i.coords.p_to_real,i.options.toMin,i.options.toMax),i.coords.p_to_fake=D(i.coords.p_to_real)}"single"===i.options.type?(i.coords.p_bar_x=i.coords.p_handle/2,i.coords.p_bar_w=i.coords.p_single_fake,i.result.from_percent=i.coords.p_single_real,i.result.from=z(i.coords.p_single_real),i.result.from_pretty=R(i.result.from),i.options.values.length&&(i.result.from_value=i.options.values[i.result.from])):(i.coords.p_bar_x=F(i.coords.p_from_fake+i.coords.p_handle/2),i.coords.p_bar_w=F(i.coords.p_to_fake-i.coords.p_from_fake),i.result.from_percent=i.coords.p_from_real,i.result.from=z(i.coords.p_from_real),i.result.from_pretty=R(i.result.from),i.result.to_percent=i.coords.p_to_real,i.result.to=z(i.coords.p_to_real),i.result.to_pretty=R(i.result.to),i.options.values.length&&(i.result.from_value=i.options.values[i.result.from],i.result.to_value=i.options.values[i.result.to])),S(),A()},b=function(){i.coords.w_rs?(i.coords.x_pointer<0||isNaN(i.coords.x_pointer)?i.coords.x_pointer=0:i.coords.x_pointer>i.coords.w_rs&&(i.coords.x_pointer=i.coords.w_rs),i.coords.p_pointer=F(i.coords.x_pointer/i.coords.w_rs*100)):i.coords.p_pointer=0},w=function(t){return t/(100-i.coords.p_handle)*100},D=function(t){return t/100*(100-i.coords.p_handle)},T=function(){const t=100-i.coords.p_handle;let e=F(i.coords.p_pointer-i.coords.p_gap);return e<0?e=0:e>t&&(e=t),e},E=function(){"single"===i.options.type?i.coords.w_handle=i.cache.s_single.offsetWidth:i.coords.w_handle=i.cache.s_from.offsetWidth,i.coords.p_handle=F(i.coords.w_handle/i.coords.w_rs*100)},M=function(t){if("single"===i.options.type)return"single";return t>=i.coords.p_from_real+(i.coords.p_to_real-i.coords.p_from_real)/2?i.options.toStick?"from":"to":i.options.fromStick?"to":"from"},S=function(){i.coords.w_rs&&(i.labels.p_min=i.labels.w_min/i.coords.w_rs*100,i.labels.p_max=i.labels.w_max/i.coords.w_rs*100)},A=function(){i.coords.w_rs&&!i.options.hideLabelSlider&&("single"===i.options.type?(i.labels.w_single=i.cache.single.offsetWidth,i.labels.p_single_fake=i.labels.w_single/i.coords.w_rs*100,i.labels.p_single_left=i.coords.p_single_fake+i.coords.p_handle/2-i.labels.p_single_fake/2,i.labels.p_single_left=U(i.labels.p_single_left,i.labels.p_single_fake)):(i.labels.w_from=i.cache.from.offsetWidth,i.labels.p_from_fake=i.labels.w_from/i.coords.w_rs*100,i.labels.p_from_left=i.coords.p_from_fake+i.coords.p_handle/2-i.labels.p_from_fake/2,i.labels.p_from_left=F(i.labels.p_from_left),i.labels.p_from_left=U(i.labels.p_from_left,i.labels.p_from_fake),i.labels.w_to=i.cache.to.offsetWidth,i.labels.p_to_fake=i.labels.w_to/i.coords.w_rs*100,i.labels.p_to_left=i.coords.p_to_fake+i.coords.p_handle/2-i.labels.p_to_fake/2,i.labels.p_to_left=F(i.labels.p_to_left),i.labels.p_to_left=U(i.labels.p_to_left,i.labels.p_to_fake),i.labels.w_single=i.cache.single.offsetWidth,i.labels.p_single_fake=i.labels.w_single/i.coords.w_rs*100,i.labels.p_single_left=(i.labels.p_from_left+i.labels.p_to_left+i.labels.p_to_fake)/2-i.labels.p_single_fake/2,i.labels.p_single_left=F(i.labels.p_single_left),i.labels.p_single_left=U(i.labels.p_single_left,i.labels.p_single_fake)))},C=function(){i.rafId&&(cancelAnimationFrame(i.rafId),i.rafId=null),clearTimeout(i.updateTm),i.updateTm=null,i.options&&(L(),i.isActive?i.rafId=requestAnimationFrame(C):i.updateTm=setTimeout(C,300))},L=function(){i.coords.w_rs=i.cache.label.offsetWidth,i.coords.w_rs&&(i.coords.w_rs!==i.coords.w_rs_old&&(i.target="base",i.isResize=!0),(i.coords.w_rs!==i.coords.w_rs_old||i.forceRedraw)&&(g(),y(!0),I(),i.options.grid&&(K(),Q()),i.forceRedraw=!0,i.coords.w_rs_old=i.coords.w_rs,k()),i.coords.w_rs&&(i.dragging||i.forceRedraw||i.isKey)&&((i.oldFrom!==i.result.from||i.oldTo!==i.result.to||i.forceRedraw||i.isKey)&&(I(),i.cache.bar.style.left=i.coords.p_bar_x+"%",i.cache.bar.style.width=i.coords.p_bar_w+"%","single"===i.options.type?(i.cache.bar.style.left="0",i.cache.bar.style.width=i.coords.p_bar_w+i.coords.p_bar_x+"%",i.cache.s_single.style.left=i.coords.p_single_fake+"%",i.cache.single.style.left=i.labels.p_single_left+"%"):(i.cache.s_from.style.left=i.coords.p_from_fake+"%",i.cache.s_to.style.left=i.coords.p_to_fake+"%",(i.oldFrom!==i.result.from||i.forceRedraw)&&(i.cache.from.style.left=i.labels.p_from_left+"%"),(i.oldTo!==i.result.to||i.forceRedraw)&&(i.cache.to.style.left=i.labels.p_to_left+"%"),i.cache.single.style.left=i.labels.p_single_left+"%"),_(),i.oldFrom===i.result.from&&i.oldTo===i.result.to||i.isStart||(i.cache.targetDom.dispatchEvent(new Event("change")),i.cache.targetDom.dispatchEvent(new Event("input"))),i.oldFrom=i.result.from,i.oldTo=i.result.to,i.isResize||i.isUpdate||i.isStart||i.isFinish||j(),(i.isKey||i.isClick)&&(i.isKey=!1,i.isClick=!1,O()),i.isUpdate=!1,i.isResize=!1,i.isFinish=!1),i.isStart=!1,i.isKey=!1,i.isClick=!1,i.forceRedraw=!1))},I=function(){if(!i.options)return;const t=i.options.values.length,e=i.options.pValues;let s,a,o,n,r;if(!i.options.hideLabelSlider)if("single"===i.options.type)t?(s=W(e[i.result.from]),i.cache.single.innerHTML=s):(n=R(i.result.from),s=W(n,i.result.from),i.cache.single.innerHTML=s),A(),i.labels.p_single_left<i.labels.p_min+1?i.cache.min.style.visibility="hidden":i.cache.min.style.visibility="visible",i.labels.p_single_left+i.labels.p_single_fake>100-i.labels.p_max-1?i.cache.max.style.visibility="hidden":i.cache.max.style.visibility="visible";else{t?(i.options.decorateBoth?(s=W(e[i.result.from]),s+=i.options.valuesSeparator,s+=W(e[i.result.to])):s=W(e[i.result.from]+i.options.valuesSeparator+e[i.result.to]),a=W(e[i.result.from]),o=W(e[i.result.to]),i.cache.single.innerHTML=s,i.cache.from.innerHTML=a,i.cache.to.innerHTML=o):(n=R(i.result.from),r=R(i.result.to),i.options.decorateBoth?(s=W(n,i.result.from),s+=i.options.valuesSeparator,s+=W(r,i.result.to)):s=W(n+i.options.valuesSeparator+r,i.result.to),a=W(n,i.result.from),o=W(r,i.result.to),i.cache.single.innerHTML=s,i.cache.from.innerHTML=a,i.cache.to.innerHTML=o),A();const l=Math.min(i.labels.p_single_left,i.labels.p_from_left),h=i.labels.p_single_left+i.labels.p_single_fake,d=i.labels.p_to_left+i.labels.p_to_fake;let c=Math.max(h,d);i.labels.p_from_left+i.labels.p_from_fake>=i.labels.p_to_left?(i.cache.from.style.visibility="hidden",i.cache.to.style.visibility="hidden",i.cache.single.style.visibility="visible",i.result.from===i.result.to?("from"===i.target?i.cache.from.style.visibility="visible":"to"===i.target?i.cache.to.style.visibility="visible":i.target||(i.cache.from.style.visibility="visible"),i.cache.single.style.visibility="hidden",c=d):(i.cache.from.style.visibility="hidden",i.cache.to.style.visibility="hidden",i.cache.single.style.visibility="visible",c=Math.max(h,d))):(i.cache.from.style.visibility="visible",i.cache.to.style.visibility="visible",i.cache.single.style.visibility="hidden"),l<i.labels.p_min+1?i.cache.min.style.visibility="hidden":i.cache.min.style.visibility="visible",c>100-i.labels.p_max-1?i.cache.max.style.visibility="hidden":i.cache.max.style.visibility="visible"}},k=function(){const t=i.options,e=i.cache,s="number"==typeof t.fromMin&&!isNaN(t.fromMin),a="number"==typeof t.fromMax&&!isNaN(t.fromMax),o="number"==typeof t.toMin&&!isNaN(t.toMin),n="number"==typeof t.toMax&&!isNaN(t.toMax);let r,l,h,d;"single"===t.type?t.fromShadow&&(s||a)?(r=P(s?t.fromMin:t.min),l=P(a?t.fromMax:t.max)-r,r=F(r-i.coords.p_handle/100*r),l=F(l-i.coords.p_handle/100*l),r+=i.coords.p_handle/2,e.shad_single.style.display="block",e.shad_single.style.left=r+"%",e.shad_single.style.width=l+"%"):e.shad_single.style.display="none":(t.fromShadow&&(s||a)?(r=P(s?t.fromMin:t.min),l=P(a?t.fromMax:t.max)-r,r=F(r-i.coords.p_handle/100*r),l=F(l-i.coords.p_handle/100*l),r+=i.coords.p_handle/2,e.shad_from.style.display="block",e.shad_from.style.left=r+"%",e.shad_from.style.width=l+"%"):e.shad_from.style.display="none",t.toShadow&&(o||n)?(h=P(o?t.toMin:t.min),d=P(n?t.toMax:t.max)-h,h=F(h-i.coords.p_handle/100*h),d=F(d-i.coords.p_handle/100*d),h+=i.coords.p_handle/2,e.shad_to.style.display="block",e.shad_to.style.left=h+"%",e.shad_to.style.width=d+"%"):e.shad_to.style.display="none")},_=function(){"single"===i.options.type?(i.options.values.length?i.cache.targetDom.setAttribute("value",i.result.from_value):i.cache.targetDom.setAttribute("value",i.result.from),i.cache.targetDom.dataset.from=i.result.from):(i.options.values.length?i.cache.targetDom.setAttribute("value",i.result.from_value+i.options.inputValuesSeparator+i.result.to_value):i.cache.targetDom.setAttribute("value",i.result.from+i.options.inputValuesSeparator+i.result.to),i.cache.targetDom.dataset.from=i.result.from,i.cache.targetDom.dataset.to=i.result.to)},N=function(){_(),i.options.onStart&&"function"==typeof i.options.onStart&&(i.options.scope?i.options.onStart.call(i.options.scope,i.result):i.options.onStart(i.result))},j=function(){_(),i.options.onChange&&"function"==typeof i.options.onChange&&(i.options.scope?i.options.onChange.call(i.options.scope,i.result):i.options.onChange(i.result))},O=function(){_(),i.options.onFinish&&"function"==typeof i.options.onFinish&&(i.options.scope?i.options.onFinish.call(i.options.scope,i.result):i.options.onFinish(i.result))},$=function(){_(),i.options.onUpdate&&"function"==typeof i.options.onUpdate&&(i.options.scope?i.options.onUpdate.call(i.options.scope,i.result):i.options.onUpdate(i.result))};this.toggleInput=function(){this.cache.targetDom.classList.toggle("ax-range-input"),this.hasTabIndex?this.cache.targetDom.setAttribute("tabindex","-1"):this.cache.targetDom.removeAttribute("tabindex"),this.hasTabIndex=!this.hasTabIndex};const P=function(t,e){let s,a,o=i.options.max-i.options.min,n=o/100;return o?(s=e?t:t-i.options.min,a=s/n,F(a)):(i.noDiapason=!0,0)},z=function(t){let e,s,a=i.options.min,o=i.options.max,n=a.toString().split(".")[1],r=o.toString().split(".")[1],l=0,h=0;if(0===t)return i.options.min;if(100===t)return i.options.max;n&&(e=n.length,l=e),r&&(s=r.length,l=s),e&&s&&(l=e>=s?e:s),a<0&&(h=Math.abs(a),a=+(a+h).toFixed(l),o=+(o+h).toFixed(l));let d,c=(o-a)/100*t+a,p=i.options.step.toString().split(".")[1];return p?c=+c.toFixed(p.length):(c/=i.options.step,c*=i.options.step,c=+c.toFixed(0)),h&&(c-=h),d=p?+c.toFixed(p.length):F(c),d<i.options.min?d=i.options.min:d>i.options.max&&(d=i.options.max),d},Y=function(t){let e=Math.round(t/i.coords.p_step)*i.coords.p_step;return e>100&&(e=100),100===t&&(e=100),F(e)},H=function(t,e,s){let a,o,n=i.options;return n.minInterval?(a=z(t),o=z(e),"from"===s?o-a<n.minInterval&&(a=o-n.minInterval):a-o<n.minInterval&&(a=o+n.minInterval),P(a)):t},B=function(t,e,s){let a,o,n=i.options;return n.maxInterval?(a=z(t),o=z(e),"from"===s?o-a>n.maxInterval&&(a=o-n.maxInterval):a-o>n.maxInterval&&(a=o+n.maxInterval),P(a)):t},q=function(t,e,s){let a=z(t);return"number"!=typeof e&&(e=i.options.min),"number"!=typeof s&&(s=i.options.max),a<e&&(a=e),a>s&&(a=s),P(a)},F=function(t){return+(t=t.toFixed(20))},R=function(t){return i.options.prettifyEnabled?i.options.prettify&&"function"==typeof i.options.prettify?i.options.prettify(t):V(t):t},V=function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+i.options.prettifySeparator)},U=function(t,e){return i.options.forceEdges?(t<0?t=0:t>100-e&&(t=100-e),F(t)):F(t)};this.validate=function(){let t,e,s=this.options,a=this.result,o=s.values,n=o.length;if("string"==typeof s.min&&(s.min=+s.min),"string"==typeof s.max&&(s.max=+s.max),"string"==typeof s.from&&(s.from=+s.from),"string"==typeof s.to&&(s.to=+s.to),"string"==typeof s.step&&(s.step=+s.step),"string"==typeof s.fromMin&&(s.fromMin=+s.fromMin),"string"==typeof s.fromMax&&(s.fromMax=+s.fromMax),"string"==typeof s.toMin&&(s.toMin=+s.toMin),"string"==typeof s.toMax&&(s.toMax=+s.toMax),"string"==typeof s.gridNum&&(s.gridNum=+s.gridNum),s.max<s.min&&(s.max=s.min),n)for(s.pValues=[],s.min=0,s.max=n-1,s.step=1,s.gridNum=s.max,s.gridSnap=!0,e=0;e<n;e++)t=+o[e],isNaN(t)?t=o[e]:(o[e]=t,t=R(t)),s.pValues.push(t);("number"!=typeof s.from||isNaN(s.from))&&(s.from=s.min),("number"!=typeof s.to||isNaN(s.to))&&(s.to=s.max),"single"===s.type?(s.from<s.min&&(s.from=s.min),s.from>s.max&&(s.from=s.max)):(s.from<s.min&&(s.from=s.min),s.from>s.max&&(s.from=s.max),s.to<s.min&&(s.to=s.min),s.to>s.max&&(s.to=s.max),i.update_check.from&&(i.update_check.from!==s.from&&s.from>s.to&&(s.from=s.to),i.update_check.to!==s.to&&s.to<s.from&&(s.to=s.from)),s.from>s.to&&(s.from=s.to),s.to<s.from&&(s.to=s.from)),("number"!=typeof s.step||isNaN(s.step)||!s.step||s.step<0)&&(s.step=1),"number"==typeof s.fromMin&&s.from<s.fromMin&&(s.from=s.fromMin),"number"==typeof s.fromMax&&s.from>s.fromMax&&(s.from=s.fromMax),"number"==typeof s.toMin&&s.to<s.toMin&&(s.to=s.toMin),"number"==typeof s.toMax&&s.from>s.toMax&&(s.to=s.toMax),a&&(a.min!==s.min&&(a.min=s.min),a.max!==s.max&&(a.max=s.max),(a.from<a.min||a.from>a.max)&&(a.from=s.from),(a.to<a.min||a.to>a.max)&&(a.to=s.to)),("number"!=typeof s.minInterval||isNaN(s.minInterval)||!s.minInterval||s.minInterval<0)&&(s.minInterval=0),("number"!=typeof s.maxInterval||isNaN(s.maxInterval)||!s.maxInterval||s.maxInterval<0)&&(s.maxInterval=0),s.minInterval&&s.minInterval>s.max-s.min&&(s.minInterval=s.max-s.min),s.maxInterval&&s.maxInterval>s.max-s.min&&(s.maxInterval=s.max-s.min)};const W=function(t,e){let s="",a=i.options;return a.prefix&&(s+=a.prefix),s+=t,a.maxPostfix&&(a.values.length&&t===a.pValues[a.max]?(s+=a.maxPostfix,a.postfix&&(s+=" ")):e===a.max&&(s+=a.maxPostfix,a.postfix&&(s+=" "))),a.postfix&&(s+=a.postfix),s};this.updateResult=function(){this.result.min=this.options.min,this.result.max=this.options.max,i.result.from=i.options.from,i.result.from_percent=P(i.result.from),i.result.from_pretty=R(i.result.from),i.options.values&&(i.result.from_value=i.options.values[i.result.from]),i.result.to=i.options.to,i.result.to_percent=P(i.result.to),i.result.to_pretty=R(i.result.to),i.options.values&&(i.result.to_value=i.options.values[i.result.to])};const G=function(){if(!i.options.grid)return;let t,e,s,a,o,n=i.options,r=n.max-n.min,l=n.gridNum,h=0,d=0,c=4,p=0,u="";for(K(),n.gridSnap&&(l=r/n.step),l>50&&(l=50),h=F(100/l),l>4&&(c=3),l>7&&(c=2),l>14&&(c=1),l>28&&(c=0),t=0;t<l+1;t++){for(s=c,d=F(h*t),d>100&&(d=100),i.coords.big[t]=d,a=(d-h*(t-1))/(s+1),e=1;e<=s&&0!==d;e++)p=F(d-a*e),u+='<span class="ax-range-grid-pol ax-small" style="left: '+p+'%"></span>';u+='<span class="ax-range-grid-pol" style="left: '+d+'%"></span>',o=z(d),o=n.values.length?n.pValues[o]:R(o),u+='<span class="ax-range-grid-text ax-grid-text-'+t+'" style="left: '+d+'%">'+o+"</span>"}i.coords.big_num=Math.ceil(l+1),i.cache.cont.classList.add("ax-with-grid"),i.cache.grid.innerHTML=u,X()},X=function(){for(let t=0;t<i.coords.big_num;t++)i.cache.grid_labels.push(i.cache.grid.querySelector(".ax-grid-text-"+t));Q()},Q=function(){const t=[],e=[],s=i.coords.big_num;for(let a=0;a<s;a++)i.coords.big_w[a]=i.cache.grid_labels[a].offsetWidth,i.coords.big_p[a]=F(i.coords.big_w[a]/i.coords.w_rs*100),i.coords.big_x[a]=F(i.coords.big_p[a]/2),t[a]=F(i.coords.big[a]-i.coords.big_x[a]),e[a]=F(t[a]+i.coords.big_p[a]);i.options.forceEdges&&(t[0]<-i.coords.grid_gap&&(t[0]=-i.coords.grid_gap,e[0]=F(t[0]+i.coords.big_p[0]),i.coords.big_x[0]=i.coords.grid_gap),e[s-1]>100+i.coords.grid_gap&&(e[s-1]=100+i.coords.grid_gap,t[s-1]=F(e[s-1]-i.coords.big_p[s-1]),i.coords.big_x[s-1]=F(i.coords.big_p[s-1]-i.coords.grid_gap))),J(2,t,e),J(4,t,e);for(let t=0;t<s;t++){const e=i.cache.grid_labels[t];i.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-i.coords.big_x[t]+"%")}},J=function(t,e,s){const a=i.coords.big_num;for(let o=0;o<a;o+=t){let n=o+t/2;if(n>=a)break;const r=i.cache.grid_labels[n];s[o]<=e[n]?r.style.visibility="visible":r.style.visibility="hidden"}},K=function(){i.options.gridMargin&&(i.coords.w_rs=i.cache.label.offsetWidth,i.coords.w_rs&&("single"===i.options.type?i.coords.w_handle=i.cache.s_single.offsetWidth:i.coords.w_handle=i.cache.s_from.offsetWidth,i.coords.p_handle=F(i.coords.w_handle/i.coords.w_rs*100),i.coords.grid_gap=F(i.coords.p_handle/2-.1),i.cache.grid.style.width=F(100-i.coords.p_handle)+"%",i.cache.grid.style.left=i.coords.grid_gap+"%"))};this.init()}init(){if(this.validate(),this.ready(),this.referName)if(axIsEmpty(axRanges))axRanges.push({name:this.referName,instance:this});else for(let t=0;t<axRanges.length;t++){if(axRanges[t].name==this.referName){axRanges[t].instance=this;break}axRanges.push({name:this.referName,instance:this})}}update(t,e){if(this.targetDom)return this.isUpdate=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=Object.assign(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.ready(!0),"updated"in this.handlers&&this.emit("updated",""),e&&e.call(this),this}reset(t){this.targetDom&&(this.updateResult(),"reset"in this.handlers&&this.emit("reset",""),t&&t.call(this),this.update())}destroy(t){this.targetDom&&(this.toggleInput(),this.targetDom.removeAttribute("readonly"),this.remove(),this.targetDom=null,this.options=null,"destroy"in this.handlers&&this.emit("destroy",""),t&&t.call(this))}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axRange]").forEach(t=>{new axRange(t)});
/*!
 * 插件：分页；使用方法：new axPagination('#id',{参数})
 * 从现有的list中自动创建分页
 * 从已知的数组创建列表并分页
 * 可追加列表item数量并重新渲染分页
 * 分页节点能自动在列表下方创建，也可以在指定的dom创建
 */
class axPagination{constructor(t,e){this.options=axExtend({listDom:"",count:10,current:1,firstText:"首页",prevText:"上一页",nextText:"下一页",lastText:"尾页",allPages:!1,data:[],clickDelay:200,template:"",type:"regular",loadingMode:"replace",className:"",lastDel:"",async:"",ajaxType:"post",delay:0,dataExtend:"",onBeforeRendered:function(t){},onRendered:function(t,e){},onUpdate:function(t,e){},onTurned:function(t,e){}},e,t,this.constructor.name),this.targetExist=!!t,this.targetDom=t?axIdToDom(t):axAddElem("div",{class:this.options.className?"ax-pagination "+this.options.className:"ax-pagination"}),"pageDom"==this.dataType(this.options.data)?this.listDom=axIdToDom(this.options.data):this.options.listDom?this.listDom=axIdToDom(this.options.listDom):this.listDom="",this.handlers={},this.preData=[],this.asyncData=[],this.selectData=[],this.itemsNum=0,this.pagesNum=0,this.current=this.options.current,this.loadingDom=axAddElem("div",{class:"ax-pageTurning"}),this.options.template?"#"==this.options.template.trim().substr(0,1)?this.template=document.querySelector(this.options.template).innerHTML:this.template=this.options.template:this.template="",this.pagesDom=axAddElem("div",{class:"ax-core"}),this.pageFirst=axAddElem("a",{href:"###",class:"ax-first"},this.options.firstText),this.pageLast=axAddElem("a",{href:"###",class:"ax-last"},this.options.lastText),this.pagePrev=axAddElem("a",{href:"###",class:"ax-prev"},this.options.prevText),this.pageNext=axAddElem("a",{href:"###",class:"ax-next"},this.options.nextText),this.pageTotal=axAddElem("span",{class:"ax-total"}),this.pageGo=axAddElem("span",{class:"ax-gopage"}),this.group=axAddElem("div",{class:"ax-group"}),this.renderedIndex=0,this.init(this.options.data)}init(t){let e=this;if(axIsEmpty(t))return this.listDom&&(this.listDom.innerHTML=""),this.targetDom.innerHTML="",this.current=1,this.pagesNum=1,this.itemsNum=0,!1;if("json"==this.dataType(t)){if(!e.template&&"TBODY"!=this.listDom.nodeName)return console.error("The template is required!"),!1;this.jsonAjax(t,(function(){this.listDom&&this.renderList(1),this.renderFinish()}))}else if("sql"==this.dataType(t)){if(!this.template&&"TBODY"!=this.listDom.nodeName)return console.error("The template is required!"),!1;this.sqlAjax(this.current,(function(){this.listDom&&this.renderList(1),this.renderFinish()}))}else{if("sortList"==this.dataType(t))t.forEach(t=>{this.preData.push(t.dom)});else if("pureNode"==this.dataType(t))this.preData=[...t];else if("tplArray"==this.dataType(t)){if(!this.template)return console.error("The template is required!"),!1;t.forEach(t=>{let e=axStrToDom(axTplEngine(this.template,t));this.preData.push(e)})}else this.preData=[...this.listDom.childNodes].filter(t=>1==t.nodeType);this.getCurrent(this.preData),this.listDom&&this.renderList(this.current),this.renderFinish()}}dataType(t){let e="";return"Array"==axType(t)?e=t[0].hasOwnProperty("dom")?"sortList":axType(t[0]).includes("Element")?"pureNode":"tplArray":"String"==axType(t)&&(e="json"==this.options.async?"json":"sql"==this.options.async?"sql":"pageDom"),e}renderTotal(){this.pageTotal.innerHTML="共有"+this.pagesNum+"页, "+this.itemsNum+"条数据"}renderFinish(){let t=this;this.targetDom.removeAttribute("paging"),this.renderPagesTotal(this.current,()=>{this.renderTotal()}),this.getPagination(),this.listDom&&!this.targetExist&&("TBODY"==this.listDom.nodeName?this.listDom.parentElement.insertAdjacentElement("afterend",this.targetDom):this.listDom.insertAdjacentElement("afterend",this.targetDom)),this.pageFirst.onclick=axDebounce((function(e){t.current<=1?axPreventDefault(e):(t.current=1,t.currentToRenderList(t.current))}),this.options.clickDelay),this.pageLast.onclick=axDebounce((function(e){t.current>=t.pagesNum?axPreventDefault(e):(t.current=t.pagesNum,t.currentToRenderList(t.current))}),this.options.clickDelay),this.pagePrev.onclick=axDebounce((function(e){t.current<=1?axPreventDefault(e):(t.current=t.current-1,t.currentToRenderList(t.current))}),this.options.clickDelay),this.pageNext.onclick=axDebounce((function(e){t.current>=t.pagesNum?axPreventDefault(e):(t.current=t.current+1,t.currentToRenderList(t.current))}),this.options.clickDelay),this.renderedIndex++,this.options.onRendered&&this.options.onRendered.call(this,this.current,this.pagesNum),"rendered"in this.handlers&&this.emit("rendered",this.current,this.pagesNum)}currentFix(t,e=this.pagesNum){return t?(this.current=t<=1?1:t>=e?e:t,this.current):this.current}getCurrent(t,e,i,s){if(this.itemsNum=s||t.length,i)this.pagesNum=i;else{let t=this.itemsNum/this.options.count;this.pagesNum=t%1==0?t:Math.floor(t)+1}this.currentFix(e||this.current,this.pagesNum)}renderList(t){let e=document.createDocumentFragment();this.selectData=this.preData.slice(this.options.count*(t-1),this.options.count*t),this.selectData.forEach((t,i)=>{i+1==this.selectData.length&&this.options.lastDel&&t.querySelector(this.options.lastDel)&&t.removeChild(t.querySelector(this.options.lastDel)),e.appendChild(t)}),this.options.onBeforeRendered&&this.options.onBeforeRendered.call(this,this.selectData,this.asyncData),"beforeRendered"in this.handlers&&this.emit("beforeRendered",this.selectData,this.asyncData),this.listDom.innerHTML="",this.listDom.appendChild(e)}renderPagesTotal(t,e){let i=this;if(t=this.currentFix(t),this.pagesDom.innerHTML="",this.options.allPages)for(let t=1;t<=this.pagesNum;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}else if(this.pagesNum<11)for(let t=1;t<=this.pagesNum;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}else if(t<6){for(let t=1;t<=8;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}this.pagesDom.appendChild(axAddElem("span",{},"..."));for(let t=this.pagesNum-1;t<=this.pagesNum;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}}else if(this.pagesNum-t<5){for(let t=1;t<=2;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}this.pagesDom.appendChild(axAddElem("span",{},"..."));for(let t=this.pagesNum-6;t<=this.pagesNum;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}}else{for(let t=1;t<=2;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}this.pagesDom.appendChild(axAddElem("span",{},"..."));for(let e=t-2;e<=t+2;e++){let t=axAddElem("a",{href:"###","data-page":e},e);this.pagesDom.appendChild(t)}this.pagesDom.appendChild(axAddElem("span",{},"..."));for(let t=this.pagesNum-1;t<=this.pagesNum;t++){let e=axAddElem("a",{href:"###","data-page":t},t);this.pagesDom.appendChild(e)}}return[...this.pagesDom.querySelectorAll("[data-page]")].forEach(t=>{t.onclick=axDebounce((function(){i.current=~~t.dataset.page,i.currentToRenderList(i.current)}),this.options.clickDelay)}),this.setClass(t),e&&e.call(this,t),this.pagesDom}setClass(t){let e=[...this.pagesDom.querySelectorAll("[data-page]")].filter(e=>~~e.dataset.page==t)[0];e.classList.add("ax-active"),1==~~e.dataset.page?(this.pageFirst.classList.add("ax-disabled"),this.pagePrev.classList.add("ax-disabled"),1==this.pagesNum?(this.pageLast.classList.add("ax-disabled"),this.pageNext.classList.add("ax-disabled")):(this.pageLast.classList.remove("ax-disabled"),this.pageNext.classList.remove("ax-disabled"))):~~e.dataset.page==this.pagesNum?(this.pageLast.classList.add("ax-disabled"),this.pageNext.classList.add("ax-disabled"),this.pageFirst.classList.remove("ax-disabled"),this.pagePrev.classList.remove("ax-disabled")):(this.pageFirst.classList.remove("ax-disabled"),this.pagePrev.classList.remove("ax-disabled"),this.pageLast.classList.remove("ax-disabled"),this.pageNext.classList.remove("ax-disabled"))}getPagination(){let t=this,e=document.createDocumentFragment();this.pageGo.innerHTML='跳到</span><input type="text"><button type="button" class="ax-btn">确定</button>';let i=this.pageGo.querySelector("input"),s=this.pageGo.querySelector("button");if(s.onclick=axDebounce((function(){let e=~~i.value;e<=1?(console.warn("The value is out of range,it has been fixed!"),i.value=1,t.current=1):e>=t.pagesNum?(console.warn("The value is out of range,it has been fixed!"),i.value=t.pagesNum,t.current=t.pagesNum):t.current=e,t.currentToRenderList(t.current)}),this.options.clickDelay),i.onkeyup=function(t){"Enter"===t.code&&s.click()},"regular"==this.options.type)e.appendChild(this.pageFirst),e.appendChild(this.pagePrev),e.appendChild(this.pagesDom),e.appendChild(this.pageNext),e.appendChild(this.pageLast);else if("group"==this.options.type)this.group.appendChild(this.pageFirst),this.group.appendChild(this.pagePrev),this.group.appendChild(this.pagesDom),this.group.appendChild(this.pageNext),this.group.appendChild(this.pageLast),e.appendChild(this.group);else if("simple"==this.options.type)e.appendChild(this.pagePrev),e.appendChild(this.pageNext);else if("full"==this.options.type)e.appendChild(this.pageTotal),e.appendChild(this.pageFirst),e.appendChild(this.pagePrev),e.appendChild(this.pagesDom),e.appendChild(this.pageNext),e.appendChild(this.pageLast),e.appendChild(this.pageGo);else if("pagesRight"==this.options.type){let t=axAddElem("div"),i=axAddElem("div",{class:"ax-col ax-align-right"});this.targetDom.classList.add("ax-row"),t.appendChild(this.pageTotal),i.appendChild(this.pageFirst),i.appendChild(this.pagePrev),i.appendChild(this.pagesDom),i.appendChild(this.pageNext),i.appendChild(this.pageLast),i.appendChild(this.pageGo),e.appendChild(t),e.appendChild(i)}else if("pagesLeft"==this.options.type){let t=axAddElem("div"),i=axAddElem("div",{class:"ax-col ax-align-left"});this.targetDom.classList.add("ax-row"),t.appendChild(this.pageTotal),i.appendChild(this.pageFirst),i.appendChild(this.pagePrev),i.appendChild(this.pagesDom),i.appendChild(this.pageNext),i.appendChild(this.pageLast),i.appendChild(this.pageGo),e.appendChild(i),e.appendChild(t)}else e.appendChild(this.pagesDom);this.targetDom.appendChild(e)}jsonAjax(t,e){let i=this;axAjax({url:t,type:this.options.ajaxType,before:function(t){i.listDom&&(i.listDom.innerHTML='<div class="ax-pageTurning">'+t+"</div>")},success:function(t){t.forEach((t,e)=>{let s,a={index:e};if(i.template||"TBODY"!=i.listDom.nodeName)s=axStrToDom(axTplEngine(i.template,t));else{s=axAddElem("tr");for(let e in t){let i=axAddElem("td",{name:e},t[e]);s.appendChild(i),a.children=[],a.children.push({dom:i,name:e,label:t[e].toString()})}}a.dom=s,i.asyncData.push(a),i.preData.push(s)}),i.getCurrent(i.preData),e&&e.call(i)}})}sqlAjax(t,e){let i=this;axAjax({data:Object.assign({count:this.options.count,current:t},i.options.dataExtend),url:this.options.data,type:this.options.ajaxType,before:function(t){i.listDom&&(i.loadingDom.style="",i.loadingDom.innerHTML=t,"overlay"==i.options.loadingMode?i.loadingDom.classList.add("ax-overlay"):(i.listDom.innerHTML="",i.listDom.appendChild(i.loadingDom)),i.listDom.insertAdjacentElement("afterbegin",i.loadingDom),axFadeIn(i.loadingDom,"flex"))},success:function(t){return"object"!=typeof t?(console.error("The type of content must be object!"),!1):axIsEmpty(t.data)?(i.listDom&&(i.listDom.innerHTML=""),i.targetDom.innerHTML="",!1):(i.preData=[],i.asyncData=[],t.data.forEach((t,e)=>{let s,a={index:e};if(i.template||"TBODY"!=i.listDom.nodeName)s=axStrToDom(axTplEngine(i.template,t));else{s=axAddElem("tr"),a.children=[];for(let e in t){let i=axAddElem("td",{name:e},t[e].toString());s.appendChild(i),a.children.push({dom:i,name:e,label:t[e].toString()})}}a.dom=s,i.asyncData.push(a),i.preData.push(s)}),i.getCurrent(t.data,~~t.current,~~t.pagesNum,~~t.itemsNum),void(e&&e.call(i)))}})}currentToRenderList(t,e){let i=this;"sql"==i.dataType(this.options.data)?this.sqlAjax(t,(function(){i.options.delay?setTimeout((function(){i.listDom&&i.renderList(1)}),i.options.delay):i.listDom&&i.renderList(1),this.options.onRendered&&this.options.onRendered.call(this,this.current,this.pagesNum),"rendered"in i.handlers&&i.emit("rendered",i.current,i.pagesNum)})):(i.listDom&&i.renderList(t),this.options.onRendered&&this.options.onRendered.call(this,this.current,this.pagesNum),"rendered"in i.handlers&&i.emit("rendered",i.current,i.pagesNum)),i.renderPagesTotal(t,e&&e.call(i,t)),this.options.onTurned&&this.options.onTurned.call(this,this.current,this.pagesNum),"turned"in this.handlers&&this.emit("turned",this.current,this.pagesNum)}first(t){return this.current=1,this.currentToRenderList(this.current),t&&t.call(this,this.current,this.pagesNum),this}prev(t){return!(this.current<=1)&&(this.current=this.current-1,this.currentToRenderList(this.current),t&&t.call(this,this.current,this.pagesNum),this)}next(t){return!(this.current>=this.pagesNum)&&(this.current=this.current+1,this.currentToRenderList(this.current),t&&t.call(this,this.current,this.pagesNum),this)}last(t){return this.current=this.pagesNum,this.currentToRenderList(this.current),t&&t.call(this,this.current,this.pagesNum),this}go(t,e){return this.current<=1||this.current>=this.pagesNum?(console.error("The value is out of range!"),!1):(this.current=~~t,this.currentToRenderList(this.current),e&&e.call(this,this.current,this.pagesNum),this)}info(t){let e={current:this.current,pagesNum:this.pagesNum,count:this.options.count,itemsNum:this.itemsNum,selectData:this.selectData};return t&&t.call(this,e),e}updatePages(t,e,i){if(!t)return!1;let s;if(e=e||"remove",s="number"==typeof t?this.preData[t]:t,!s)return!1;"remove"===e&&(this.preData=this.preData.filter(t=>t!=s),this.getCurrent(this.preData,this.current,"",this.preData.length)),this.currentToRenderList(this.current,()=>{this.renderTotal()}),i&&i.call(this)}update(t,e,i){return e=e||"overwrite",this.options=axExtend(this.options,t),this.current=this.options.current,this.targetDom.setAttribute("paging",""),this.targetDom.innerHTML="","overwrite"==e&&(this.preData=[]),this.init(this.options.data),this.options.onUpdated&&this.options.onUpdated.call(this,this.current,this.pagesNum),"updated"in this.handlers&&this.emit("updated",this.current,this.pagesNum),i&&i.call(this),this}updateData(t,e,i){return e=e||"overwrite",this.targetDom.setAttribute("paging",""),this.targetDom.innerHTML="","overwrite"===e&&(this.preData=[],this.options.dataExtend=""),"object"==typeof t&&t.url&&t.hasOwnProperty("sql")?(this.options.data=t.url,this.options.dataExtend=t.sql):this.options.data=t,this.init(this.options.data),this.options.onUpdated&&this.options.onUpdated.call(this,this.current,this.pagesNum),"updated"in this.handlers&&this.emit("updated",this.current,this.pagesNum),i&&i.call(this),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axPagination]").forEach(t=>{new axPagination(t)});
/*!
* 插件：可排序列表；使用方法：new axList('#id',{参数})；#id是可选参数，可以从该dom获取参数值
*/
class axList{constructor(t,e){this.targetDom=axIdToDom(t),this.rawOptions={names:"",inputDelay:200,clickDelay:200,paginationDom:null,maxCount:1e4,order:"asc",operator:"or",paginationShow:!0,onUpdated:"",onInit:"",pagination:{current:1,count:10,data:[],template:null,async:"",ajaxType:"post",loadingMode:"overlay"}},this.options=axExtend(axClone(this.rawOptions),e,this.targetDom,this.constructor.name),this.handlers={},this.rawData=[],this.preData=[],this.paginationDom=this.options.paginationDom?axIdToDom(this.options.paginationDom):this.targetDom.querySelector(".ax-pagination")||"",this.options.pagination.template?"#"==this.options.pagination.template.trim().substr(0,1)?this.template=document.querySelector(this.options.pagination.template).innerHTML:this.template=this.options.pagination.template:this.template="",this.names=this.options.names.replace(/\s+/g,"").split(","),this.listDom=this.targetDom.querySelector("[list]"),this.searchs=[...this.targetDom.querySelectorAll("[search]")],this.keywords=[...this.targetDom.querySelectorAll("[keyword]")],this.searchVal="",this.sorts=[...this.targetDom.querySelectorAll("[sort]")],this.resets=[...this.targetDom.querySelectorAll("[reset]")],this.filters=[...this.targetDom.querySelectorAll("[filter]")],this.extends=[...this.targetDom.querySelectorAll("[extend]")],this.paginationOpt={},this.pagination=null,this.init()}init(){let t=this;if(this.setPaginationOpt(),axIsEmpty(this.listDom.childNodes))"String"==axType(this.options.pagination.data)&&this.options.pagination.template?"json"==this.options.pagination.async?axAjax({url:t.options.pagination.data,type:t.options.pagination.ajaxType,success:function(e){let i=[];e.forEach(e=>{let s=axStrToDom(axTplEngine(t.template,e));i.push(s)}),t.getDomArr(i),t.paginationOpt.data=t.preData,t.renderFinish()}}):"sql"==this.options.pagination.async&&(["relative","absolute","fixed"].includes(axStyle(this.listDom).position)||(this.listDom.style.position="relative"),this.renderSqlFinish()):(this.preData=this.options.pagination.data,this.rawData=[...this.preData],this.paginationOpt.data=this.options.pagination.data,this.renderFinish());else{let t=[...this.listDom.childNodes].filter(t=>1==t.nodeType);this.getDomArr(t),this.paginationOpt.data=this.preData,this.renderFinish()}this.options.onInit&&this.options.onInit.call(this,this.pagination.current,this.pagination.pagesNum)}getDomArr(t){return this.options.names?(t.forEach(t=>{let e={dom:t};this.names.forEach(i=>{t.querySelector("["+i+"]")&&(e[i]=t.querySelector("["+i+"]").innerText.trim())}),this.preData.push(e)}),this.rawData=[...this.preData],!0):(this.preData=t,this.rawData=[...t],!1)}renderFinish(){if(this.pagination=new axPagination(this.paginationDom,this.paginationOpt),!this.options.paginationShow&&(this.pagination.targetDom.remove(),this.pagination.itemsNum>this.paginationOpt.count))return console.error("The maximum length cannot exceed "+this.paginationOpt.count+"!"),!1;this.loadExtend(!1),this.loadSort(!1),this.loadKeyword(!1),this.loadSearch(!1),this.loadFilter(!1),this.loadReset(!1)}setPaginationOpt(){return this.paginationOpt=this.options.pagination,this.paginationOpt.listDom=this.listDom,this.paginationOpt.count=this.options.paginationShow?this.paginationOpt.count:this.options.maxCount,this.paginationOpt}renderSqlFinish(){this.pagination=new axPagination(this.paginationDom,this.paginationOpt),this.loadSort(!0),this.loadFilter(!0),this.loadExtend(!0),this.loadKeyword(!0),this.loadSearch(!0),this.loadReset(!0)}loadExtend(t){let e=this;0!==this.extends.length&&this.extends.forEach(i=>{let s=i.getAttribute("extend");i.onclick=axDebounce((function(){e.extend(s,t)}),this.options.clickDelay)})}extend(t,e){let i=this;e?(this.updateSql({dataExtend:{extend:t}}),this.pagination.on("rendered",(function(){axIsEmpty(i.pagination.preData)&&(i.listDom.innerHTML="",i.pagination.targetDom.innerHTML="")}))):this.strSearch(t)}loadKeyword(t){let e=this;0!==this.keywords.length&&this.keywords.forEach(i=>{let s=[...e.preData],a=i.getAttribute("keyword").trim(),o=i.getAttribute("operator")?i.getAttribute("operator").trim():this.options.operator,n="",r=a?a.split(","):[],l=0!==r.length?r:this.names;i.hasAttribute("auto")&&(i.oninput=axDebounce((function(){if(0!==r.length){let t={};r.forEach(e=>{t[e]=this.value}),n=t}else n=this.value;t?e.sqlSearch(l,this.value,o):e.keySearch(n,s,o)}),e.options.inputDelay))})}loadFilter(t){let e=this;0!==this.filters.length&&this.filters.forEach(i=>{let s,a=[...e.preData],o=i.getAttribute("operator")?i.getAttribute("operator").trim():this.options.operator;s=t?i.getAttribute("filter"):axAttrToJson(i,"filter"),i.onclick=axDebounce((function(){e.filter(s,a,o,t)}),this.options.clickDelay)})}filter(t,e,i,s){i=i||this.options.operator,e=e||[...this.preData],s?this.updateSql({dataExtend:{filter:t}}):this.keySearch(t,e,i)}loadSearch(t){let e=this;0!==this.searchs.length&&this.searchs.forEach(i=>{if(0==this.keywords.length)return!1;let s=i.getAttribute("field"),a=this.keywords.filter(t=>t.name==s)[0],o=a.getAttribute("keyword"),n=a.getAttribute("operator")?a.getAttribute("operator").trim():this.options.operator,r=[...this.preData];o=o?o.replace(/\s+/g,"").split(","):this.names,i.onclick=axDebounce((function(){e.search(o,a.value,r,n,t)}),this.options.clickDelay),a.onkeyup=function(t){"Enter"===t.code&&i.click()}})}search(t,e,i,s,a){if(s=s||this.options.operator,a)this.sqlSearch(t,e,s);else{let a={};i=i||[...this.preData],t.forEach(t=>{a[t]=e}),this.keySearch(a,i,s)}}loadSort(t){let e=this;if(0!==this.sorts.length)for(let i=0,s=this.sorts.length;i<s;i++){let s=this.sorts[i],a=s.getAttribute("sort").trim();!t&&e.names.every(t=>t!==a)||(s.onclick=axDebounce((function(){t?(e.sort(a,"",!0),a.includes(",")||(a.includes("desc")?(s.setAttribute("order","desc"),a=a.replace("desc","asc")):a.includes("asc")&&(s.setAttribute("order","asc"),a=a.replace("asc","desc")))):"desc"==this.getAttribute("order")?(this.setAttribute("order","asc"),e.sort(a,"asc",!1)):"asc"==this.getAttribute("order")?(this.setAttribute("order","desc"),e.sort(a,"desc",!1)):(this.setAttribute("order",e.options.order),e.sort(a,e.options.order,!1)),e.sorts.filter(t=>t!=this).forEach(t=>{t.setAttribute("order","")})}),this.options.clickDelay))}}sort(t,e,i){i?this.updateSql({dataExtend:{sort:t}}):this.preSort(t,e)}preSort(t,e,i){if("desc"==e)this.preData.sort((function(e,i){return isNaN(e[t]-i[t])?i[t].localeCompare(e[t],"zh-CN-u-kf-lower"):i[t]-e[t]}));else{if("asc"!=e)return!1;this.preData.sort((function(e,i){return isNaN(e[t]-i[t])?e[t].localeCompare(i[t],"zh-CN-u-kf-lower"):e[t]-i[t]}))}return this.pagination.updateData(this.preData),"sorted"in this.handlers&&this.emit("sorted",this.pagination.current,this.pagination.pagesNum),this.options.onUpdated&&this.options.onUpdated.call(this,this.pagination.current,this.pagination.pagesNum),i&&i.call(this,this.preData,this.pagination.current),this}loadReset(t){let e=this;0!==this.resets.length&&this.resets.forEach(i=>{i.onclick=axDebounce((function(){e.reset(t)}),this.options.clickDelay)})}reset(t){if(t)this.updateSql({dataExtend:""});else{this.preData=[...this.rawData];let t=axClone(this.rawOptions.pagination);t.data=this.preData,this.updatePages(t)}this.sorts.forEach(t=>{t.setAttribute("order","")}),this.keywords.forEach(t=>{t.value=""}),"reset"in this.handlers&&this.emit("reset",""),this.options.onUpdated&&this.options.onUpdated.call(this,this.pagination.current,this.pagination.pagesNum)}keySearch(t,e,i=this.options.operator,s){let a=e.filter(e=>{let s=[];if("object"!=typeof t){for(let t of this.names)s.push(e[t]);return s.toString().includes(t)}{let s=[];for(let i in t)s.push(String(e[i]).includes(t[i]));if("or"==i)return s.some(t=>1==t);if("and"==i)return s.every(t=>1==t)}});if(this.preData=a,axIsEmpty(this.preData))return"rendered"in this.handlers&&this.emit("rendered",this.pagination.current,this.pagination.pagesNum),this.options.onUpdated&&this.options.onUpdated.call(this,this.pagination.current,this.pagination.pagesNum),s&&s.call(this,this.pagination.current,this.pagination.pagesNum),this.preData=[...this.rawData],this.listDom.innerHTML="",this.pagination.targetDom.innerHTML="",!1;this.pagination.updateData(this.preData),"rendered"in this.handlers&&this.emit("rendered",this.pagination.current,this.pagination.pagesNum),this.options.onUpdated&&this.options.onUpdated.call(this,this.pagination.current,this.pagination.pagesNum),s&&s.call(this,this.pagination.current,this.pagination.pagesNum)}strSearch(t,e){if(this.preData=axStrToFilter(t,[...this.preData]),axIsEmpty(this.preData))return"rendered"in this.handlers&&this.emit("rendered",this.pagination.current,this.pagination.pagesNum),this.options.onUpdated&&this.options.onUpdated.call(this,this.pagination.current,this.pagination.pagesNum),e&&e.call(this,this.pagination.current,this.pagination.pagesNum),this.preData=[...this.rawData],this.listDom.innerHTML="",this.pagination.targetDom.innerHTML="",!1;this.pagination.updateData(this.preData),"rendered"in this.handlers&&this.emit("rendered",this.pagination.current,this.pagination.pagesNum),this.options.onUpdated&&this.options.onUpdated.call(this,this.pagination.current,this.pagination.pagesNum),e&&e.call(this,this.pagination.current,this.pagination.pagesNum)}sqlSearch(t,e,i){let s,a=this,o="";if(i=i||this.options.operator,0==t.length)return console.error("The length of names array cannot be greater than 0!"),!1;e&&t.forEach((a,n)=>{s=t.length-1!=n?i+" ":"",o+=a+' like "%" "'+e+'" %" '+s}),a.pagination.options.dataExtend="",a.updatePages({dataExtend:{search:o}}),a.pagination.on("rendered",(function(){axIsEmpty(a.pagination.preData)&&(a.listDom.innerHTML="",a.pagination.targetDom.innerHTML="")}))}updateSql(t,e){let i=this;return this.pagination.options.dataExtend="",this.pagination.update(t,"",(function(){"updated"in i.handlers&&i.emit("updated",i.pagination.current,i.pagination.pagesNum),i.options.onUpdated&&i.options.onUpdated.call(i,i.pagination.current,i.pagination.pagesNum)})),e&&e.call(i,i.pagination.current,i.pagination.pagesNum),this}updatePages(t,e){let i=this,s=axExtend(i.options.pagination,t);return this.pagination.update(s,"",(function(){"updated"in i.handlers&&i.emit("updated",i.pagination.current,i.pagination.pagesNum),i.options.onUpdated&&i.options.onUpdated.call(i,i.pagination.current,i.pagination.pagesNum)})),e&&e.call(i,i.pagination.current,i.pagination.pagesNum),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axList]").forEach(t=>{new axList(t)});
/*!a
 * 插件：灯箱画廊；使用方法：axLightbox('#id',{参数})
 */
const axLightboxs=[];class axLightbox{constructor(t,e){this.options=axExtend({insName:"",src:"",gallery:!0,download:!1,autoplay:!1,thumb:{show:!1,placement:"bottom",row:1},zoom:!0,share:!1,btnClass:"ax-lightbox-open",index:0,onInit:"",onShow:"",onShwon:"",onHide:"",onHidden:"",onUpdate:"",onDestroy:""},t,e,this.constructor.name);this.handlers={},this.data=[],this.closeArea=[],this.zoomIn=!1,this.button=e?axIdToDom(e):null,this.shown=!1,axInstance.data.find(t=>t.instance===this)||axInstance.push(this,this.options.insName,"lightbox")}init(){let t=this;this.destroyed=!1,this.data=axCreateData(this.options.src,["src","cover","caption","type"],["media","cover","caption","type"],"figure",["","","","image"],(function(t){t.forEach(t=>{t.cover||"image"!=t.type||(t.cover=t.media),t.cover=t.cover?t.cover:axImage.imgNone})})),this.setAttribute(),this.createBox(),this.createSlide(),this.data.length>1&&(this.prev=axStrToDom('<span class="ax-prev ax-light"></span>'),this.next=axStrToDom('<span class="ax-next ax-light"></span>'),this.swiper.appendChild(this.prev),this.swiper.appendChild(this.next));let e={zoom:this.options.zoom,lazy:!0,keyboard:!0,mousewheel:!0,initialSlide:this.options.index||0,pagination:{el:this.options.gallery?this.targetDom.querySelector(".ax-pages"):null,type:"fraction"},thumbs:{swiper:""},on:{touchStart:function(t,e){t.el.classList.add("ax-grabbing")},touchEnd:function(t,e){t.el.classList.remove("ax-grabbing")},zoomChange:function(e,i){i>1?t.zoomIn=!0:setTimeout((function(){t.zoomIn=!1}),100)}}},i={lazy:!0,spaceBetween:4,slidesPerView:"auto",mousewheel:!0,grid:{rows:this.options.thumb.row},watchSlidesProgress:!0};return this.options.gallery&&this.options.thumb&&(this.stage.insertAdjacentElement("afterend",this.createThumb()),this.insThumb=new axSwiper(this.thumb.querySelector(".ax-swiper"),i),e.thumbs.swiper=this.insThumb,this.btnList.onclick=function(){t.targetDom.classList.toggle("ax-thumb-hide")}),this.options.thumb.show||this.targetDom.classList.add("ax-thumb-hide"),this.options.autoplay&&(e.autoplay={delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0}),this.insSwiper=new axSwiper(this.swiper,e),document.body.appendChild(this.targetDom),this.data.length>1&&this.options.thumb.row&&this.options.thumb.row>1&&(this.thumb.querySelector(".ax-swiper").style.height=axHeight(this.thumb.querySelector(".ax-slide"),"outer")*this.options.thumb.row+i.spaceBetween*(this.options.thumb.row-1)+"px"),this.options.gallery||this.insSwiper.disable(),axPreventScroll(this.targetDom),this.targetDom.querySelectorAll("[close]").forEach(e=>{e.addEventListener("click",(function(){t.hide()}),!1)}),this.options.zoom&&(this.btnZoom.onclick=function(){this.classList.contains("ax-icon-zoomin")?t.insSwiper.zoom.in():t.insSwiper.zoom.out()}),this.options.download&&("image"!=this.data[this.insSwiper.activeIndex].type?(this.btnDownload.href="###",this.btnDownload.classList.add("ax-disabled"),this.btnDownload.removeAttribute("download"),this.btnDownload.removeAttribute("target")):(this.btnDownload.href=this.data[this.insSwiper.activeIndex].media,this.btnDownload.classList.remove("ax-disabled"),this.btnDownload.setAttribute("download",""),this.btnDownload.setAttribute("target","_blank"))),this.options.zoom&&("image"!=this.data[this.insSwiper.activeIndex].type?(this.btnZoom.classList.add("ax-disabled"),this.insSwiper.zoom.disable()):(this.btnZoom.classList.remove("ax-disabled"),this.insSwiper.zoom.enable())),this.options.share&&("image"!=this.data[this.insSwiper.activeIndex].type?this.btnShare.classList.add("ax-disabled"):this.btnShare.classList.remove("ax-disabled")),this.insSwiper.on("slideChangeTransitionEnd",(function(){t.options.download&&("image"!=t.data[this.activeIndex].type?(t.btnDownload.href="###",t.btnDownload.classList.add("ax-disabled"),t.btnDownload.removeAttribute("download"),t.btnDownload.removeAttribute("target")):(t.btnDownload.href=t.data[this.activeIndex].media,t.btnDownload.classList.remove("ax-disabled"),t.btnDownload.setAttribute("download",""),t.btnDownload.setAttribute("target","_blank"))),t.options.zoom&&("image"!=t.data[this.activeIndex].type?(t.btnZoom.classList.add("ax-disabled"),t.insSwiper.zoom.disable()):(t.btnZoom.classList.remove("ax-disabled"),t.btnZoom.classList.remove("ax-icon-zoomout"),t.btnZoom.classList.add("ax-icon-zoomin"),t.insSwiper.zoom.enable())),t.options.share&&("image"!=t.data[this.activeIndex].type?t.btnShare.classList.add("ax-disabled"):t.btnShare.classList.remove("ax-disabled")),t.targetDom.querySelectorAll("video,audio").forEach(t=>{t.pause()}),t.zoomIn=!1})),this.insSwiper.on("zoomChange",(function(e,i){i>1?(t.btnZoom.classList.remove("ax-icon-zoomin"),t.btnZoom.classList.add("ax-icon-zoomout")):(t.btnZoom.classList.remove("ax-icon-zoomout"),t.btnZoom.classList.add("ax-icon-zoomin"))})),this.options.onInit&&this.options.onInit.call(this),"init"in this.handlers&&this.emit("init",""),this}overlayClose(t){this.closeArea=[];let e=this,i=!0,s=!0,a=!0;return e.prev&&(i=axIsOutside(t,e.prev)),e.closeArea.push(i),e.next&&(s=axIsOutside(t,e.next)),e.closeArea.push(s),a=!e.options.thumb||axIsOutside(t,e.thumb),e.closeArea.push(a),e.swiperWrapper.querySelectorAll(".ax-media").forEach(i=>{let s=i.firstElementChild;e.closeArea.push(axIsOutside(t,s))}),e.swiperWrapper.querySelectorAll(".ax-caption")&&e.swiperWrapper.querySelectorAll(".ax-caption").forEach(i=>{e.closeArea.push(axIsOutside(t,i))}),e.closeArea.push(axIsOutside(t,e.operate)),e.closeArea.push(axIsOutside(t,e.pages)),this.closeArea}createSlide(){this.data.forEach(t=>{let e=null,i=null;e=axStrToDom(((t,e)=>e&&"video"==e?`\n                <div class="ax-slide">\n                    <div class="ax-media">\n                        <video controls><source src="${t}"></video>\n                    </div>\n                </div>\n                `:e&&"audio"==e?`\n                <div class="ax-slide">\n                    <div class="ax-media">\n                        <audio controls><source src="${t}" ></audio>\n                    </div>\n                </div>\n                `:e&&"iframe"==e?`\n                <div class="ax-slide">\n                    <div class="ax-media">\n                        <iframe src="${t}" frameborder="0" width="100%" height="100%"></iframe>\n                    </div>\n                </div>\n                `:e&&"text"==e?("#"==t.substr(0,1)&&(t=document.querySelector(t).innerHTML),`\n                <div class="ax-slide">\n                    <div class="ax-media">\n                        <div class="ax-text">${t}</div>\n                    </div>\n                </div>\n                `):`\n                <div class="ax-slide">\n                    <div class="ax-media ax-zoom">\n                        <img data-src="${t}" class="ax-lazy" />\n                        <span class="ax-loading ax-white"><i></i></span>\n                    </div>\n                </div>\n                `)(t.media,t.type)),i=t.caption?axStrToDom(`<div class="ax-caption">${t.caption}</div>`):null,i&&e.appendChild(i),this.swiperWrapper.appendChild(e)})}createThumb(){return this.thumb=axStrToDom('<div class="ax-thumb"><div class="ax-swiper"><div class="ax-wrapper"></div></div></div>'),this.thumbWrapper=this.thumb.querySelector(".ax-wrapper"),this.data.forEach(t=>{let e=axStrToDom(`\n            <div class="ax-slide">\n                <img data-src="${t.cover}" class="ax-lazy" />\n                <span class="ax-loading ax-white"><i></i></span>\n            </div>\n            `);this.thumbWrapper.appendChild(e)}),this.thumb}createBox(){let t=`\n        <div class="ax-lightbox" id="${axCreateId("lightbox")}">\n        <div class="ax-overlay"></div>\n        <div class="ax-tools">\n            <div class="ax-pages"></div>\n            <div class="ax-operate"><i class="ax-iconfont ax-icon-close" close></i></div>\n        </div>\n        <div class="ax-stage">\n            <div class="ax-swiper">\n                <div class="ax-wrapper">\n                </div>\n            </div>\n        </div>\n    </div>\n      `;this.targetDom=axStrToDom(t),this.tools=this.targetDom.querySelector(".ax-tools"),this.pages=this.targetDom.querySelector(".ax-pages"),this.operate=this.targetDom.querySelector(".ax-operate"),this.stage=this.targetDom.querySelector(".ax-stage"),this.swiper=this.stage.querySelector(".ax-swiper"),this.swiperWrapper=this.swiper.querySelector(".ax-wrapper"),this.createBtn()}createBtn(){this.btnShare=axStrToDom('<i class="ax-iconfont ax-icon-share-f" share></i>'),this.btnDownload=axStrToDom('<a href="###" class="ax-iconfont ax-icon-download" target="_blank" download></a>'),this.btnZoom=axStrToDom('<i class="ax-iconfont ax-icon-zoomin" zoom></i>'),this.btnList=axStrToDom('<i class="ax-iconfont ax-icon-list" list></i>'),this.options.thumb&&this.operate.insertAdjacentElement("afterbegin",this.btnList),this.options.download&&this.operate.insertAdjacentElement("afterbegin",this.btnDownload),this.options.zoom&&this.operate.insertAdjacentElement("afterbegin",this.btnZoom),this.options.share&&this.operate.insertAdjacentElement("afterbegin",this.btnShare)}setAttribute(){for(let t=0,e=this.data.length;t<e;t++){this.data[t].hasOwnProperty("type")&&["iframe","video","text"].includes(this.data[t].type)&&(this.options.thumb=!1);break}this.data.length<2&&this.options.thumb}update(t,e){if(this.destroyed)return this;return this.options=axExtend(this.options,t),this.init(),this.options.onUpdate&&this.options.onUpdate.call(this),"update"in this.handlers&&this.emit("update",""),e&&e.call(this),this}show(t){if(this.destroyed||this.shown)return this;let e=this;return this.options.onShow&&this.options.onShow.call(this),"show"in this.handlers&&this.emit("show",""),this.targetDom.style.visibility="visible",this.targetDom.classList.add("ax-show"),this.button&&this.button.classList.add(this.options.btnClass),t&&t.call(this),this.options.onShown&&this.options.onShown.call(this),"shown"in this.handlers&&this.emit("shown",""),e.targetDom.onclick=function(t){e.overlayClose(t),e.closeArea.includes(!1)||e.zoomIn||e.hide()},this.shown=!0,this}hide(t){if(this.destroyed||!this.shown)return this;let e=this;return this.options.onHide&&this.options.onHide.call(this),"hide"in this.handlers&&this.emit("hide",""),this.button&&this.button.classList.remove(this.options.btnClass),this.targetDom.classList.remove("ax-show"),e.targetDom.addEventListener("transitionend",(function(){e.targetDom.remove()}),!1),this.shown=!1,this.targetDom.querySelectorAll("video,audio").forEach(t=>{t.pause()}),t&&t.call(this),this.options.onHidden&&this.options.onHidden.call(this),"hidden"in this.handlers&&this.emit("hidden",""),this}destroy(){return this.targetDom.remove(),callback&&callback.call(this),this.options.onDestroy&&this.options.onDestroy.call(this),"destroy"in this.handlers&&this.emit("destroy",""),this.destroyed=!0,this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}(()=>{let t=t=>{let e=axIdToDom(t),i=[{}],s=e.nodeName;return"A"==s?e.hasAttribute("href")&&-1==e.getAttribute("href").indexOf("##")&&(i[0].media=e.getAttribute("href"),i[0].cover=e.getAttribute("href")):"IMG"==s&&e.hasAttribute("src")&&(i[0].media=e.getAttribute("src"),i[0].cover=e.getAttribute("src")),e.hasAttribute("type")?i[0].type=e.getAttribute("type"):i[0].type="image",e.hasAttribute("title")?i[0].caption=e.getAttribute("title"):e.hasAttribute("alt")?i[0].caption=e.getAttribute("alt"):i[0].caption="",i},e=[],i=[...document.querySelectorAll("[axLightbox]")].filter(t=>t.getAttribute("axLightbox").includes("insName")),s={};for(let t=0,e=i.length;t<e;t++){let e=i[t],a=axAttrToJson(e,"axLightbox").insName;a&&(s.hasOwnProperty(a)?s[a].push(e):s[a]=[e])}for(let i in s){let a=0;s[i].forEach(s=>{s.slideIndex=a;let o=[],n=axAttrToJson(s,"axLightbox").src;o=n?axCreateData(n,["src","cover","caption","type"],"figure",["media","cover","caption","type"],["","","","image"],(function(t){t.forEach(t=>{t.cover||"image"!=t.type||(t.cover=t.media),t.cover=t.cover?t.cover:axImage.imgNone})})):t(s),a+=o.length,axIsEmpty(e)?e.push({name:i,data:o}):(e.forEach(t=>{t.name==i&&t.data.push(...o)}),e.some(t=>t.name==i)||e.push({name:i,data:o}))})}e.forEach(t=>{new axLightbox({insName:t.name,src:t.data})}),document.querySelectorAll("[axLightbox]").forEach(e=>{let i=axAttrToJson(e,"axLightbox"),s=i.insName;if(s){let t=axInstance.find(s,"lightbox");e.onclick=i=>{axPreventDefault(i),t&&(t.init(),t.insSwiper.slideTo(e.slideIndex,0),t.show())}}else i.src?e.onclick=t=>{axPreventDefault(t),new axLightbox("",e).init().show()}:e.onclick=i=>{axPreventDefault(i),new axLightbox({src:t(e)}).init().show()}})})();
/*!
* 插件：网页媒体懒加载；使用方法：new axLazyload('#id',{参数})
*/
class axLazyload{constructor(t,e){this.targetDom=axIdToDom(t),this.options=axExtend({type:"single",offset:"0px",visible:[0,.5,1],parent:null,animation:"ax-fadeIn",dataName:"src"},e,this.targetDom,"axLazyload"),this.handlers={},this.items=[],this.init()}init(){"single"==this.options.type||this.targetDom.classList.contains("ax-lazyload")||this.targetDom.classList.add("ax-lazyload"),this.interactOpt(),this.active()}active(){"single"==this.options.type?(this.mediaInteract(),this.items.push(this.targetDom),this.mediaInteract().observe(this.targetDom)):"multiple"==this.options.type&&(this.mediaInteract(),this.items=[...this.targetDom.querySelectorAll("[data-"+this.options.dataName+"]")],this.items.forEach(t=>{this.mediaInteract().observe(t)}))}interactOpt(){return this.offset=this.options.offset.replace(/\s*/g,"").split(","),1==this.offset.length?this.offset.push(...this.offset):offset.length>2&&this.offset.splice(0,2),{root:this.options.parent,rootMargin:this.offset[0]+" 0px "+this.offset[1]+" 0px",threshold:this.options.visible}}mediaInteract(){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.hasAttribute("data-"+this.options.dataName)&&(e.target.classList.add(this.options.animation),"VIDEO"==e.target.nodeName||"AUDIO"==e.target.nodeName?(e.target.src=e.target.dataset[this.options.dataName],e.target.querySelector("source").setAttribute("src",e.target.dataset[this.options.dataName])):e.target.setAttribute("src",e.target.dataset[this.options.dataName]),e.target.removeAttribute("data-"+this.options.dataName),t.unobserve(e.target),"shown"in this.handlers&&this.emit("shown",e.target))})},this.interactOpt());return t}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axLazyload]").forEach(t=>{new axLazyload(t,{type:"multiple"})}),document.querySelectorAll("[lazyload]").forEach(t=>{new axLazyload(t)});
/*!
* 插件：列表异步无限滚动；使用方法：new axInfinite('#id',{参数})
*/
class axInfinite{constructor(t,e){if(this.targetDom=axIdToDom(t),this.options=axExtend({type:"list",offset:"0px",visible:[0],url:"",urlMax:20,data:[],template:null,selector:"",trigger:"scroll",parent:null,animation:"ax-fadeIn",start:0,count:10,finishText:"没有更多内容了",nextBtn:'<button class="ax-btn ax-btn-primary ax-longer">查看更多</button>',ajaxType:"post",active:""},e,this.targetDom,"axInfinite"),this.handlers={},this.start=this.options.start,this.data=this.options.data,this.loadStatus=this.targetDom.querySelector(".ax-infinite-status")?this.targetDom.querySelector(".ax-infinite-status"):axAddElem("div",{class:"ax-infinite-status"}),this.loadingDiv=axAddElem("div",{class:"ax-infinite-loading"},'<span class="ax-loading"><i></i></span>'),this.resultDiv=axAddElem("div",{class:"ax-infinite-tips"}),this.nextDiv=axAddElem("div",{class:"ax-infinite-next"},this.options.nextBtn),this.nextButton=this.nextDiv.firstElementChild,this.loadStatus.insertAdjacentElement("afterbegin",this.loadingDiv),this.loadStatus.appendChild(this.resultDiv),this.url=[],"string"==typeof this.options.url)if(this.options.url.indexOf("{")>0&&this.options.url.indexOf("}")>0){let t=~~this.options.url.match(/\{(\S*)\}/)[1],e=`{${t}}`;for(let i=t;i<=t+this.options.urlMax;i++)this.url.push(this.options.url.replace(e,i))}else if("pagination"==this.options.url){[...this.loadStatus.querySelectorAll("[data-page]")].forEach(t=>{this.url.push(t.href)})}else this.options.url&&(this.url=[this.options.url]);else"Array"==axType(this.options.url)&&(this.url=this.options.url);this.options.template?"#"==this.options.template.trim().substr(0,1)?this.template=document.querySelector(this.options.template).innerHTML:this.template=this.options.template:this.template="",this.items=[],this.init()}init(){let t=this;"image"==this.options.type||this.targetDom.classList.contains("ax-infinite")||this.targetDom.classList.add("ax-infinite"),this.interactOpt(),"scroll"==this.options.trigger?this.active():"clicks"==this.options.trigger&&(this.loadStatus.appendChild(this.nextDiv),this.loadStatus.setAttribute("preloading",""),this.targetDom.appendChild(this.loadStatus),this.nextButton.onclick=function(){t.loadStatus.removeAttribute("preloading",""),t.loadStatus.removeAttribute("loaded",""),t.loadStatus.setAttribute("loading",""),"pages"==t.options.type?t.pageAjax(t.start):t.options.url&&t.options.template&&("json"==t.options.type?t.jsonAjax(t.start):"sql"==t.options.type&&t.sqlAjax(t.start,t.options.count))})}active(t,e){let i=this;if(axIsEmpty(t)||("Array"==axType(t)?this.url.push(...t):this.url.push(t)),"pages"==this.options.type)this.asyncInteract((function(){i.pageAjax(i.start)}));else if(!axIsEmpty(this.url)&&this.options.template)"json"==this.options.type?this.asyncInteract((function(){i.jsonAjax(i.start)})):"sql"==this.options.type&&this.asyncInteract((function(){i.sqlAjax(i.start,i.options.count)}));else if("list"==this.options.type){axIsEmpty(this.data)||this.renderList(this.data),[...this.targetDom.childNodes].filter(t=>1==t.nodeType).forEach(t=>{axOffset(t).top>window.innerHeight&&(t.setAttribute("infinite",""),this.items.push(t))}),this.listInteract(),this.items.forEach(t=>{this.listInteract().observe(t)})}e&&e.call(this),this.options.active&&this.options.active.call(this),"activated"in this.handlers&&this.emit("activated","")}interactOpt(){return this.offset=this.options.offset.replace(/\s*/g,"").split(","),1==this.offset.length?this.offset.push(...this.offset):offset.length>2&&this.offset.splice(0,2),{root:this.options.parent,rootMargin:this.offset[0]+" 0px "+this.offset[1]+" 0px",threshold:this.options.visible}}listInteract(){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.hasAttribute("infinite")&&(e.target.classList.add(this.options.animation),e.target.removeAttribute("infinite"),t.unobserve(e.target)),"shown"in this.handlers&&this.emit("shown",e.target))})},this.interactOpt());return t}asyncInteract(t){this.targetDom.appendChild(this.loadStatus),this.asyncObserver=new IntersectionObserver(e=>{e[0].isIntersecting&&t()},this.interactOpt()),this.asyncObserver.observe(this.loadStatus)}itemInteract(){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.hasAttribute("infinite")&&(e.target.classList.add(this.options.animation),e.target.removeAttribute("infinite"),t.unobserve(e.target),"shown"in this.handlers&&this.emit("shown",e.target))})},this.interactOpt());return t}renderList(t){let e=document.createDocumentFragment();t.forEach(t=>{let i=axStrToDom(axTplEngine(this.template,t));i.setAttribute("infinite",""),this.items.push(i),e.appendChild(i)}),this.targetDom.appendChild(e),"list"==!this.options.type&&this.targetDom.appendChild(this.loadStatus)}loadFinish(){"clicks"!=this.options.trigger&&this.asyncObserver.disconnect(),this.loadStatus.removeAttribute("loading"),this.loadStatus.removeAttribute("loaded"),this.loadStatus.setAttribute("finish",""),this.loadingDiv&&this.loadingDiv.remove(),this.nextDiv&&this.nextDiv.remove(),this.resultDiv.innerHTML=this.options.finishText,"finished"in this.handlers&&this.emit("finished","")}pageAjax(t){let e=this;axAjax({url:e.url[t],type:e.options.ajaxType,selector:e.options.selector,error:function(t,i){console.error(`发生错误：${i}，可能是地址错误！`),e.loadFinish()},success:function(t){e.targetDom.insertAdjacentHTML("beforeEnd",t),e.targetDom.appendChild(e.loadStatus),"clicks"==e.options.trigger&&(e.loadStatus.removeAttribute("loading",""),e.loadStatus.setAttribute("loaded","")),"loaded"in e.handlers&&e.emit("loaded",t),e.start++,e.start>=e.url.length&&e.loadFinish()}})}jsonAjax(t){let e=this;axAjax({url:e.url[t],type:e.options.ajaxType,error:function(t,i){console.error(`发生错误：${i}，可能是地址错误！`),e.loadFinish()},success:function(t){e.itemInteract(),e.renderList(t),e.targetDom.appendChild(e.loadStatus),"clicks"==e.options.trigger&&(e.loadStatus.removeAttribute("loading",""),e.loadStatus.setAttribute("loaded","")),e.items.forEach(t=>{e.itemInteract().observe(t)}),"loaded"in e.handlers&&e.emit("loaded",t),e.start++,e.start>=e.url.length&&e.loadFinish()}})}sqlAjax(t,e){let i=this;axAjax({url:i.options.url,type:i.options.ajaxType,data:{start:t,count:e},error:function(t,e){console.error(`发生错误：${e}，可能是地址错误！`),i.loadFinish()},success:function(t){i.itemInteract(),i.renderList(t.data),i.targetDom.appendChild(i.loadStatus),"clicks"==i.options.trigger&&(i.loadStatus.removeAttribute("loading",""),i.loadStatus.setAttribute("loaded","")),i.items.forEach(t=>{i.itemInteract().observe(t)}),"loaded"in i.handlers&&i.emit("loaded",t.data),i.start+=e,i.start>=t.total&&i.loadFinish()}})}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axInfinite]").forEach(t=>{new axInfinite(t)});
/*!
* 插件：进度条；使用方法：new axProgress('#id',{参数})
*/
class axProgress{constructor(t,e){let i;this.targetDom=axIdToDom(t),this.options=axExtend({type:"line",color:"",gradient:!1,linecap:"round",size:"",range:[0,100],value:0,duration:"",rotate:!1,trackShow:!0,labelFormat:"",labelShow:!0,lablePlace:"",labelText:{unit:"%",tips:"当前进度",complete:"完成!"},started:"",completed:"",processing:""},e,this.targetDom,"axProgress"),this.handlers={},this.circleWidth=251.2,this.semiWidth=125.6,this.gapWidth=167.6,i="circle"==this.options.type?this.circleWidth-this.options.value/this.options.range[1]*this.circleWidth:"semicircle"==this.options.type?this.semiWidth-this.options.value/this.options.range[1]*this.semiWidth:"gapcircle"==this.options.type?this.gapWidth-this.options.value/this.options.range[1]*this.gapWidth:Math.abs(this.options.value/(this.options.range[1]-this.options.range[0])*100),this.trueValue=this.getDecimals(i),this.value=this.options.value,this.complete=this.value==this.options.range[1],this.completeDom=axAddElem("span",{complete:""},`${this.options.labelText.complete}`),this.init()}init(){this.getTrueValue(this.options.value),this.createHtml(),this.setAttribute(),this.hasComplete(),this.options.started&&this.options.started.call(this),"started"in this.handlers&&this.emit("started","")}hasComplete(){this.complete?(this.targetDom.setAttribute("complete","true"),this.labelDom&&this.labelDom.appendChild(this.completeDom),this.options.completed&&this.options.completed.call(this),"completed"in this.handlers&&this.emit("completed","")):this.targetDom.removeAttribute("complete")}createAnimation(){let t;var e;void 0!==this.options.duration&&"number"==typeof this.options.duration?t=this.options.duration:(e=Math.abs(this.barDiffer),t=3*e+200);let i=(new Date).getTime(),s=()=>{this.complete&&(this.complete=!1,this.hasComplete());let e=(new Date).getTime()-i,a=e/t,o=axCurves.easeOut(a),n=this.lastValue+this.valueDiffer*o,r=this.lastTrueValue+this.barDiffer*o;if(e<=t){let t=this.getDecimals(n),e=this.getDecimals(r);"line"==this.options.type?this.bar.style.width=e+"%":this.bar.setAttribute("stroke-dashoffset",e),this.progressDom&&(this.progressDom.innerText=Math.trunc(n)),this.options.processing&&this.options.processing.call(this,t,e),"processing"in this.handlers&&this.emit("processing",t,e)}else"line"==this.options.type?this.bar.style.width=this.trueValue+"%":this.bar.setAttribute("stroke-dashoffset",this.trueValue),this.progressDom&&(this.progressDom.innerText=this.value),this.complete=this.value>=this.options.range[1];let l=requestAnimationFrame(s);e>t&&(cancelAnimationFrame(l),this.hasComplete(),this.value<=0&&(this.options.started&&this.options.started.call(this),"started"in this.handlers&&this.emit("started","")))};s()}getDecimals(t){return Math.floor(100*t)/100}getTrueValue(t){t<this.options.range[0]?t=this.options.range[0]:t>this.options.range[1]&&(t=this.options.range[1]),this.valueDiffer=t-this.value,this.lastValue=this.value,this.value=t,"circle"==this.options.type?(this.barDiffer=this.circleWidth-t/this.options.range[1]*this.circleWidth-this.trueValue,this.lastTrueValue=this.trueValue,this.trueValue=this.circleWidth-t/this.options.range[1]*this.circleWidth,this.trueValue>this.circleWidth?this.trueValue=this.circleWidth:this.trueValue=this.getDecimals(this.trueValue)):"semicircle"==this.options.type?(this.barDiffer=this.semiWidth-t/this.options.range[1]*this.semiWidth-this.trueValue,this.lastTrueValue=this.trueValue,this.trueValue=this.semiWidth-t/this.options.range[1]*this.semiWidth,this.trueValue>this.semiWidth?this.trueValue=this.semiWidth:this.trueValue=this.getDecimals(this.trueValue)):"gapcircle"==this.options.type?(this.barDiffer=this.gapWidth-t/this.options.range[1]*this.gapWidth-this.trueValue,this.lastTrueValue=this.trueValue,this.trueValue=this.gapWidth-t/this.options.range[1]*this.gapWidth,this.trueValue>this.gapWidth?this.trueValue=this.gapWidth:this.trueValue=this.getDecimals(this.trueValue)):"line"==this.options.type&&(this.barDiffer=Math.abs(t/(this.options.range[1]-this.options.range[0])*100)-this.trueValue,this.lastTrueValue=this.trueValue,this.trueValue=Math.abs(t/(this.options.range[1]-this.options.range[0])*100),this.trueValue>100?this.trueValue=100:this.trueValue=this.getDecimals(this.trueValue))}setAttribute(){this.targetDom.setAttribute("linecap",this.options.linecap),this.targetDom.setAttribute("type",this.options.type),this.options.size&&this.targetDom.setAttribute("size",this.options.size),this.options.color&&this.targetDom.setAttribute("color",this.options.color),this.options.gradient&&this.targetDom.setAttribute("gradient",""),!this.options.trackShow&&this.targetDom.setAttribute("track","false"),this.options.rotate&&(this.wrapper.classList.add("ax-rotate360"),this.wrapper.style.animationIterationCount="infinite")}createHtml(){let t;if("line"==this.options.type)this.wrapper=axAddElem("div",{track:""}),this.bar=axAddElem("div",{bar:"",style:`width:${this.trueValue}%`}),this.labelFormat=this.options.labelFormat?this.options.labelFormat:"<span label><i progress></i><i unit></i></span>";else{this.labelFormat=this.options.labelFormat?this.options.labelFormat:"<div label><div tips></div><div result><i progress></i><i unit></i></div></div>";let e="";this.options.gradient&&("primary"==this.options.color?e='\n                <linearGradient id="svgbar-primary" >\n                    <stop offset="0%" style="stop-color:var(--color-primary);" ></stop>\n                    <stop offset="100%" style="stop-color:var(--color-primary-like);" ></stop>\n                </linearGradient>\n              ':"secondary"==this.options.color?e='\n                <linearGradient id="svgbar-secondary" >\n                    <stop offset="0%" style="stop-color:var(--color-secondary);" ></stop>\n                    <stop offset="100%" style="stop-color:var(--color-secondary-like);" ></stop>\n                </linearGradient>\n              ':"danger"==this.options.color?e='\n                <linearGradient id="svgbar-danger" >\n                    <stop offset="0%" style="stop-color:var(--color-danger);" ></stop>\n                    <stop offset="100%" style="stop-color:var(--color-danger-like);" ></stop>\n                </linearGradient>\n              ':"success"==this.options.color?e='\n                <linearGradient id="svgbar-success" >\n                    <stop offset="0%" style="stop-color:var(--color-success);" ></stop>\n                    <stop offset="100%" style="stop-color:var(--color-success-like);" ></stop>\n                </linearGradient>\n              ':"warning"==this.options.color?e='\n            <linearGradient id="svgbar-warning" >\n                <stop offset="0%" style="stop-color:var(--color-warning);" ></stop>\n                <stop offset="100%" style="stop-color:var(--color-warning-like);" ></stop>\n            </linearGradient>\n          ':"info"==this.options.color?e='\n                <linearGradient id="svgbar-info" >\n                    <stop offset="0%" style="stop-color:var(--color-info);" ></stop>\n                    <stop offset="100%" style="stop-color:var(--color-info-like);" ></stop>\n                </linearGradient>\n              ':"ad"==this.options.color&&(e='\n                <linearGradient id="svgbar-ad" >\n                    <stop offset="0%" style="stop-color:var(--color-ad);" ></stop>\n                    <stop offset="100%" style="stop-color:var(--color-ad-like);"></stop>\n                </linearGradient>\n              ')),"circle"==this.options.type?t=`<svg viewBox="0 0 100 100">\n                            ${e}\n                            ${this.options.trackShow?'<path d="M 50 50 m -40 0 a 40 40 0 1 1 80 0  a 40 40 0 1 1 -80 0" track></path>':""}\n                            <path d="M 50 50 m -40 0 a 40 40 0 1 1 80 0  a 40 40 0 1 1 -80 0" bar stroke-dasharray=${this.circleWidth} stroke-linecap=${this.options.linecap}  stroke-dashoffset=${this.trueValue}></path>\n                       </svg>\n                        `:"semicircle"==this.options.type?t=`<svg viewBox="0 0 100 60">\n                            ${e}\n                            ${this.options.trackShow?`<path d="M 50 50 m -40 0 a 40 40 0 1 1 80 0" track stroke-linecap=${this.options.linecap}></path>`:""}\n                            <path d="M 50 50 m -40 0 a 40 40 0 1 1 80 0" bar stroke-dasharray=${this.semiWidth} stroke-linecap=${this.options.linecap} stroke-dashoffset=${this.trueValue}></path>\n                       </svg>\n                        `:"gapcircle"==this.options.type&&(t=`<svg viewBox="0 0 100 80">\n                            ${e}\n                            ${this.options.trackShow?`<path d="M15.367,70.026C11.954,64.137,10,57.296,10,49.999 C10,27.909,27.909,10,50,10c22.092,0,40,17.909,40,39.999c0,7.295-1.952,14.134-5.363,20.022" track stroke-linecap=${this.options.linecap}></path>`:""}\n                            <path d="M15.367,70.026C11.954,64.137,10,57.296,10,49.999 C10,27.909,27.909,10,50,10c22.092,0,40,17.909,40,39.999c0,7.295-1.952,14.134-5.363,20.022" bar stroke-dasharray=${this.gapWidth} stroke-linecap=${this.options.linecap} stroke-dashoffset=${this.trueValue}></path>\n                       </svg>\n                        `)}if(this.options.labelShow){if(this.options.labelPlace){let t=axIdToDom(this.options.labelPlace);t.insertAdjacentHTML("beforeEnd",this.labelFormat),this.labelDom=t.querySelector("[label]")}else this.targetDom.insertAdjacentHTML("beforeEnd",this.labelFormat),this.labelDom=this.targetDom.querySelector("[label]");this.progressDom=this.labelDom.querySelector("[progress]"),this.unitDom=this.labelDom.querySelector("[unit]"),this.tipsDom=this.labelDom.querySelector("[tips]"),this.progressDom&&(this.progressDom.innerHTML=this.value),this.unitDom&&(this.unitDom.innerHTML=this.options.labelText.unit),this.tipsDom&&(this.tipsDom.innerHTML=this.options.labelText.tips)}"line"==this.options.type?(this.wrapper.appendChild(this.bar),this.targetDom.insertAdjacentElement("afterBegin",this.wrapper)):(this.targetDom.insertAdjacentHTML("afterBegin",t),this.wrapper=this.targetDom.querySelector("svg"),this.bar=this.wrapper.querySelector("[bar]"),this.track=this.wrapper.querySelector("[track]"))}set(t,e){return this.getTrueValue(t),this.value!=this.lastValue&&(this.createAnimation(),e&&e.call(this),"seted"in this.handlers&&this.emit("seted",this.value,this.trueValue),this)}get(){return{value:this.value,trueValue:this.trueValue,lastValue:this.lastValue,lastTrueValue:this.lastTrueValue,complete:this.complete}}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axProgress]").forEach(t=>{new axProgress(t)});
/*!
 * 插件：创建单行文本域和多行文本域；使用方法：new axInput('#id',{参数})
 * text、textarea、hidden、url、tel、search、email、color、number、range、month、week、date、time、datetime、datetime-local
 * submit、reset和button特别，通过value设定名称
 * radio和checkbox请使用axCheckbox组件
 */
class axInput{constructor(t,e){this.targetDom=t?axIdToDom(t):"",this.options=axExtend({type:"text",name:"",value:"",limit:0,placeholder:"",width:"",height:"",size:"",className:"",props:"",toolsShow:!0,extend:"",clearShow:!1,onClear:"",onSet:"",onReset:"",onInit:"",onExceed:"",onInput:""},e,this.targetDom,"axInput"),this.handlers={},this.output={name:this.options.name},this.createElem(),this.setAttribute(),this.addExtend(this.options.extend)}createElem(){let t=()=>{"textarea"==this.options.type?this.field=axAddElem("textarea",{name:this.options.name,placeholder:this.options.placeholder}):"button"==this.options.type?this.field=axAddElem("button","",this.options.value):this.field=axAddElem("input",{type:this.options.type,name:this.options.name,placeholder:this.options.placeholder})};if(this.targetDom?"INPUT"==this.targetDom.nodeName||"TEXTAREA"==this.targetDom.nodeName||"BUTTON"==this.targetDom.nodeName?(this.parent=this.targetDom.parentElement,this.field=this.targetDom):(this.parent=this.targetDom,t()):(this.parent=axAddElem("div",{class:"ax-form-wrapper"}),t()),this.parent.appendChild(this.field),this.parent.querySelector(".ax-pos-right")?this.tools=this.parent.querySelector(".ax-pos-right"):this.tools=axAddElem("span",{class:"ax-pos-right"}),this.tools.querySelector("[clear]")?this.clearBtn=this.tools.querySelector("[clear]"):(this.clearBtn=axAddElem("a",{href:"###",class:"ax-iconfont ax-icon-close",clear:""}),this.options.clearShow&&this.tools.appendChild(this.clearBtn)),this.clearBtn&&(this.clearBtn.onclick=()=>{this.clear()}),this.options.toolsShow&&this.parent.appendChild(this.tools),this.options.limit){this.limit=axAddElem("div",{class:"ax-form-limit"},`已输入<i have>0</i>个字符,还可以输入<i remainder>${this.options.limit}</i>个字`);let t=this.limit.querySelector("[have]"),e=this.limit.querySelector("[remainder]");this.parent.appendChild(this.limit),this.field.oninput=()=>{let i=this.intercept(this.field.value);this.field.value=i.text,t&&(t.innerHTML=i.have),e&&(e.innerHTML=i.remainder),this.options.onInput&&this.options.onInput.call(this,this.output),"input"in this.handlers&&this.emit("input",this.output)}}this.options.value&&this.set(this.options.value),this.output.dom=this.field,this.output.parent=this.parent,this.output.type=this.options.type,this.options.onInit&&this.options.onInit.call(this,this.output)}setAttribute(){this.options.className&&this.field.setAttribute("class",this.options.className),this.options.width&&(this.field.style.width=this.options.width),this.options.height&&(this.field.style.height=this.options.height),this.options.size&&this.field.classList.add(`ax-${this.options.size}`);for(let t in this.options.props)this.field.setAttribute(t,this.options.props[t])}addExtend(t){if(!this.options.toolsShow)return!1;let e=t=>{let e=axAddElem(t.node||"a",{class:t.icon},t.text);if(e.setAttribute(t.name,""),t.props)for(let e in t.props)this.field.setAttribute(e,t.props[e]);this.tools.appendChild(e),t.callback&&t.callback.call(this,e,this.field)};Array.isArray(t)?t.forEach(t=>{e(t)}):e(t)}intercept(t){let e=t.length,i={};return e>=this.options.limit&&this.options.limit?(i={text:t.substring(0,this.options.limit),have:this.options.limit,remainder:0},this.limit&&this.limit.classList.add("ax-color-danger"),this.options.onExceed&&this.options.onExceed.call(this,this.output),"exceed"in this.handlers&&this.emit("exceed",this.output)):(this.limit&&this.limit.classList.remove("ax-color-danger"),i={text:t,have:t.length,remainder:Math.abs(this.options.limit-e)}),i}set(t,e){Array.isArray(t)?t=JSON.stringify(t[0]):"string"!=typeof t&&(t=JSON.stringify(t));let i=t.replace(/<[^>]+>/g,"").trim(),s=this.intercept(i);return this.field.value=s.text,this.limit&&(this.limit.querySelector("[have]")&&(this.limit.querySelector("[have]").innerHTML=s.have),this.limit.querySelector("[remainder]")&&(this.limit.querySelector("[remainder]").innerHTML=s.remainder)),this.output.value=this.field.value,e&&e.call(this,this.field,s.text,s.remainder),this.options.onSet&&this.options.onSet.call(this,this.field,s.text,s.remainder),"set"in this.handlers&&this.emit("set",this.field,s.text,s.remainder),this}getValues(){return this.field.value}clear(t){this.set(""),t&&t.call(this,this.field),this.options.onClear&&this.options.onClear.call(this,this.field),"clear"in this.handlers&&this.emit("clear",this.field)}reset(t){this.set(this.options.value),t&&t.call(this,this.field),this.options.onReset&&this.options.onReset.call(this,this.field),"reset"in this.handlers&&this.emit("reset",this.field)}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axInput]").forEach(t=>{new axInput(t)});
/*!
 * 插件：单选和多选文本域；使用方法：new axCheckbox('#id',{参数})
 */
class axCheckbox{constructor(t,e){this.targetDom=t?axIdToDom(t):"",this.options=axExtend({type:"checkbox",style:"beautify",name:"",children:"",value:"",limit:0,separator:",",size:"",parentClass:"",childClass:"",props:"",display:"",gap:"",columns:0,clearShow:!0,onClear:"",onSet:"",onReset:"",onAddChecked:"",onExceed:"",onInit:"",onChange:""},e,this.targetDom,this.constructor.name),this.handlers={},this.output={children:[]},this.getChildren(),this.name=this.options.name,this.trueLimit=this.children.length<=this.options.limit?this.children.length:this.options.limit,this.createParent(),this.setAttribute(),axIsEmpty(this.options.value)||this.set(this.options.value)}getChildren(){Array.isArray(this.options.children)?"object"==typeof this.options.children[0]?(this.options.children.forEach(t=>{t.hasOwnProperty("value")||(t.value=t.label)}),this.children=this.options.children):this.children=this.options.children.map(t=>({label:t,value:t})):"object"==typeof this.options.children?(this.options.children.hasOwnProperty("value")||(this.options.children.value=this.options.children.label),this.children=[this.options.children]):this.children=[{label:this.options.children,value:this.options.children}]}createParent(){this.targetDom&&"INPUT"!=this.targetDom.nodeName?this.parent=this.targetDom:(this.parent=axAddElem("div",{class:"ax-form-wrapper"}),"INPUT"==this.targetDom.nodeName&&(this.hidden=this.targetDom,this.hidden.insertAdjacentElement("beforeBegin",this.parent),this.name=this.targetDom.name,"hidden"!=this.hidden.type&&(this.hidden.style.display="none"))),this.children.length>0&&this.children.forEach(t=>{this.createElem(t)});let t=this.output.children.filter(t=>t.checked);for(let e=0,i=t.length;e<i;e++){let i=t[e],s=i.dom.querySelector("input");if("radio"==this.options.type){if(e>0){i.checked=!1;break}s.setAttribute("checked",""),i.checked=!0}else"checkbox"==this.options.type&&(e<this.trueLimit||!this.trueLimit?(s.setAttribute("checked",""),i.checked=!0):i.checked=!1)}this.options.limit&&(this.limit=axAddElem("div",{class:"ax-form-limit"},`已选择<i have>0</i>项,还可以选择<i remainder>${this.options.limit}</i>项`),this.resetLimit(),this.parent.insertAdjacentElement("afterend",this.limit)),this.output.name=this.name,this.output.parent=this.parent,this.output.type=this.options.type,this.output.value=this.getValues(),this.hidden&&(this.hidden.value=this.getValues("string",this.options.separator)),this.output.children.forEach(t=>{t.dom.querySelector("input").onchange=()=>{this.change(t)}}),this.options.onInit&&this.options.onInit.call(this,this.output)}createElem(t){let e=`<label class="ax-${"beautify"==this.options.style?this.options.type:this.options.style}"><input name="${this.name+"_ax_alt"}" value="${t.value}" ${t.disabled?"disabled":""} type="${this.options.type}"><u></u>${t.label?"<i>"+t.label+"</i>":""}</label>`,i=axStrToDom(axTplEngine(e,t)),s=axAddElem("div");this.options.childClass&&axClass.add(s,this.options.childClass),this.options.size&&i.classList.add(`ax-${this.options.size}`);for(let e in t.props)i.setAttribute(e,t.props[e]);"grid"==this.options.display||"block"==this.options.display?(s.appendChild(i),this.parent.appendChild(s)):this.parent.appendChild(i);let a={dom:i,label:t.label,value:t.value,checked:!!t.checked&&t.checked,disabled:!!t.disabled&&t.disabled};return this.output.children.push(a),t.callback&&t.callback.call(this,a),i}setAttribute(){this.options.parentClass&&axClass.add(this.parent,this.options.parentClass);for(let t in this.options.props)this.parent.setAttribute(t,this.options.props[t]);"grid"==this.options.display&&(this.parent.classList.add("ax-grid"),this.options.columns&&this.parent.classList.add(`ax-grid-${this.options.columns}`),this.options.gap&&(this.parent.style.gridColumnGap=this.options.gap))}change(t){let e=t.dom.querySelector("input");if(!t.value)return!1;if(e.checked){if("radio"==this.options.type){let t=this.output.children.find(t=>t.checked);t&&(t.checked=!1)}t.checked=!0}else t.checked=!1;let i=this.output.children.filter(t=>t.checked);this.trueLimit&&i.length>this.trueLimit&&(e.checked=!1,t.checked=!1),this.output.value=this.getValues(),this.hidden&&(this.hidden.value=this.getValues("string",this.options.separator),this.hidden.onchange&&this.hidden.onchange()),this.resetLimit(),this.intercept(),this.options.onChange&&this.options.onChange.call(this,t),"change"in this.handlers&&this.emit("change",t)}intercept(){let t=this.output.children.filter(t=>t.checked).length,e=!1;return!!this.trueLimit&&(t>=this.trueLimit?(e=!0,this.options.onExceed&&this.options.onExceed.call(this,this.output),"exceed"in this.handlers&&this.emit("exceed",this.output)):e=!1,e)}resetLimit(){if(!this.trueLimit)return!1;let t=this.output.children.filter(t=>t.checked).length,e=this.limit.querySelector("[have]"),i=this.limit.querySelector("[remainder]");t>=this.trueLimit?(this.limit&&this.limit.classList.add("ax-color-danger"),e.innerHTML=this.trueLimit,i.innerHTML=0):(this.limit&&this.limit.classList.remove("ax-color-danger"),e.innerHTML=t,i.innerHTML=this.trueLimit-t)}set(t,e){if("radio"==this.options.type){let e,i,s="";s=Array.isArray(t)?t[0]:t,s?(e=this.output.children.find(t=>t.value==s),i=this.output.children.filter(t=>t.value!=s),e&&(e.checked=!0,e.dom.querySelector("input").checked=!0),i.forEach(t=>{t.checked=!1,t.dom.querySelector("input").checked=!1})):(e=this.output.children.find(t=>t.checked),e&&(e.checked=!1,e.dom.querySelector("input").checked=!1))}else if("checkbox"==this.options.type){let e;e=Array.isArray(t)?t:"string"==typeof t?t.split(this.options.separator):[t],e=e.filter(Boolean),this.trueLimit&&e.length>this.trueLimit&&(e=e.slice(0,this.trueLimit)),this.output.children.forEach(t=>{let i=t.dom.querySelector("input");e.includes(t.value)?(t.checked=!0,i.checked=!0):(t.checked=!1,i.checked=!1)})}return this.output.value=this.getValues(),this.hidden&&(this.hidden.value=this.getValues("string",this.options.separator)),this.resetLimit(),e&&e.call(this,this.output),this.options.onSet&&this.options.onSet.call(this,this.output),"set"in this.handlers&&this.emit("set",this.output),this}addChecked(t,e){if("radio"==this.options.type)return console.error("Do not use this method of addChecked() in type of radio!"),!1;let i=[];i=Array.isArray(t)?t:[t],i=i.filter(Boolean);for(let t=0,e=i.length;t<e&&!this.intercept();t++){let e=i[t],s=this.output.children.find(t=>t.value==e);s.dom.querySelector("input").checked=!0,s.checked=!0,this.resetLimit()}this.output.value=this.getValues(),this.hidden&&(this.hidden.value=this.getValues("string",this.options.separator)),e&&e.call(this,i,this.output),this.options.onAddChecked&&this.options.onAddChecked.call(this,i,this.output),"addChecked"in this.handlers&&this.emit("addChecked",i,this.output)}checkedAll(t){this.output.children.forEach(t=>{t.dom.querySelector("input").checked=!0,t.checked=!0}),this.resetLimit(),this.output.value=this.getValues(),t&&t.call(this,this.output),this.options.onCheckedAll&&this.options.onCheckedAll.call(this,this.output),"checkedAll"in this.handlers&&this.emit("checkedAll",this.output)}getValues(t,e){t=t||"array",e=e||this.options.separator;let i=[];return this.output.children.forEach(e=>{e.checked&&("json"==t?i.push({label:e.label,value:e.value}):i.push(e.value))}),"string"==t&&(i=i.join(e)),i}reset(t){let e;if(this.options.value)e=this.options.value;else{let t=this.options.children.filter(t=>t.checked);e=[],t.forEach(t=>{e.push(t.value)})}this.set(e),t&&t.call(this,this.output),this.options.onReset&&this.options.onReset.call(this,this.output),"reset"in this.handlers&&this.emit("reset",this.output)}clear(t){this.output.children.forEach(t=>{t.checked&&(t.checked=!1,t.dom.querySelector("input").checked=!1)}),this.output.value=[],this.resetLimit(),t&&t.call(this,this.output),this.options.onClear&&this.options.onClear.call(this,this.output),"clear"in this.handlers&&this.emit("clear",this.output)}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axCheckbox]").forEach(t=>{new axCheckbox(t)});
/*!
 * 插件：复选列表全选和取消全选；使用方法：new axCheckAll('#id',{参数})
 */
class axCheckAll{constructor(t,e){if(this.targetDom=t?axIdToDom(t):"",!this.targetDom)return!1;this.options=axExtend({checkDom:"",clearDom:"",separator:",",includeDisabled:!0,onInit:"",onChecked:"",onCheckAll:"",onClearAll:""},e,this.targetDom,this.constructor.name),this.handlers={},this.checkDom=this.options.checkDom?axIdToDom(this.options.checkDom):"",this.clearDom=this.options.clearDom?axIdToDom(this.options.clearDom):"",this.list=[],this.listAvailable=[],this.toggleType="",this.state="",this.toggleBtns=[],this.name="",this.init()}init(){return this.getOptionsList(),0!==this.list.length&&(this.observeToggle(),this.observeList(),this.options.onInit&&this.options.onInit.call(this),this)}observeList(){this.setLinkage(),this.listAvailable.forEach(t=>{t.field.addEventListener("change",()=>{this.setLinkage()},!1)})}observeToggle(){this.checkDom&&"checkbox"===this.checkDom.type?(this.toggleType="checkbox",this.toggleBtns=[this.checkDom],this.checkDom.checked&&this.checkAll(),this.checkDom.addEventListener("change",()=>{this.checkDom.checked?this.checkAll():this.clearAll()},!1)):this.checkDom&&"radio"===this.checkDom.type?(this.toggleType="radio",this.toggleBtns=[...document.querySelectorAll(this.options.checkDom.replace("[","[name="))],1==axMultiValues(this.options.checkDom,"radio","string")&&this.checkAll(),this.toggleBtns.forEach(t=>{t.addEventListener("change",()=>{1==axMultiValues(this.options.checkDom,"radio","string")?this.checkAll():this.clearAll()},!1)})):(this.toggleType="button",this.checkDom&&(this.toggleBtns.push(this.checkDom),this.checkDom.onclick=()=>{this.checkAll()}),this.clearDom&&(this.toggleBtns.push(this.clearDom),this.clearDom.onclick=()=>{this.clearAll()}))}setLinkage(){let t=axMultiValues(this.name,"checkbox","array");if(0===t.length){if(this.state="cleared",this.toggleBtns.forEach(t=>{t.removeAttribute("checking")}),this.checkDom&&"checkbox"===this.toggleType)this.checkDom.checked=!1;else if(this.toggleType="radio"){let t=this.toggleBtns.find(t=>t.checked);t&&(t.checked=!1)}this.options.onClearAll&&this.options.onClearAll.call(this),"clearAll"in this.handlers&&this.emit("clearAll","")}else if(t.length===this.listAvailable.length){if(this.state="checked",this.toggleBtns.forEach(t=>{t.removeAttribute("checking")}),this.checkDom&&"checkbox"===this.toggleType)this.checkDom.checked=!0;else if(this.toggleType="radio"){let t=this.toggleBtns.find(t=>1==t.value);t&&(t.checked=!0)}this.options.onCheckAll&&this.options.onCheckAll.call(this),"checkAll"in this.handlers&&this.emit("checkAll","")}else this.state="checking",this.checkDom&&"checkbox"===this.toggleType?(this.checkDom.checked=!1,this.checkDom.setAttribute("checking","")):(this.toggleType="radio")&&this.toggleBtns.forEach(t=>{t.checked&&(t.checked=!1),1==t.value&&t.setAttribute("checking","")})}getOptionsList(t=this.options.includeDisabled){return[...this.targetDom.querySelectorAll("label")].forEach(e=>{let i=e.querySelector("input");t?this.list.push({dom:e,field:i,name:i.name,value:i.value}):e.field.disabled||this.list.push({dom:e,field:i,name:i.name,value:i.value})}),this.list.find(t=>!t.name)&&console.error("Checkbox must have name attribute!"),this.list.some(t=>t.name!=this.list[0].name)&&console.error("All names need to be consistent!"),this.list.find(t=>!t.value||!t.field.hasAttribute("value"))&&console.error("Checkbox must have a value!"),this.listAvailable=t?this.list.filter(t=>!t.field.disabled):this.list,this.name=this.listAvailable[0].name,this.list}getValues(t,e){t=t||"array",e=e||this.options.separator;let i=this.list.filter(t=>t.field.checked).map(t=>t.field.value);return"string"===t?i.join(e):"array"===t?i:""}checked(t,e){let i=[];if("string"==typeof t)i=t.split(this.options.separator);else{if(!Array.isArray(t))return!1;i=t}return i.forEach(t=>{let e=this.list.find(e=>e.value==t);e&&(e.field.checked=!0)}),this.setLinkage(),e&&e.call(this,i),this.options.onChecked&&this.options.onChecked.call(this,i),"checked"in this.handlers&&this.emit("checked",i),this}checkAll(t){return this.state="checked",this.list.forEach(t=>{t.field.disabled||(t.field.checked=!0)}),this.toggleBtns.forEach(t=>{t.removeAttribute("checking")}),t&&t.call(this),this.options.onCheckAll&&this.options.onCheckAll.call(this),"checkAll"in this.handlers&&this.emit("checkAll",""),this}clearAll(t){return this.state="cleared",this.list.forEach(t=>{t.field.checked&&(t.field.checked=!1)}),this.toggleBtns.forEach(t=>{t.removeAttribute("checking")}),t&&t.call(this),this.options.onClearAll&&this.options.onClearAll.call(this),"clearAll"in this.handlers&&this.emit("clearAll",""),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}document.querySelectorAll("[axCheckAll]").forEach(t=>{new axCheckAll(t)});
/*!
 * 插件：创建表单；使用方法：new axForm([{}],'#id')
 */
class axForm{constructor(t,e){this.targetDom=t?axIdToDom(t):null,this.form,this.output=[],this.handlers={},this.targetDom?"FORM"==this.targetDom.nodeName?this.form=this.targetDom:(this.form=axAddElem("form"),this.targetDom.appendChild(this.form)):this.form=axAddElem("form"),this.init(e)}init(t){return this.setAttribute(t),t.rows.forEach(e=>{this.createSection(e,t.style)}),t.onInit&&t.onInit.call(this,this.output),this}createTpl(t,e){let i="",s="",a="";if(t.title&&t.title.show&&(i=t.title.html?t.title.html:`<div class="ax-form-label${t.title.className?" "+t.title.className:""}">${t.title.text?t.title.text:""}</div>`),s="emulate"==e?'<div class="ax-break-line"></div>':"fit"==e?'<div class="ax-break ax-hide-tel"></div><div class="ax-break-line ax-hide-pad ax-hide-pc"></div>':'<div class="ax-break"></div>',!axIsEmpty(t.props))for(let e in t.props)a+=` ${e}="${t.props[e]}" `;return`\n                    <section${a}>\n                    ${t.before||""}\n                        <div class="ax-form-group">\n                            <div class="ax-flex-row">\n                                ${i}\n                                <div class="ax-form-con">\n                                    <div class="ax-form-input"></div>\n                                </div>\n                                ${t.tools?t.tools:""}\n                            </div>\n                        </div>\n                        ${t.after||""}\n                        ${s}\n                    </section >\n                    `}setAttribute(t){if("emulate"==t.style?this.form.classList.add("ax-emulate"):"fit"==t.style&&this.form.classList.add("ax-fit-tel"),t.className&&this.form.classList.add(t.className),!axIsEmpty(t.props))for(let e in t.props)this.form.setAttribute(e,t.props[e])}createCols(t,e,i,s,a,o){t.forEach(t=>{let n,r;"grid"==i?(e.classList.add("ax-grid"),n=axAddElem("div"),s&&e.classList.add("ax-grid-"+s),e.style.gridGap=a,r=n,e.appendChild(n),o(t,n)):"flex"==i?(e.classList.add("ax-row"),n=axAddElem("div",{class:"ax-col"}),r=n,e.appendChild(n),o(t,n)):(n=e,r=o(t,n)),t.prefix&&r.insertAdjacentHTML("beforebegin",t.prefix),t.suffix&&r.insertAdjacentHTML("afterend",t.suffix)})}createSection(t,e){let i=axStrToDom(this.createTpl(t,e)),s=i.querySelector(".ax-form-input");axIsEmpty(t.cols)?this.createItem(t,s):this.createCols(t.cols,s,t.display,t.columns,t.gap,(t,e)=>this.createItem(t,e)),this.form.appendChild(i)}createItem(t,e){let i,s={};if("select"==t.type)i=axAddElem("select",{name:t.name||"",...t.props}),t.className&&i.setAttribute("class",t.className),e.appendChild(i),t.options&&t.options.length>0&&t.options.forEach(t=>{let e=axAddElem("option",{value:t.value||""},t.label);t.checked&&e.setAttribute("selected",""),t.disabled&&e.setAttribute("disabled",""),i.appendChild(e),t.callback&&t.callback.call(this,e,t)});else if("radio"==t.type){for(let i in t.props)e.setAttribute(i,t.props[i]);t.className&&e.setAttribute("class",t.className),i=[],this.createCols(t.options,e,t.display,t.columns,t.gap,(e,s)=>{let a=axAddElem("input",{type:"radio",name:t.name||"",value:e.value||""}),o=axAddElem("label",{class:"ax-radio"},`<u></u><i> ${e.label}</i>`);return e.checked&&(a.checked=!0),e.disabled&&(a.disabled=!0),o.insertAdjacentElement("afterBegin",a),s.appendChild(o),i.push(a),o})}else if("checkbox"==t.type){for(let i in t.props)e.setAttribute(i,t.props[i]);t.className&&e.setAttribute("class",t.className),i=[],this.createCols(t.options,e,t.display,t.columns,t.gap,(e,s)=>{let a=axAddElem("input",{type:"checkbox",name:t.name||"",value:e.value||""}),o=axAddElem("label",{class:"ax-checkbox"},`<u></u><i> ${e.label}</i>`);return e.checked&&(a.checked=!0),e.disabled&&(a.disabled=!0),o.insertAdjacentElement("afterBegin",a),s.appendChild(o),i.push(a),o})}else"html"==t.type?(i=axAddElem("div",t.props,t.value||""),t.className&&i.setAttribute("class",t.className),e.appendChild(i)):"a"==t.type?(i=axAddElem("a",t.props,t.value||""),t.className&&i.setAttribute("class",t.className),e.appendChild(i)):"button"==t.type?(i=axAddElem("button",t.props,t.value||""),t.className&&i.setAttribute("class",t.className),e.appendChild(i)):"textarea"==t.type?(i=axAddElem("textarea",{name:t.name||"",value:t.value||"",...t.props}),t.readonly&&(i.readonly=!0),t.disabled&&(i.disabled=!0),t.className&&i.setAttribute("class",t.className),t.placeholder&&i.setAttribute("placeholder",t.placeholder),e.appendChild(i)):(i=axAddElem("input",{type:t.type,name:t.name||"",value:t.value||"",...t.props}),t.readonly&&(i.readonly=!0),t.disabled&&(i.disabled=!0),t.className&&i.setAttribute("class",t.className),t.placeholder&&i.setAttribute("placeholder",t.placeholder),e.appendChild(i));return s.name=t.name||"",s.value=t.value||"",s.field=i,s.parent=e,this.output.push(s),t.callback&&t.callback.call(this,s),i}get(t="string",e=","){let i=[];return this.output.forEach(t=>{i.push(t.field)}),i=i.flat(2).filter(t=>["INPUT","SELECT","TEXTAREA"].includes(t.nodeName)&&t.name),axSerialize(i,t,e)}update(t,e){return this.form.innerHTML="",this.output=[],this.init(t),t.onUpdate&&t.onUpdate.call(this,this.output),e&&e.call(this,this.output),"updated"in this.handlers&&this.emit("updated",this.output),this}on(t,e){return axAddPlan(t,e,this),this}emit(t,...e){axExePlan(t,this,...e)}off(t,e){return axDelPlan(t,e,this),this}}
/*!
*项目所需的立即执行的代码片段，避免污染全局变量
*/(()=>{"use strict";let t=document.querySelectorAll(".ax-pos-left");for(let e=0;e<t.length;e++){let i=t[e];"INPUT"!=i.nextElementSibling.nodeName&&"TEXTAREA"!=i.nextElementSibling.nodeName||(i.nextElementSibling.style.paddingLeft=`${axWidth(i,"outer")}px`)}window.addEventListener("resize",()=>{for(let e=0;e<t.length;e++){let i=t[e];"INPUT"!=i.nextElementSibling.nodeName&&"TEXTAREA"!=i.nextElementSibling.nodeName||(i.nextElementSibling.style.paddingLeft=`${axWidth(i,"outer")}px`)}},!1);let e=document.querySelectorAll(".ax-pos-right .ax-val-none");for(let t=0;t<e.length;t++){let i=e[t];i&&i.addEventListener("click",(function(){let t=this.parentElement.previousElementSibling;"INPUT"!=t.nodeName&&"TEXTAREA"!=t.nodeName||(t.value="")}),!1)}let i=document.querySelectorAll(".ax-panel");for(let t=0;t<i.length;t++){let e=i[t],s=axChildren(e,".ax-panel-header")[0],a=axChildren(e,".ax-panel-body")[0],o=s?s.querySelector(".ax-panel-close"):null;o&&o.addEventListener("click",(function(){"none"==getComputedStyle(a).display||"0px"==getComputedStyle(a).height?(this.classList.remove("ax-deg180"),axSlideDown(a)):(this.classList.add("ax-deg180"),axSlideUp(a))}),!1)}let s=document.querySelectorAll(".ax-box");for(let t=0;t<s.length;t++){let e=s[t],i=axChildren(e,".ax-box-header")[0],a=axChildren(e,".ax-box-body")[0],o=i?i.querySelector(".ax-box-close"):null;axChildren(i,".ax-des")||i.classList.add("ax-simple"),o&&o.addEventListener("click",(function(){"none"==getComputedStyle(a).display||"0px"==getComputedStyle(a).height?(this.classList.remove("ax-deg180"),axSlideDown(a)):(this.classList.add("ax-deg180"),axSlideUp(a))}),!1)}let a=document.querySelectorAll(".ax-backtop");for(let t=0;t<a.length;t++){let e=a[t],i=axChildren(e,".ax-item");for(let t=0;t<i.length;t++)i[t]&&(i[t].onmouseenter=function(){this.classList.add("ax-active"),this.querySelector(".ax-text")&&axFadeIn(this.querySelector(".ax-text"))},i[t].onmouseleave=function(){this.classList.remove("ax-active"),this.querySelector(".ax-text")&&axFadeOut(this.querySelector(".ax-text"))})}let o=document.querySelectorAll(".ax-totop");for(let t=0;t<o.length;t++)o[t].addEventListener("click",(function(){axScrollTo()}),!1);let n=document.querySelectorAll(".ax-ripple");for(let t=0;t<n.length;t++){let e=n[t],i=axWidth(e,"inner"),s=axHeight(e,"inner"),a=Math.max(i,s);e.addEventListener("click",(function(t){let i=t.clientX-(axOffset(this).left-document.documentElement.scrollLeft),s=t.clientY-(axOffset(this).top-document.documentElement.scrollTop),o=axAddElem("u",{style:`left: ${i}px;top: ${s}px; width: ${a}px;height: ${a}px`});e.appendChild(o),setTimeout(()=>{o.parentNode.removeChild(o)},800)}),!1)}window.axDodge=(t,e)=>{let i=(t=axIdToDom(t)).querySelector("input,textarea");return e?(t.classList.add("ax-active"),i.value=e):(t.classList.remove("ax-active"),i.value=e),t};let r=document.querySelectorAll(".ax-dodge");for(let t=0;t<r.length;t++){let e=r[t],i=e.querySelector("input,textarea"),s=i.getAttribute("placeholder"),a=document.createElement("label");s?(a.innerHTML=s,i.setAttribute("placeholder","")):a.innerHTML="请输入...",e.appendChild(a),i.onfocus=function(){e.classList.add("ax-active")},i.onblur=function(){this.value?e.classList.add("ax-active"):e.classList.remove("ax-active")},i.classList.contains("ax-lg")&&e.classList.add("ax-lg"),a.onclick=function(){i.focus()}}window.addEventListener("scroll",()=>{if(document.documentElement.scrollTop>=400)for(let t=0;t<o.length;t++)o[t].querySelector("a")&&o[t].querySelector("a").classList.add("ax-show");else for(let t=0;t<o.length;t++)o[t].querySelector("a")&&o[t].querySelector("a").classList.remove("ax-show")},!1)})();